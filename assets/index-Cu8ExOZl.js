(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Tg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function e0(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var n=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var s=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return i[o]}})}),n}var yh={exports:{}},ta={},vh={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function t0(){if(nm)return Ne;nm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,B={};function L(M,K,pe){this.props=M,this.context=K,this.refs=B,this.updater=pe||P}L.prototype.isReactComponent={},L.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function te(M,K,pe){this.props=M,this.context=K,this.refs=B,this.updater=pe||P}var ae=te.prototype=new Q;ae.constructor=te,x(ae,L.prototype),ae.isPureReactComponent=!0;var ye=Array.isArray,Ie=Object.prototype.hasOwnProperty,Pe={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function S(M,K,pe){var De,xe={},Ve=null,Fe=null;if(K!=null)for(De in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(Ve=""+K.key),K)Ie.call(K,De)&&!V.hasOwnProperty(De)&&(xe[De]=K[De]);var z=arguments.length-2;if(z===1)xe.children=pe;else if(1<z){for(var H=Array(z),J=0;J<z;J++)H[J]=arguments[J+2];xe.children=H}if(M&&M.defaultProps)for(De in z=M.defaultProps,z)xe[De]===void 0&&(xe[De]=z[De]);return{$$typeof:i,type:M,key:Ve,ref:Fe,props:xe,_owner:Pe.current}}function A(M,K){return{$$typeof:i,type:M.type,key:K,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function O(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return K[pe]})}var b=/\/+/g;function C(M,K){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):K.toString(36)}function nt(M,K,pe,De,xe){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(Ve){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case i:case e:Fe=!0}}if(Fe)return Fe=M,xe=xe(Fe),M=De===""?"."+C(Fe,0):De,ye(xe)?(pe="",M!=null&&(pe=M.replace(b,"$&/")+"/"),nt(xe,K,pe,"",function(J){return J})):xe!=null&&(D(xe)&&(xe=A(xe,pe+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(b,"$&/")+"/")+M)),K.push(xe)),1;if(Fe=0,De=De===""?".":De+":",ye(M))for(var z=0;z<M.length;z++){Ve=M[z];var H=De+C(Ve,z);Fe+=nt(Ve,K,pe,H,xe)}else if(H=I(M),typeof H=="function")for(M=H.call(M),z=0;!(Ve=M.next()).done;)Ve=Ve.value,H=De+C(Ve,z++),Fe+=nt(Ve,K,pe,H,xe);else if(Ve==="object")throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function gt(M,K,pe){if(M==null)return M;var De=[],xe=0;return nt(M,De,"","",function(Ve){return K.call(pe,Ve,xe++)}),De}function At(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var We={current:null},oe={transition:null},ve={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Pe};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:gt,forEach:function(M,K,pe){gt(M,function(){K.apply(this,arguments)},pe)},count:function(M){var K=0;return gt(M,function(){K++}),K},toArray:function(M){return gt(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=L,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=te,Ne.StrictMode=o,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ne.act=le,Ne.cloneElement=function(M,K,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var De=x({},M.props),xe=M.key,Ve=M.ref,Fe=M._owner;if(K!=null){if(K.ref!==void 0&&(Ve=K.ref,Fe=Pe.current),K.key!==void 0&&(xe=""+K.key),M.type&&M.type.defaultProps)var z=M.type.defaultProps;for(H in K)Ie.call(K,H)&&!V.hasOwnProperty(H)&&(De[H]=K[H]===void 0&&z!==void 0?z[H]:K[H])}var H=arguments.length-2;if(H===1)De.children=pe;else if(1<H){z=Array(H);for(var J=0;J<H;J++)z[J]=arguments[J+2];De.children=z}return{$$typeof:i,type:M.type,key:xe,ref:Ve,props:De,_owner:Fe}},Ne.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ne.createElement=S,Ne.createFactory=function(M){var K=S.bind(null,M);return K.type=M,K},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:f,render:M}},Ne.isValidElement=D,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:At}},Ne.memo=function(M,K){return{$$typeof:y,type:M,compare:K===void 0?null:K}},Ne.startTransition=function(M){var K=oe.transition;oe.transition={};try{M()}finally{oe.transition=K}},Ne.unstable_act=le,Ne.useCallback=function(M,K){return We.current.useCallback(M,K)},Ne.useContext=function(M){return We.current.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M){return We.current.useDeferredValue(M)},Ne.useEffect=function(M,K){return We.current.useEffect(M,K)},Ne.useId=function(){return We.current.useId()},Ne.useImperativeHandle=function(M,K,pe){return We.current.useImperativeHandle(M,K,pe)},Ne.useInsertionEffect=function(M,K){return We.current.useInsertionEffect(M,K)},Ne.useLayoutEffect=function(M,K){return We.current.useLayoutEffect(M,K)},Ne.useMemo=function(M,K){return We.current.useMemo(M,K)},Ne.useReducer=function(M,K,pe){return We.current.useReducer(M,K,pe)},Ne.useRef=function(M){return We.current.useRef(M)},Ne.useState=function(M){return We.current.useState(M)},Ne.useSyncExternalStore=function(M,K,pe){return We.current.useSyncExternalStore(M,K,pe)},Ne.useTransition=function(){return We.current.useTransition()},Ne.version="18.3.1",Ne}var rm;function _i(){return rm||(rm=1,vh.exports=t0()),vh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function n0(){if(im)return ta;im=1;var i=_i(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var _,E={},I=null,P=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(P=p.ref);for(_ in p)o.call(p,_)&&!l.hasOwnProperty(_)&&(E[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:f,key:I,ref:P,props:E,_owner:s.current}}return ta.Fragment=n,ta.jsx=h,ta.jsxs=h,ta}var om;function r0(){return om||(om=1,yh.exports=n0()),yh.exports}var we=r0(),W=_i(),Ql={},_h={exports:{}},an={},wh={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function i0(){return sm||(sm=1,function(i){function e(oe,ve){var le=oe.length;oe.push(ve);e:for(;0<le;){var M=le-1>>>1,K=oe[M];if(0<s(K,ve))oe[M]=ve,oe[le]=K,le=M;else break e}}function n(oe){return oe.length===0?null:oe[0]}function o(oe){if(oe.length===0)return null;var ve=oe[0],le=oe.pop();if(le!==ve){oe[0]=le;e:for(var M=0,K=oe.length,pe=K>>>1;M<pe;){var De=2*(M+1)-1,xe=oe[De],Ve=De+1,Fe=oe[Ve];if(0>s(xe,le))Ve<K&&0>s(Fe,xe)?(oe[M]=Fe,oe[Ve]=le,M=Ve):(oe[M]=xe,oe[De]=le,M=De);else if(Ve<K&&0>s(Fe,le))oe[M]=Fe,oe[Ve]=le,M=Ve;else break e}}return ve}function s(oe,ve){var le=oe.sortIndex-ve.sortIndex;return le!==0?le:oe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();i.unstable_now=function(){return h.now()-f}}var p=[],y=[],_=1,E=null,I=3,P=!1,x=!1,B=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(oe){for(var ve=n(y);ve!==null;){if(ve.callback===null)o(y);else if(ve.startTime<=oe)o(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(y)}}function ye(oe){if(B=!1,ae(oe),!x)if(n(p)!==null)x=!0,At(Ie);else{var ve=n(y);ve!==null&&We(ye,ve.startTime-oe)}}function Ie(oe,ve){x=!1,B&&(B=!1,Q(S),S=-1),P=!0;var le=I;try{for(ae(ve),E=n(p);E!==null&&(!(E.expirationTime>ve)||oe&&!O());){var M=E.callback;if(typeof M=="function"){E.callback=null,I=E.priorityLevel;var K=M(E.expirationTime<=ve);ve=i.unstable_now(),typeof K=="function"?E.callback=K:E===n(p)&&o(p),ae(ve)}else o(p);E=n(p)}if(E!==null)var pe=!0;else{var De=n(y);De!==null&&We(ye,De.startTime-ve),pe=!1}return pe}finally{E=null,I=le,P=!1}}var Pe=!1,V=null,S=-1,A=5,D=-1;function O(){return!(i.unstable_now()-D<A)}function b(){if(V!==null){var oe=i.unstable_now();D=oe;var ve=!0;try{ve=V(!0,oe)}finally{ve?C():(Pe=!1,V=null)}}else Pe=!1}var C;if(typeof te=="function")C=function(){te(b)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,gt=nt.port2;nt.port1.onmessage=b,C=function(){gt.postMessage(null)}}else C=function(){L(b,0)};function At(oe){V=oe,Pe||(Pe=!0,C())}function We(oe,ve){S=L(function(){oe(i.unstable_now())},ve)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(oe){oe.callback=null},i.unstable_continueExecution=function(){x||P||(x=!0,At(Ie))},i.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<oe?Math.floor(1e3/oe):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var ve=3;break;default:ve=I}var le=I;I=ve;try{return oe()}finally{I=le}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=I;I=oe;try{return ve()}finally{I=le}},i.unstable_scheduleCallback=function(oe,ve,le){var M=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?M+le:M):le=M,oe){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=le+K,oe={id:_++,callback:ve,priorityLevel:oe,startTime:le,expirationTime:K,sortIndex:-1},le>M?(oe.sortIndex=le,e(y,oe),n(p)===null&&oe===n(y)&&(B?(Q(S),S=-1):B=!0,We(ye,le-M))):(oe.sortIndex=K,e(p,oe),x||P||(x=!0,At(Ie))),oe},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(oe){var ve=I;return function(){var le=I;I=ve;try{return oe.apply(this,arguments)}finally{I=le}}}}(Eh)),Eh}var am;function o0(){return am||(am=1,wh.exports=i0()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function s0(){if(lm)return an;lm=1;var i=_i(),e=o0();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(s[t]=r,t=0;t<r.length;t++)o.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(t){return p.call(E,t)?!0:p.call(_,t)?!1:y.test(t)?E[t]=!0:(_[t]=!0,!1)}function P(t,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x(t,r,a,c){if(r===null||typeof r>"u"||P(t,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function B(t,r,a,c,d,g,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=g,this.removeEmptyString=w}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];L[r]=new B(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,te);L[r]=new B(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,te);L[r]=new B(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,te);L[r]=new B(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function ae(t,r,a,c){var d=L.hasOwnProperty(r)?L[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(x(r,a,d,c)&&(a=null),c||d===null?I(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):d.mustUseProperty?t[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?t.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?t.setAttributeNS(c,r,a):t.setAttribute(r,a))))}var ye=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,M;function K(t){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+t}var pe=!1;function De(t,r){if(!t||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var c=$}Reflect.construct(t,[],r)}else{try{r.call()}catch($){c=$}t.call(r.prototype)}else{try{throw Error()}catch($){c=$}t()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,R=g.length-1;1<=w&&0<=R&&d[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(d[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||d[w]!==g[R]){var k=`
`+d[w].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=w&&0<=R);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?K(t):""}function xe(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=De(t.type,!1),t;case 11:return t=De(t.type.render,!1),t;case 1:return t=De(t.type,!0),t;default:return""}}function Ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Pe:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case nt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case b:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gt:return r=t.displayName||null,r!==null?r:Ve(t.type)||"Memo";case At:r=t._payload,t=t._init;try{return Ve(t(r))}catch{}}return null}function Fe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function z(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function J(t){var r=H(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function G(t){t._valueTracker||(t._valueTracker=J(t))}function Oe(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return t&&(c=H(t)?t.checked?"true":"false":t.value),t=c,t!==a?(r.setValue(t),!0):!1}function se(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ae(t,r){var a=r.checked;return le({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function $e(t,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=z(r.value!=null?r.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ke(t,r){r=r.checked,r!=null&&ae(t,"checked",r,!1)}function He(t,r){Ke(t,r);var a=z(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ct(t,r.type,a):r.hasOwnProperty("defaultValue")&&Ct(t,r.type,z(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Jt(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Ct(t,r,a){(r!=="number"||se(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var ft=Array.isArray;function cn(t,r,a,c){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&c&&(t[a].defaultSelected=!0)}else{for(a=""+z(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function yr(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xn(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(ft(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:z(a)}}function Jn(t,r){var a=z(r.value),c=z(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Dn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ot(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vn,Fr=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,a,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Vn=Vn||document.createElement("div"),Vn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Nn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zn=["Webkit","ms","Moz","O"];Object.keys(hn).forEach(function(t){Zn.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),hn[r]=hn[t]})});function fs(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||hn.hasOwnProperty(t)&&hn[t]?(""+r).trim():r+"px"}function ds(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=fs(a,r[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,d):t[a]=d}}var ps=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ms(t,r){if(r){if(ps[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function gs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ei=null;function to(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var no=null,wn=null,er=null;function ro(t){if(t=Us(t)){if(typeof no!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ll(r),no(t.stateNode,t.type,r))}}function tr(t){wn?er?er.push(t):er=[t]:wn=t}function ys(){if(wn){var t=wn,r=er;if(er=wn=null,ro(t),r)for(t=0;t<r.length;t++)ro(r[t])}}function Ti(t,r){return t(r)}function vs(){}var vr=!1;function _s(t,r,a){if(vr)return t(r,a);vr=!0;try{return Ti(t,r,a)}finally{vr=!1,(wn!==null||er!==null)&&(vs(),ys())}}function dt(t,r){var a=t.stateNode;if(a===null)return null;var c=ll(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var io=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){io=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{io=!1}function Ii(t,r,a,c,d,g,w,R,k){var $=Array.prototype.slice.call(arguments,3);try{r.apply(a,$)}catch(ee){this.onError(ee)}}var Si=!1,oo=null,Ln=!1,ws=null,Hu={onError:function(t){Si=!0,oo=t}};function so(t,r,a,c,d,g,w,R,k){Si=!1,oo=null,Ii.apply(Hu,arguments)}function Na(t,r,a,c,d,g,w,R,k){if(so.apply(this,arguments),Si){if(Si){var $=oo;Si=!1,oo=null}else throw Error(n(198));Ln||(Ln=!0,ws=$)}}function Mn(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Ri(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function bn(t){if(Mn(t)!==t)throw Error(n(188))}function Oa(t){var r=t.alternate;if(!r){if(r=Mn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,c=r;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return bn(d),t;if(g===c)return bn(d),r;g=g.sibling}throw Error(n(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,R=d.child;R;){if(R===a){w=!0,a=d,c=g;break}if(R===c){w=!0,c=d,a=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===a){w=!0,a=g,c=d;break}if(R===c){w=!0,c=g,a=d;break}R=R.sibling}if(!w)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function Es(t){return t=Oa(t),t!==null?ao(t):null}function ao(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ao(t);if(r!==null)return r;t=t.sibling}return null}var lo=e.unstable_scheduleCallback,Ts=e.unstable_cancelCallback,La=e.unstable_shouldYield,Wu=e.unstable_requestPaint,Xe=e.unstable_now,Ma=e.unstable_getCurrentPriorityLevel,Ai=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Is=e.unstable_LowPriority,ba=e.unstable_IdlePriority,Ci=null,fn=null;function Fa(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Ua,Ss=Math.log,ja=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Ss(t)/ja|0)|0}var uo=64,co=4194304;function Ur(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pi(t,r){var a=t.pendingLanes;if(a===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes,w=a&268435455;if(w!==0){var R=w&~d;R!==0?c=Ur(R):(g&=w,g!==0&&(c=Ur(g)))}else w=a&~d,w!==0?c=Ur(w):g!==0&&(c=Ur(g));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,g=r&-r,d>=g||d===16&&(g&4194240)!==0))return r;if(c&4&&(c|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)a=31-Gt(r),d=1<<a,c|=t[a],r&=~d;return c}function Qu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _r(t,r){for(var a=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes;0<g;){var w=31-Gt(g),R=1<<w,k=d[w];k===-1?(!(R&a)||R&c)&&(d[w]=Qu(R,r)):k<=r&&(t.expiredLanes|=R),g&=~R}}function dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ki(){var t=uo;return uo<<=1,!(uo&4194240)&&(uo=64),t}function Br(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function zr(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Gt(r),t[r]=a}function Ye(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var d=31-Gt(a),g=1<<d;r[d]=0,c[d]=-1,t[d]=-1,a&=~g}}function $r(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var c=31-Gt(a),d=1<<c;d&r|t[c]&r&&(t[c]|=r),a&=~d}}var Me=0;function qr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ba,ho,za,$a,qa,Rs=!1,nr=[],Nt=null,Fn=null,jn=null,Hr=new Map,Tn=new Map,rr=[],Gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Hr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(r.pointerId)}}function Zt(t,r,a,c,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Us(r),r!==null&&ho(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Ku(t,r,a,c,d){switch(r){case"focusin":return Nt=Zt(Nt,t,r,a,c,d),!0;case"dragenter":return Fn=Zt(Fn,t,r,a,c,d),!0;case"mouseover":return jn=Zt(jn,t,r,a,c,d),!0;case"pointerover":var g=d.pointerId;return Hr.set(g,Zt(Hr.get(g)||null,t,r,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Tn.set(g,Zt(Tn.get(g)||null,t,r,a,c,d)),!0}return!1}function Wa(t){var r=Oi(t.target);if(r!==null){var a=Mn(r);if(a!==null){if(r=a.tag,r===13){if(r=Ri(a),r!==null){t.blockedOn=r,qa(t.priority,function(){za(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fo(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Ei=c,a.target.dispatchEvent(c),Ei=null}else return r=Us(a),r!==null&&ho(r),t.blockedOn=a,!1;r.shift()}return!0}function xi(t,r,a){wr(t)&&a.delete(r)}function Qa(){Rs=!1,Nt!==null&&wr(Nt)&&(Nt=null),Fn!==null&&wr(Fn)&&(Fn=null),jn!==null&&wr(jn)&&(jn=null),Hr.forEach(xi),Tn.forEach(xi)}function Un(t,r){t.blockedOn===r&&(t.blockedOn=null,Rs||(Rs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qa)))}function Bn(t){function r(d){return Un(d,t)}if(0<nr.length){Un(nr[0],t);for(var a=1;a<nr.length;a++){var c=nr[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Nt!==null&&Un(Nt,t),Fn!==null&&Un(Fn,t),jn!==null&&Un(jn,t),Hr.forEach(r),Tn.forEach(r),a=0;a<rr.length;a++)c=rr[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)Wa(a),a.blockedOn===null&&rr.shift()}var Er=ye.ReactCurrentBatchConfig,Wr=!0;function rt(t,r,a,c){var d=Me,g=Er.transition;Er.transition=null;try{Me=1,As(t,r,a,c)}finally{Me=d,Er.transition=g}}function Yu(t,r,a,c){var d=Me,g=Er.transition;Er.transition=null;try{Me=4,As(t,r,a,c)}finally{Me=d,Er.transition=g}}function As(t,r,a,c){if(Wr){var d=fo(t,r,a,c);if(d===null)ac(t,r,c,Di,a),Ha(t,c);else if(Ku(d,t,r,a,c))c.stopPropagation();else if(Ha(t,c),r&4&&-1<Gu.indexOf(t)){for(;d!==null;){var g=Us(d);if(g!==null&&Ba(g),g=fo(t,r,a,c),g===null&&ac(t,r,c,Di,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else ac(t,r,c,null,a)}}var Di=null;function fo(t,r,a,c){if(Di=null,t=to(c),t=Oi(t),t!==null)if(r=Mn(t),r===null)t=null;else if(a=r.tag,a===13){if(t=Ri(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Di=t,null}function Cs(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ma()){case Ai:return 1;case jr:return 4;case En:case Is:return 16;case ba:return 536870912;default:return 16}default:return 16}}var pn=null,po=null,en=null;function Ps(){if(en)return en;var t,r=po,a=r.length,c,d="value"in pn?pn.value:pn.textContent,g=d.length;for(t=0;t<a&&r[t]===d[t];t++);var w=a-t;for(c=1;c<=w&&r[a-c]===d[g-c];c++);return en=d.slice(t,1<c?1-c:void 0)}function mo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function ks(){return!1}function Ot(t){function r(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(a=t[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ir:ks,this.isPropagationStopped=ks,this}return le(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),r}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Ot(zn),or=le({},zn,{view:0,detail:0}),Xu=Ot(or),yo,Tr,Qr,Vi=le({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(yo=t.screenX-Qr.screenX,Tr=t.screenY-Qr.screenY):Tr=yo=0,Qr=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:Tr}}),vo=Ot(Vi),xs=le({},Vi,{dataTransfer:0}),Ga=Ot(xs),_o=le({},or,{relatedTarget:0}),wo=Ot(_o),Ka=le({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Ot(Ka),Ya=le({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=Ot(Ya),Ja=le({},zn,{data:0}),Ds=Ot(Ja),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Za[t])?!!r[t]:!1}function sr(){return el}var u=le({},or,{key:function(t){if(t.key){var r=Eo[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(t){return t.type==="keypress"?mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m=Ot(u),v=le({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Ot(v),F=le({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),q=Ot(F),ie=le({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ot(ie),Et=le({},Vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),je=Ot(Et),Pt=[9,13,27,32],yt=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var mn=f&&"TextEvent"in window&&!In,Ni=f&&(!yt||In&&8<In&&11>=In),To=" ",Yf=!1;function Xf(t,r){switch(t){case"keyup":return Pt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function Xv(t,r){switch(t){case"compositionend":return Jf(r);case"keypress":return r.which!==32?null:(Yf=!0,To);case"textInput":return t=r.data,t===To&&Yf?null:t;default:return null}}function Jv(t,r){if(Io)return t==="compositionend"||!yt&&Xf(t,r)?(t=Ps(),en=po=pn=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Zv[t.type]:r==="textarea"}function ed(t,r,a,c){tr(c),r=ol(r,"onChange"),0<r.length&&(a=new go("onChange","change",null,a,c),t.push({event:a,listeners:r}))}var Vs=null,Ns=null;function e_(t){vd(t,0)}function tl(t){var r=Po(t);if(Oe(r))return t}function t_(t,r){if(t==="change")return r}var td=!1;if(f){var Ju;if(f){var Zu="oninput"in document;if(!Zu){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Zu=typeof nd.oninput=="function"}Ju=Zu}else Ju=!1;td=Ju&&(!document.documentMode||9<document.documentMode)}function rd(){Vs&&(Vs.detachEvent("onpropertychange",id),Ns=Vs=null)}function id(t){if(t.propertyName==="value"&&tl(Ns)){var r=[];ed(r,Ns,t,to(t)),_s(e_,r)}}function n_(t,r,a){t==="focusin"?(rd(),Vs=r,Ns=a,Vs.attachEvent("onpropertychange",id)):t==="focusout"&&rd()}function r_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(Ns)}function i_(t,r){if(t==="click")return tl(r)}function o_(t,r){if(t==="input"||t==="change")return tl(r)}function s_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var $n=typeof Object.is=="function"?Object.is:s_;function Os(t,r){if($n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(r,d)||!$n(t[d],r[d]))return!1}return!0}function od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sd(t,r){var a=od(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=r&&c>=r)return{node:a,offset:r-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=od(a)}}function ad(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ad(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ld(){for(var t=window,r=se();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=se(t.document)}return r}function ec(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function a_(t){var r=ld(),a=t.focusedElem,c=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&ad(a.ownerDocument.documentElement,a)){if(c!==null&&ec(a)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!t.extend&&g>c&&(d=c,c=g,g=d),d=sd(a,g);var w=sd(a,c);d&&w&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),g>c?(t.addRange(r),t.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l_=f&&"documentMode"in document&&11>=document.documentMode,So=null,tc=null,Ls=null,nc=!1;function ud(t,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nc||So==null||So!==se(c)||(c=So,"selectionStart"in c&&ec(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ls&&Os(Ls,c)||(Ls=c,c=ol(tc,"onSelect"),0<c.length&&(r=new go("onSelect","select",null,r,a),t.push({event:r,listeners:c}),r.target=So)))}function nl(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ro={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},rc={},cd={};f&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function rl(t){if(rc[t])return rc[t];if(!Ro[t])return t;var r=Ro[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cd)return rc[t]=r[a];return t}var hd=rl("animationend"),fd=rl("animationiteration"),dd=rl("animationstart"),pd=rl("transitionend"),md=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(t,r){md.set(t,r),l(r,[t])}for(var ic=0;ic<gd.length;ic++){var oc=gd[ic],u_=oc.toLowerCase(),c_=oc[0].toUpperCase()+oc.slice(1);Gr(u_,"on"+c_)}Gr(hd,"onAnimationEnd"),Gr(fd,"onAnimationIteration"),Gr(dd,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(pd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function yd(t,r,a){var c=t.type||"unknown-event";t.currentTarget=a,Na(c,r,void 0,t),t.currentTarget=null}function vd(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],d=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var w=c.length-1;0<=w;w--){var R=c[w],k=R.instance,$=R.currentTarget;if(R=R.listener,k!==g&&d.isPropagationStopped())break e;yd(d,R,$),g=k}else for(w=0;w<c.length;w++){if(R=c[w],k=R.instance,$=R.currentTarget,R=R.listener,k!==g&&d.isPropagationStopped())break e;yd(d,R,$),g=k}}}if(Ln)throw t=ws,Ln=!1,ws=null,t}function Ze(t,r){var a=r[dc];a===void 0&&(a=r[dc]=new Set);var c=t+"__bubble";a.has(c)||(_d(r,t,2,!1),a.add(c))}function sc(t,r,a){var c=0;r&&(c|=4),_d(a,t,c,r)}var il="_reactListening"+Math.random().toString(36).slice(2);function bs(t){if(!t[il]){t[il]=!0,o.forEach(function(a){a!=="selectionchange"&&(h_.has(a)||sc(a,!1,t),sc(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[il]||(r[il]=!0,sc("selectionchange",!1,r))}}function _d(t,r,a,c){switch(Cs(r)){case 1:var d=rt;break;case 4:d=Yu;break;default:d=As}a=d.bind(null,r,a,t),d=void 0,!io||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function ac(t,r,a,c,d){var g=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&(k=w.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;w=w.return}for(;R!==null;){if(w=Oi(R),w===null)return;if(k=w.tag,k===5||k===6){c=g=w;continue e}R=R.parentNode}}c=c.return}_s(function(){var $=g,ee=to(a),ne=[];e:{var Z=md.get(t);if(Z!==void 0){var ue=go,de=t;switch(t){case"keypress":if(mo(a)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":de="focus",ue=wo;break;case"focusout":de="blur",ue=wo;break;case"beforeblur":case"afterblur":ue=wo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ga;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=q;break;case hd:case fd:case dd:ue=Ir;break;case pd:ue=Ge;break;case"scroll":ue=Xu;break;case"wheel":ue=je;break;case"copy":case"cut":case"paste":ue=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=T}var me=(r&4)!==0,pt=!me&&t==="scroll",j=me?Z!==null?Z+"Capture":null:Z;me=[];for(var N=$,U;N!==null;){U=N;var re=U.stateNode;if(U.tag===5&&re!==null&&(U=re,j!==null&&(re=dt(N,j),re!=null&&me.push(Fs(N,re,U)))),pt)break;N=N.return}0<me.length&&(Z=new ue(Z,de,null,a,ee),ne.push({event:Z,listeners:me}))}}if(!(r&7)){e:{if(Z=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",Z&&a!==Ei&&(de=a.relatedTarget||a.fromElement)&&(Oi(de)||de[Sr]))break e;if((ue||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,ue?(de=a.relatedTarget||a.toElement,ue=$,de=de?Oi(de):null,de!==null&&(pt=Mn(de),de!==pt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=$),ue!==de)){if(me=vo,re="onMouseLeave",j="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(me=T,re="onPointerLeave",j="onPointerEnter",N="pointer"),pt=ue==null?Z:Po(ue),U=de==null?Z:Po(de),Z=new me(re,N+"leave",ue,a,ee),Z.target=pt,Z.relatedTarget=U,re=null,Oi(ee)===$&&(me=new me(j,N+"enter",de,a,ee),me.target=U,me.relatedTarget=pt,re=me),pt=re,ue&&de)t:{for(me=ue,j=de,N=0,U=me;U;U=Ao(U))N++;for(U=0,re=j;re;re=Ao(re))U++;for(;0<N-U;)me=Ao(me),N--;for(;0<U-N;)j=Ao(j),U--;for(;N--;){if(me===j||j!==null&&me===j.alternate)break t;me=Ao(me),j=Ao(j)}me=null}else me=null;ue!==null&&wd(ne,Z,ue,me,!1),de!==null&&pt!==null&&wd(ne,pt,de,me,!0)}}e:{if(Z=$?Po($):window,ue=Z.nodeName&&Z.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Z.type==="file")var ge=t_;else if(Zf(Z))if(td)ge=o_;else{ge=r_;var Ee=n_}else(ue=Z.nodeName)&&ue.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=i_);if(ge&&(ge=ge(t,$))){ed(ne,ge,a,ee);break e}Ee&&Ee(t,Z,$),t==="focusout"&&(Ee=Z._wrapperState)&&Ee.controlled&&Z.type==="number"&&Ct(Z,"number",Z.value)}switch(Ee=$?Po($):window,t){case"focusin":(Zf(Ee)||Ee.contentEditable==="true")&&(So=Ee,tc=$,Ls=null);break;case"focusout":Ls=tc=So=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,ud(ne,a,ee);break;case"selectionchange":if(l_)break;case"keydown":case"keyup":ud(ne,a,ee)}var Te;if(yt)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Io?Xf(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Ni&&a.locale!=="ko"&&(Io||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Io&&(Te=Ps()):(pn=ee,po="value"in pn?pn.value:pn.textContent,Io=!0)),Ee=ol($,Se),0<Ee.length&&(Se=new Ds(Se,t,null,a,ee),ne.push({event:Se,listeners:Ee}),Te?Se.data=Te:(Te=Jf(a),Te!==null&&(Se.data=Te)))),(Te=mn?Xv(t,a):Jv(t,a))&&($=ol($,"onBeforeInput"),0<$.length&&(ee=new Ds("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:$}),ee.data=Te))}vd(ne,r)})}function Fs(t,r,a){return{instance:t,listener:r,currentTarget:a}}function ol(t,r){for(var a=r+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=dt(t,a),g!=null&&c.unshift(Fs(t,g,d)),g=dt(t,r),g!=null&&c.push(Fs(t,g,d))),t=t.return}return c}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,r,a,c,d){for(var g=r._reactName,w=[];a!==null&&a!==c;){var R=a,k=R.alternate,$=R.stateNode;if(k!==null&&k===c)break;R.tag===5&&$!==null&&(R=$,d?(k=dt(a,g),k!=null&&w.unshift(Fs(a,k,R))):d||(k=dt(a,g),k!=null&&w.push(Fs(a,k,R)))),a=a.return}w.length!==0&&t.push({event:r,listeners:w})}var f_=/\r\n?/g,d_=/\u0000|\uFFFD/g;function Ed(t){return(typeof t=="string"?t:""+t).replace(f_,`
`).replace(d_,"")}function sl(t,r,a){if(r=Ed(r),Ed(t)!==r&&a)throw Error(n(425))}function al(){}var lc=null,uc=null;function cc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,p_=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,m_=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(t){return Td.resolve(null).then(t).catch(g_)}:hc;function g_(t){setTimeout(function(){throw t})}function fc(t,r){var a=r,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){t.removeChild(d),Bn(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Bn(r)}function Kr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Id(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),ar="__reactFiber$"+Co,js="__reactProps$"+Co,Sr="__reactContainer$"+Co,dc="__reactEvents$"+Co,y_="__reactListeners$"+Co,v_="__reactHandles$"+Co;function Oi(t){var r=t[ar];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sr]||a[ar]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Id(t);t!==null;){if(a=t[ar])return a;t=Id(t)}return r}t=a,a=t.parentNode}return null}function Us(t){return t=t[ar]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ll(t){return t[js]||null}var pc=[],ko=-1;function Yr(t){return{current:t}}function et(t){0>ko||(t.current=pc[ko],pc[ko]=null,ko--)}function Je(t,r){ko++,pc[ko]=t.current,t.current=r}var Xr={},Bt=Yr(Xr),tn=Yr(!1),Li=Xr;function xo(t,r){var a=t.type.contextTypes;if(!a)return Xr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=r[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function nn(t){return t=t.childContextTypes,t!=null}function ul(){et(tn),et(Bt)}function Sd(t,r,a){if(Bt.current!==Xr)throw Error(n(168));Je(Bt,r),Je(tn,a)}function Rd(t,r,a){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,Fe(t)||"Unknown",d));return le({},a,c)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Li=Bt.current,Je(Bt,t),Je(tn,tn.current),!0}function Ad(t,r,a){var c=t.stateNode;if(!c)throw Error(n(169));a?(t=Rd(t,r,Li),c.__reactInternalMemoizedMergedChildContext=t,et(tn),et(Bt),Je(Bt,t)):et(tn),Je(tn,a)}var Rr=null,hl=!1,mc=!1;function Cd(t){Rr===null?Rr=[t]:Rr.push(t)}function __(t){hl=!0,Cd(t)}function Jr(){if(!mc&&Rr!==null){mc=!0;var t=0,r=Me;try{var a=Rr;for(Me=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Rr=null,hl=!1}catch(d){throw Rr!==null&&(Rr=Rr.slice(t+1)),lo(Ai,Jr),d}finally{Me=r,mc=!1}}return null}var Do=[],Vo=0,fl=null,dl=0,Sn=[],Rn=0,Mi=null,Ar=1,Cr="";function bi(t,r){Do[Vo++]=dl,Do[Vo++]=fl,fl=t,dl=r}function Pd(t,r,a){Sn[Rn++]=Ar,Sn[Rn++]=Cr,Sn[Rn++]=Mi,Mi=t;var c=Ar;t=Cr;var d=32-Gt(c)-1;c&=~(1<<d),a+=1;var g=32-Gt(r)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Ar=1<<32-Gt(r)+d|a<<d|c,Cr=g+t}else Ar=1<<g|a<<d|c,Cr=t}function gc(t){t.return!==null&&(bi(t,1),Pd(t,1,0))}function yc(t){for(;t===fl;)fl=Do[--Vo],Do[Vo]=null,dl=Do[--Vo],Do[Vo]=null;for(;t===Mi;)Mi=Sn[--Rn],Sn[Rn]=null,Cr=Sn[--Rn],Sn[Rn]=null,Ar=Sn[--Rn],Sn[Rn]=null}var gn=null,yn=null,it=!1,qn=null;function kd(t,r){var a=kn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function xd(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,gn=t,yn=Kr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,gn=t,yn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Mi!==null?{id:Ar,overflow:Cr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=kn(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,gn=t,yn=null,!0):!1;default:return!1}}function vc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _c(t){if(it){var r=yn;if(r){var a=r;if(!xd(t,r)){if(vc(t))throw Error(n(418));r=Kr(a.nextSibling);var c=gn;r&&xd(t,r)?kd(c,a):(t.flags=t.flags&-4097|2,it=!1,gn=t)}}else{if(vc(t))throw Error(n(418));t.flags=t.flags&-4097|2,it=!1,gn=t}}}function Dd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function pl(t){if(t!==gn)return!1;if(!it)return Dd(t),it=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!cc(t.type,t.memoizedProps)),r&&(r=yn)){if(vc(t))throw Vd(),Error(n(418));for(;r;)kd(t,r),r=Kr(r.nextSibling)}if(Dd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){yn=Kr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}yn=null}}else yn=gn?Kr(t.stateNode.nextSibling):null;return!0}function Vd(){for(var t=yn;t;)t=Kr(t.nextSibling)}function No(){yn=gn=null,it=!1}function wc(t){qn===null?qn=[t]:qn.push(t)}var w_=ye.ReactCurrentBatchConfig;function Bs(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,t));var d=c,g=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(w){var R=d.refs;w===null?delete R[g]:R[g]=w},r._stringRef=g,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function ml(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Nd(t){var r=t._init;return r(t._payload)}function Od(t){function r(j,N){if(t){var U=j.deletions;U===null?(j.deletions=[N],j.flags|=16):U.push(N)}}function a(j,N){if(!t)return null;for(;N!==null;)r(j,N),N=N.sibling;return null}function c(j,N){for(j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function d(j,N){return j=si(j,N),j.index=0,j.sibling=null,j}function g(j,N,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<N?(j.flags|=2,N):U):(j.flags|=2,N)):(j.flags|=1048576,N)}function w(j){return t&&j.alternate===null&&(j.flags|=2),j}function R(j,N,U,re){return N===null||N.tag!==6?(N=hh(U,j.mode,re),N.return=j,N):(N=d(N,U),N.return=j,N)}function k(j,N,U,re){var ge=U.type;return ge===V?ee(j,N,U.props.children,re,U.key):N!==null&&(N.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===At&&Nd(ge)===N.type)?(re=d(N,U.props),re.ref=Bs(j,N,U),re.return=j,re):(re=jl(U.type,U.key,U.props,null,j.mode,re),re.ref=Bs(j,N,U),re.return=j,re)}function $(j,N,U,re){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=fh(U,j.mode,re),N.return=j,N):(N=d(N,U.children||[]),N.return=j,N)}function ee(j,N,U,re,ge){return N===null||N.tag!==7?(N=Hi(U,j.mode,re,ge),N.return=j,N):(N=d(N,U),N.return=j,N)}function ne(j,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=hh(""+N,j.mode,U),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ie:return U=jl(N.type,N.key,N.props,null,j.mode,U),U.ref=Bs(j,null,N),U.return=j,U;case Pe:return N=fh(N,j.mode,U),N.return=j,N;case At:var re=N._init;return ne(j,re(N._payload),U)}if(ft(N)||ve(N))return N=Hi(N,j.mode,U,null),N.return=j,N;ml(j,N)}return null}function Z(j,N,U,re){var ge=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ge!==null?null:R(j,N,""+U,re);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:return U.key===ge?k(j,N,U,re):null;case Pe:return U.key===ge?$(j,N,U,re):null;case At:return ge=U._init,Z(j,N,ge(U._payload),re)}if(ft(U)||ve(U))return ge!==null?null:ee(j,N,U,re,null);ml(j,U)}return null}function ue(j,N,U,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number")return j=j.get(U)||null,R(N,j,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case Ie:return j=j.get(re.key===null?U:re.key)||null,k(N,j,re,ge);case Pe:return j=j.get(re.key===null?U:re.key)||null,$(N,j,re,ge);case At:var Ee=re._init;return ue(j,N,U,Ee(re._payload),ge)}if(ft(re)||ve(re))return j=j.get(U)||null,ee(N,j,re,ge,null);ml(N,re)}return null}function de(j,N,U,re){for(var ge=null,Ee=null,Te=N,Se=N=0,Dt=null;Te!==null&&Se<U.length;Se++){Te.index>Se?(Dt=Te,Te=null):Dt=Te.sibling;var qe=Z(j,Te,U[Se],re);if(qe===null){Te===null&&(Te=Dt);break}t&&Te&&qe.alternate===null&&r(j,Te),N=g(qe,N,Se),Ee===null?ge=qe:Ee.sibling=qe,Ee=qe,Te=Dt}if(Se===U.length)return a(j,Te),it&&bi(j,Se),ge;if(Te===null){for(;Se<U.length;Se++)Te=ne(j,U[Se],re),Te!==null&&(N=g(Te,N,Se),Ee===null?ge=Te:Ee.sibling=Te,Ee=Te);return it&&bi(j,Se),ge}for(Te=c(j,Te);Se<U.length;Se++)Dt=ue(Te,j,Se,U[Se],re),Dt!==null&&(t&&Dt.alternate!==null&&Te.delete(Dt.key===null?Se:Dt.key),N=g(Dt,N,Se),Ee===null?ge=Dt:Ee.sibling=Dt,Ee=Dt);return t&&Te.forEach(function(ai){return r(j,ai)}),it&&bi(j,Se),ge}function me(j,N,U,re){var ge=ve(U);if(typeof ge!="function")throw Error(n(150));if(U=ge.call(U),U==null)throw Error(n(151));for(var Ee=ge=null,Te=N,Se=N=0,Dt=null,qe=U.next();Te!==null&&!qe.done;Se++,qe=U.next()){Te.index>Se?(Dt=Te,Te=null):Dt=Te.sibling;var ai=Z(j,Te,qe.value,re);if(ai===null){Te===null&&(Te=Dt);break}t&&Te&&ai.alternate===null&&r(j,Te),N=g(ai,N,Se),Ee===null?ge=ai:Ee.sibling=ai,Ee=ai,Te=Dt}if(qe.done)return a(j,Te),it&&bi(j,Se),ge;if(Te===null){for(;!qe.done;Se++,qe=U.next())qe=ne(j,qe.value,re),qe!==null&&(N=g(qe,N,Se),Ee===null?ge=qe:Ee.sibling=qe,Ee=qe);return it&&bi(j,Se),ge}for(Te=c(j,Te);!qe.done;Se++,qe=U.next())qe=ue(Te,j,Se,qe.value,re),qe!==null&&(t&&qe.alternate!==null&&Te.delete(qe.key===null?Se:qe.key),N=g(qe,N,Se),Ee===null?ge=qe:Ee.sibling=qe,Ee=qe);return t&&Te.forEach(function(Z_){return r(j,Z_)}),it&&bi(j,Se),ge}function pt(j,N,U,re){if(typeof U=="object"&&U!==null&&U.type===V&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:e:{for(var ge=U.key,Ee=N;Ee!==null;){if(Ee.key===ge){if(ge=U.type,ge===V){if(Ee.tag===7){a(j,Ee.sibling),N=d(Ee,U.props.children),N.return=j,j=N;break e}}else if(Ee.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===At&&Nd(ge)===Ee.type){a(j,Ee.sibling),N=d(Ee,U.props),N.ref=Bs(j,Ee,U),N.return=j,j=N;break e}a(j,Ee);break}else r(j,Ee);Ee=Ee.sibling}U.type===V?(N=Hi(U.props.children,j.mode,re,U.key),N.return=j,j=N):(re=jl(U.type,U.key,U.props,null,j.mode,re),re.ref=Bs(j,N,U),re.return=j,j=re)}return w(j);case Pe:e:{for(Ee=U.key;N!==null;){if(N.key===Ee)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(j,N.sibling),N=d(N,U.children||[]),N.return=j,j=N;break e}else{a(j,N);break}else r(j,N);N=N.sibling}N=fh(U,j.mode,re),N.return=j,j=N}return w(j);case At:return Ee=U._init,pt(j,N,Ee(U._payload),re)}if(ft(U))return de(j,N,U,re);if(ve(U))return me(j,N,U,re);ml(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(j,N.sibling),N=d(N,U),N.return=j,j=N):(a(j,N),N=hh(U,j.mode,re),N.return=j,j=N),w(j)):a(j,N)}return pt}var Oo=Od(!0),Ld=Od(!1),gl=Yr(null),yl=null,Lo=null,Ec=null;function Tc(){Ec=Lo=yl=null}function Ic(t){var r=gl.current;et(gl),t._currentValue=r}function Sc(t,r,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===a)break;t=t.return}}function Mo(t,r){yl=t,Ec=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(rn=!0),t.firstContext=null)}function An(t){var r=t._currentValue;if(Ec!==t)if(t={context:t,memoizedValue:r,next:null},Lo===null){if(yl===null)throw Error(n(308));Lo=t,yl.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return r}var Fi=null;function Rc(t){Fi===null?Fi=[t]:Fi.push(t)}function Md(t,r,a,c){var d=r.interleaved;return d===null?(a.next=a,Rc(r)):(a.next=d.next,d.next=a),r.interleaved=a,Pr(t,c)}function Pr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Zr=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function ei(t,r,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,ze&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,Pr(t,a)}return d=c.interleaved,d===null?(r.next=r,Rc(c)):(r.next=d.next,d.next=r),c.interleaved=r,Pr(t,a)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,$r(t,a)}}function Fd(t,r){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=r:g=g.next=r}else d=g=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function _l(t,r,a,c){var d=t.updateQueue;Zr=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var k=R,$=k.next;k.next=null,w===null?g=$:w.next=$,w=k;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==w&&(R===null?ee.firstBaseUpdate=$:R.next=$,ee.lastBaseUpdate=k))}if(g!==null){var ne=d.baseState;w=0,ee=$=k=null,R=g;do{var Z=R.lane,ue=R.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:ue,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var de=t,me=R;switch(Z=r,ue=a,me.tag){case 1:if(de=me.payload,typeof de=="function"){ne=de.call(ue,ne,Z);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,Z=typeof de=="function"?de.call(ue,ne,Z):de,Z==null)break e;ne=le({},ne,Z);break e;case 2:Zr=!0}}R.callback!==null&&R.lane!==0&&(t.flags|=64,Z=d.effects,Z===null?d.effects=[R]:Z.push(R))}else ue={eventTime:ue,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?($=ee=ue,k=ne):ee=ee.next=ue,w|=Z;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(k=ne),d.baseState=k,d.firstBaseUpdate=$,d.lastBaseUpdate=ee,r=d.shared.interleaved,r!==null){d=r;do w|=d.lane,d=d.next;while(d!==r)}else g===null&&(d.shared.lanes=0);Bi|=w,t.lanes=w,t.memoizedState=ne}}function jd(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var zs={},lr=Yr(zs),$s=Yr(zs),qs=Yr(zs);function ji(t){if(t===zs)throw Error(n(174));return t}function Cc(t,r){switch(Je(qs,r),Je($s,t),Je(lr,zs),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ct(r,t)}et(lr),Je(lr,r)}function bo(){et(lr),et($s),et(qs)}function Ud(t){ji(qs.current);var r=ji(lr.current),a=ct(r,t.type);r!==a&&(Je($s,t),Je(lr,a))}function Pc(t){$s.current===t&&(et(lr),et($s))}var st=Yr(0);function wl(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var kc=[];function xc(){for(var t=0;t<kc.length;t++)kc[t]._workInProgressVersionPrimary=null;kc.length=0}var El=ye.ReactCurrentDispatcher,Dc=ye.ReactCurrentBatchConfig,Ui=0,at=null,Tt=null,kt=null,Tl=!1,Hs=!1,Ws=0,E_=0;function zt(){throw Error(n(321))}function Vc(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!$n(t[a],r[a]))return!1;return!0}function Nc(t,r,a,c,d,g){if(Ui=g,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?R_:A_,t=a(c,d),Hs){g=0;do{if(Hs=!1,Ws=0,25<=g)throw Error(n(301));g+=1,kt=Tt=null,r.updateQueue=null,El.current=C_,t=a(c,d)}while(Hs)}if(El.current=Rl,r=Tt!==null&&Tt.next!==null,Ui=0,kt=Tt=at=null,Tl=!1,r)throw Error(n(300));return t}function Oc(){var t=Ws!==0;return Ws=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?at.memoizedState=kt=t:kt=kt.next=t,kt}function Cn(){if(Tt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var r=kt===null?at.memoizedState:kt.next;if(r!==null)kt=r,Tt=t;else{if(t===null)throw Error(n(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},kt===null?at.memoizedState=kt=t:kt=kt.next=t}return kt}function Qs(t,r){return typeof r=="function"?r(t):r}function Lc(t){var r=Cn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=Tt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=w=null,k=null,$=g;do{var ee=$.lane;if((Ui&ee)===ee)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:t(c,$.action);else{var ne={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(R=k=ne,w=c):k=k.next=ne,at.lanes|=ee,Bi|=ee}$=$.next}while($!==null&&$!==g);k===null?w=c:k.next=R,$n(c,r.memoizedState)||(rn=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=k,a.lastRenderedState=c}if(t=a.interleaved,t!==null){d=t;do g=d.lane,at.lanes|=g,Bi|=g,d=d.next;while(d!==t)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Mc(t){var r=Cn(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var c=a.dispatch,d=a.pending,g=r.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=t(g,w.action),w=w.next;while(w!==d);$n(g,r.memoizedState)||(rn=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,c]}function Bd(){}function zd(t,r){var a=at,c=Cn(),d=r(),g=!$n(c.memoizedState,d);if(g&&(c.memoizedState=d,rn=!0),c=c.queue,bc(Hd.bind(null,a,c,t),[t]),c.getSnapshot!==r||g||kt!==null&&kt.memoizedState.tag&1){if(a.flags|=2048,Gs(9,qd.bind(null,a,c,d,r),void 0,null),xt===null)throw Error(n(349));Ui&30||$d(a,r,d)}return d}function $d(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function qd(t,r,a,c){r.value=a,r.getSnapshot=c,Wd(r)&&Qd(t)}function Hd(t,r,a){return a(function(){Wd(r)&&Qd(t)})}function Wd(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!$n(t,a)}catch{return!0}}function Qd(t){var r=Pr(t,1);r!==null&&Gn(r,t,1,-1)}function Gd(t){var r=ur();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},r.queue=t,t=t.dispatch=S_.bind(null,at,t),[r.memoizedState,t]}function Gs(t,r,a,c){return t={tag:t,create:r,destroy:a,deps:c,next:null},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,r.lastEffect=t)),t}function Kd(){return Cn().memoizedState}function Il(t,r,a,c){var d=ur();at.flags|=t,d.memoizedState=Gs(1|r,a,void 0,c===void 0?null:c)}function Sl(t,r,a,c){var d=Cn();c=c===void 0?null:c;var g=void 0;if(Tt!==null){var w=Tt.memoizedState;if(g=w.destroy,c!==null&&Vc(c,w.deps)){d.memoizedState=Gs(r,a,g,c);return}}at.flags|=t,d.memoizedState=Gs(1|r,a,g,c)}function Yd(t,r){return Il(8390656,8,t,r)}function bc(t,r){return Sl(2048,8,t,r)}function Xd(t,r){return Sl(4,2,t,r)}function Jd(t,r){return Sl(4,4,t,r)}function Zd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ep(t,r,a){return a=a!=null?a.concat([t]):null,Sl(4,4,Zd.bind(null,r,t),a)}function Fc(){}function tp(t,r){var a=Cn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Vc(r,c[1])?c[0]:(a.memoizedState=[t,r],t)}function np(t,r){var a=Cn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&Vc(r,c[1])?c[0]:(t=t(),a.memoizedState=[t,r],t)}function rp(t,r,a){return Ui&21?($n(a,r)||(a=ki(),at.lanes|=a,Bi|=a,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=a)}function T_(t,r){var a=Me;Me=a!==0&&4>a?a:4,t(!0);var c=Dc.transition;Dc.transition={};try{t(!1),r()}finally{Me=a,Dc.transition=c}}function ip(){return Cn().memoizedState}function I_(t,r,a){var c=ii(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},op(t))sp(r,a);else if(a=Md(t,r,a,c),a!==null){var d=Xt();Gn(a,t,c,d),ap(a,r,c)}}function S_(t,r,a){var c=ii(t),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(op(t))sp(r,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var w=r.lastRenderedState,R=g(w,a);if(d.hasEagerState=!0,d.eagerState=R,$n(R,w)){var k=r.interleaved;k===null?(d.next=d,Rc(r)):(d.next=k.next,k.next=d),r.interleaved=d;return}}catch{}finally{}a=Md(t,r,d,c),a!==null&&(d=Xt(),Gn(a,t,c,d),ap(a,r,c))}}function op(t){var r=t.alternate;return t===at||r!==null&&r===at}function sp(t,r){Hs=Tl=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function ap(t,r,a){if(a&4194240){var c=r.lanes;c&=t.pendingLanes,a|=c,r.lanes=a,$r(t,a)}}var Rl={readContext:An,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},R_={readContext:An,useCallback:function(t,r){return ur().memoizedState=[t,r===void 0?null:r],t},useContext:An,useEffect:Yd,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Il(4194308,4,Zd.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Il(4194308,4,t,r)},useInsertionEffect:function(t,r){return Il(4,2,t,r)},useMemo:function(t,r){var a=ur();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var c=ur();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=I_.bind(null,at,t),[c.memoizedState,t]},useRef:function(t){var r=ur();return t={current:t},r.memoizedState=t},useState:Gd,useDebugValue:Fc,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Gd(!1),r=t[0];return t=T_.bind(null,t[1]),ur().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var c=at,d=ur();if(it){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),xt===null)throw Error(n(349));Ui&30||$d(c,r,a)}d.memoizedState=a;var g={value:a,getSnapshot:r};return d.queue=g,Yd(Hd.bind(null,c,g,t),[t]),c.flags|=2048,Gs(9,qd.bind(null,c,g,a,r),void 0,null),a},useId:function(){var t=ur(),r=xt.identifierPrefix;if(it){var a=Cr,c=Ar;a=(c&~(1<<32-Gt(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Ws++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=E_++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},A_={readContext:An,useCallback:tp,useContext:An,useEffect:bc,useImperativeHandle:ep,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:np,useReducer:Lc,useRef:Kd,useState:function(){return Lc(Qs)},useDebugValue:Fc,useDeferredValue:function(t){var r=Cn();return rp(r,Tt.memoizedState,t)},useTransition:function(){var t=Lc(Qs)[0],r=Cn().memoizedState;return[t,r]},useMutableSource:Bd,useSyncExternalStore:zd,useId:ip,unstable_isNewReconciler:!1},C_={readContext:An,useCallback:tp,useContext:An,useEffect:bc,useImperativeHandle:ep,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:np,useReducer:Mc,useRef:Kd,useState:function(){return Mc(Qs)},useDebugValue:Fc,useDeferredValue:function(t){var r=Cn();return Tt===null?r.memoizedState=t:rp(r,Tt.memoizedState,t)},useTransition:function(){var t=Mc(Qs)[0],r=Cn().memoizedState;return[t,r]},useMutableSource:Bd,useSyncExternalStore:zd,useId:ip,unstable_isNewReconciler:!1};function Hn(t,r){if(t&&t.defaultProps){r=le({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function jc(t,r,a,c){r=t.memoizedState,a=a(c,r),a=a==null?r:le({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Al={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var c=Xt(),d=ii(t),g=kr(c,d);g.payload=r,a!=null&&(g.callback=a),r=ei(t,g,d),r!==null&&(Gn(r,t,d,c),vl(r,t,d))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var c=Xt(),d=ii(t),g=kr(c,d);g.tag=1,g.payload=r,a!=null&&(g.callback=a),r=ei(t,g,d),r!==null&&(Gn(r,t,d,c),vl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Xt(),c=ii(t),d=kr(a,c);d.tag=2,r!=null&&(d.callback=r),r=ei(t,d,c),r!==null&&(Gn(r,t,c,a),vl(r,t,c))}};function lp(t,r,a,c,d,g,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,w):r.prototype&&r.prototype.isPureReactComponent?!Os(a,c)||!Os(d,g):!0}function up(t,r,a){var c=!1,d=Xr,g=r.contextType;return typeof g=="object"&&g!==null?g=An(g):(d=nn(r)?Li:Bt.current,c=r.contextTypes,g=(c=c!=null)?xo(t,d):Xr),r=new r(a,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Al,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=g),r}function cp(t,r,a,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==t&&Al.enqueueReplaceState(r,r.state,null)}function Uc(t,r,a,c){var d=t.stateNode;d.props=a,d.state=t.memoizedState,d.refs={},Ac(t);var g=r.contextType;typeof g=="object"&&g!==null?d.context=An(g):(g=nn(r)?Li:Bt.current,d.context=xo(t,g)),d.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(jc(t,r,g,a),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Al.enqueueReplaceState(d,d.state,null),_l(t,a,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,r){try{var a="",c=r;do a+=xe(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:d,digest:null}}function Bc(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function zc(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var P_=typeof WeakMap=="function"?WeakMap:Map;function hp(t,r,a){a=kr(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){Nl||(Nl=!0,rh=c),zc(t,r)},a}function fp(t,r,a){a=kr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){zc(t,r)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){zc(t,r),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),a}function dp(t,r,a){var c=t.pingCache;if(c===null){c=t.pingCache=new P_;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),t=z_.bind(null,t,r,a),r.then(t,t))}function pp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function mp(t,r,a,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=kr(-1,1),r.tag=2,ei(a,r,1))),a.lanes|=1),t)}var k_=ye.ReactCurrentOwner,rn=!1;function Yt(t,r,a,c){r.child=t===null?Ld(r,null,a,c):Oo(r,t.child,a,c)}function gp(t,r,a,c,d){a=a.render;var g=r.ref;return Mo(r,d),c=Nc(t,r,a,c,g,d),a=Oc(),t!==null&&!rn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,xr(t,r,d)):(it&&a&&gc(r),r.flags|=1,Yt(t,r,c,d),r.child)}function yp(t,r,a,c,d){if(t===null){var g=a.type;return typeof g=="function"&&!ch(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=g,vp(t,r,g,c,d)):(t=jl(a.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!(t.lanes&d)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Os,a(w,c)&&t.ref===r.ref)return xr(t,r,d)}return r.flags|=1,t=si(g,c),t.ref=r.ref,t.return=r,r.child=t}function vp(t,r,a,c,d){if(t!==null){var g=t.memoizedProps;if(Os(g,c)&&t.ref===r.ref)if(rn=!1,r.pendingProps=c=g,(t.lanes&d)!==0)t.flags&131072&&(rn=!0);else return r.lanes=t.lanes,xr(t,r,d)}return $c(t,r,a,c,d)}function _p(t,r,a){var c=r.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Uo,vn),vn|=a;else{if(!(a&1073741824))return t=g!==null?g.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Je(Uo,vn),vn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Je(Uo,vn),vn|=c}else g!==null?(c=g.baseLanes|a,r.memoizedState=null):c=a,Je(Uo,vn),vn|=c;return Yt(t,r,d,a),r.child}function wp(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function $c(t,r,a,c,d){var g=nn(a)?Li:Bt.current;return g=xo(r,g),Mo(r,d),a=Nc(t,r,a,c,g,d),c=Oc(),t!==null&&!rn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,xr(t,r,d)):(it&&c&&gc(r),r.flags|=1,Yt(t,r,a,d),r.child)}function Ep(t,r,a,c,d){if(nn(a)){var g=!0;cl(r)}else g=!1;if(Mo(r,d),r.stateNode===null)Pl(t,r),up(r,a,c),Uc(r,a,c,d),c=!0;else if(t===null){var w=r.stateNode,R=r.memoizedProps;w.props=R;var k=w.context,$=a.contextType;typeof $=="object"&&$!==null?$=An($):($=nn(a)?Li:Bt.current,$=xo(r,$));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==c||k!==$)&&cp(r,w,c,$),Zr=!1;var Z=r.memoizedState;w.state=Z,_l(r,c,w,d),k=r.memoizedState,R!==c||Z!==k||tn.current||Zr?(typeof ee=="function"&&(jc(r,a,ee,c),k=r.memoizedState),(R=Zr||lp(r,a,R,c,Z,k,$))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=k),w.props=c,w.state=k,w.context=$,c=R):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,bd(t,r),R=r.memoizedProps,$=r.type===r.elementType?R:Hn(r.type,R),w.props=$,ne=r.pendingProps,Z=w.context,k=a.contextType,typeof k=="object"&&k!==null?k=An(k):(k=nn(a)?Li:Bt.current,k=xo(r,k));var ue=a.getDerivedStateFromProps;(ee=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ne||Z!==k)&&cp(r,w,c,k),Zr=!1,Z=r.memoizedState,w.state=Z,_l(r,c,w,d);var de=r.memoizedState;R!==ne||Z!==de||tn.current||Zr?(typeof ue=="function"&&(jc(r,a,ue,c),de=r.memoizedState),($=Zr||lp(r,a,$,c,Z,de,k)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,de,k),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,de,k)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=de),w.props=c,w.state=de,w.context=k,c=$):(typeof w.componentDidUpdate!="function"||R===t.memoizedProps&&Z===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&Z===t.memoizedState||(r.flags|=1024),c=!1)}return qc(t,r,a,c,g,d)}function qc(t,r,a,c,d,g){wp(t,r);var w=(r.flags&128)!==0;if(!c&&!w)return d&&Ad(r,a,!1),xr(t,r,g);c=r.stateNode,k_.current=r;var R=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&w?(r.child=Oo(r,t.child,null,g),r.child=Oo(r,null,R,g)):Yt(t,r,R,g),r.memoizedState=c.state,d&&Ad(r,a,!0),r.child}function Tp(t){var r=t.stateNode;r.pendingContext?Sd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Sd(t,r.context,!1),Cc(t,r.containerInfo)}function Ip(t,r,a,c,d){return No(),wc(d),r.flags|=256,Yt(t,r,a,c),r.child}var Hc={dehydrated:null,treeContext:null,retryLane:0};function Wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sp(t,r,a){var c=r.pendingProps,d=st.current,g=!1,w=(r.flags&128)!==0,R;if((R=w)||(R=t!==null&&t.memoizedState===null?!1:(d&2)!==0),R?(g=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Je(st,d&1),t===null)return _c(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(w=c.children,t=c.fallback,g?(c=r.mode,g=r.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ul(w,c,0,null),t=Hi(t,c,a,null),g.return=r,t.return=r,g.sibling=t,r.child=g,r.child.memoizedState=Wc(a),r.memoizedState=Hc,t):Qc(r,w));if(d=t.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return x_(t,r,w,c,R,d,a);if(g){g=c.fallback,w=r.mode,d=t.child,R=d.sibling;var k={mode:"hidden",children:c.children};return!(w&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=k,r.deletions=null):(c=si(d,k),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=si(R,g):(g=Hi(g,w,a,null),g.flags|=2),g.return=r,c.return=r,c.sibling=g,r.child=c,c=g,g=r.child,w=t.child.memoizedState,w=w===null?Wc(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=t.childLanes&~a,r.memoizedState=Hc,c}return g=t.child,t=g.sibling,c=si(g,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=a),c.return=r,c.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=c,r.memoizedState=null,c}function Qc(t,r){return r=Ul({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Cl(t,r,a,c){return c!==null&&wc(c),Oo(r,t.child,null,a),t=Qc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function x_(t,r,a,c,d,g,w){if(a)return r.flags&256?(r.flags&=-257,c=Bc(Error(n(422))),Cl(t,r,w,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(g=c.fallback,d=r.mode,c=Ul({mode:"visible",children:c.children},d,0,null),g=Hi(g,d,w,null),g.flags|=2,c.return=r,g.return=r,c.sibling=g,r.child=c,r.mode&1&&Oo(r,t.child,null,w),r.child.memoizedState=Wc(w),r.memoizedState=Hc,g);if(!(r.mode&1))return Cl(t,r,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(n(419)),c=Bc(g,c,void 0),Cl(t,r,w,c)}if(R=(w&t.childLanes)!==0,rn||R){if(c=xt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|w)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Pr(t,d),Gn(c,t,d,-1))}return uh(),c=Bc(Error(n(421))),Cl(t,r,w,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=$_.bind(null,t),d._reactRetry=r,null):(t=g.treeContext,yn=Kr(d.nextSibling),gn=r,it=!0,qn=null,t!==null&&(Sn[Rn++]=Ar,Sn[Rn++]=Cr,Sn[Rn++]=Mi,Ar=t.id,Cr=t.overflow,Mi=r),r=Qc(r,c.children),r.flags|=4096,r)}function Rp(t,r,a){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Sc(t.return,r,a)}function Gc(t,r,a,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function Ap(t,r,a){var c=r.pendingProps,d=c.revealOrder,g=c.tail;if(Yt(t,r,c.children,a),c=st.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rp(t,a,r);else if(t.tag===19)Rp(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Je(st,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&wl(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Gc(r,!1,d,a,g);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&wl(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Gc(r,!0,a,null,g);break;case"together":Gc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function xr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Bi|=r.lanes,!(a&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=si(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=si(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function D_(t,r,a){switch(r.tag){case 3:Tp(r),No();break;case 5:Ud(r);break;case 1:nn(r.type)&&cl(r);break;case 4:Cc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Je(gl,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Je(st,st.current&1),r.flags|=128,null):a&r.child.childLanes?Sp(t,r,a):(Je(st,st.current&1),t=xr(t,r,a),t!==null?t.sibling:null);Je(st,st.current&1);break;case 19:if(c=(a&r.childLanes)!==0,t.flags&128){if(c)return Ap(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Je(st,st.current),c)break;return null;case 22:case 23:return r.lanes=0,_p(t,r,a)}return xr(t,r,a)}var Cp,Kc,Pp,kp;Cp=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kc=function(){},Pp=function(t,r,a,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,ji(lr.current);var g=null;switch(a){case"input":d=Ae(t,d),c=Ae(t,c),g=[];break;case"select":d=le({},d,{value:void 0}),c=le({},c,{value:void 0}),g=[];break;case"textarea":d=yr(t,d),c=yr(t,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=al)}ms(a,c);var w;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var R=d[$];for(w in R)R.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var k=c[$];if(R=d!=null?d[$]:void 0,c.hasOwnProperty($)&&k!==R&&(k!=null||R!=null))if($==="style")if(R){for(w in R)!R.hasOwnProperty(w)||k&&k.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in k)k.hasOwnProperty(w)&&R[w]!==k[w]&&(a||(a={}),a[w]=k[w])}else a||(g||(g=[]),g.push($,a)),a=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,R=R?R.__html:void 0,k!=null&&R!==k&&(g=g||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(g=g||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(s.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ze("scroll",t),g||R===k||(g=[])):(g=g||[]).push($,k))}a&&(g=g||[]).push("style",a);var $=g;(r.updateQueue=$)&&(r.flags|=4)}},kp=function(t,r,a,c){a!==c&&(r.flags|=4)};function Ks(t,r){if(!it)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function $t(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=a,r}function V_(t,r,a){var c=r.pendingProps;switch(yc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(r),null;case 1:return nn(r.type)&&ul(),$t(r),null;case 3:return c=r.stateNode,bo(),et(tn),et(Bt),xc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(pl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,qn!==null&&(sh(qn),qn=null))),Kc(t,r),$t(r),null;case 5:Pc(r);var d=ji(qs.current);if(a=r.type,t!==null&&r.stateNode!=null)Pp(t,r,a,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return $t(r),null}if(t=ji(lr.current),pl(r)){c=r.stateNode,a=r.type;var g=r.memoizedProps;switch(c[ar]=r,c[js]=g,t=(r.mode&1)!==0,a){case"dialog":Ze("cancel",c),Ze("close",c);break;case"iframe":case"object":case"embed":Ze("load",c);break;case"video":case"audio":for(d=0;d<Ms.length;d++)Ze(Ms[d],c);break;case"source":Ze("error",c);break;case"img":case"image":case"link":Ze("error",c),Ze("load",c);break;case"details":Ze("toggle",c);break;case"input":$e(c,g),Ze("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ze("invalid",c);break;case"textarea":Xn(c,g),Ze("invalid",c)}ms(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&sl(c.textContent,R,t),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&sl(c.textContent,R,t),d=["children",""+R]):s.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Ze("scroll",c)}switch(a){case"input":G(c),Jt(c,g,!0);break;case"textarea":G(c),Dn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=al)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ot(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=w.createElement(a,{is:c.is}):(t=w.createElement(a),a==="select"&&(w=t,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):t=w.createElementNS(t,a),t[ar]=r,t[js]=c,Cp(t,r,!1,!1),r.stateNode=t;e:{switch(w=gs(a,c),a){case"dialog":Ze("cancel",t),Ze("close",t),d=c;break;case"iframe":case"object":case"embed":Ze("load",t),d=c;break;case"video":case"audio":for(d=0;d<Ms.length;d++)Ze(Ms[d],t);d=c;break;case"source":Ze("error",t),d=c;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),d=c;break;case"details":Ze("toggle",t),d=c;break;case"input":$e(t,c),d=Ae(t,c),Ze("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=le({},c,{value:void 0}),Ze("invalid",t);break;case"textarea":Xn(t,c),d=yr(t,c),Ze("invalid",t);break;default:d=c}ms(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var k=R[g];g==="style"?ds(t,k):g==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Fr(t,k)):g==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&Nn(t,k):typeof k=="number"&&Nn(t,""+k):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?k!=null&&g==="onScroll"&&Ze("scroll",t):k!=null&&ae(t,g,k,w))}switch(a){case"input":G(t),Jt(t,c,!1);break;case"textarea":G(t),Dn(t);break;case"option":c.value!=null&&t.setAttribute("value",""+z(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?cn(t,!!c.multiple,g,!1):c.defaultValue!=null&&cn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=al)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return $t(r),null;case 6:if(t&&r.stateNode!=null)kp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(a=ji(qs.current),ji(lr.current),pl(r)){if(c=r.stateNode,a=r.memoizedProps,c[ar]=r,(g=c.nodeValue!==a)&&(t=gn,t!==null))switch(t.tag){case 3:sl(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(c.nodeValue,a,(t.mode&1)!==0)}g&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ar]=r,r.stateNode=c}return $t(r),null;case 13:if(et(st),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&yn!==null&&r.mode&1&&!(r.flags&128))Vd(),No(),r.flags|=98560,g=!1;else if(g=pl(r),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(n(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[ar]=r}else No(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;$t(r),g=!1}else qn!==null&&(sh(qn),qn=null),g=!0;if(!g)return r.flags&65536?r:null}return r.flags&128?(r.lanes=a,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||st.current&1?It===0&&(It=3):uh())),r.updateQueue!==null&&(r.flags|=4),$t(r),null);case 4:return bo(),Kc(t,r),t===null&&bs(r.stateNode.containerInfo),$t(r),null;case 10:return Ic(r.type._context),$t(r),null;case 17:return nn(r.type)&&ul(),$t(r),null;case 19:if(et(st),g=r.memoizedState,g===null)return $t(r),null;if(c=(r.flags&128)!==0,w=g.rendering,w===null)if(c)Ks(g,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(w=wl(t),w!==null){for(r.flags|=128,Ks(g,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)g=a,t=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,t=w.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Je(st,st.current&1|2),r.child}t=t.sibling}g.tail!==null&&Xe()>Bo&&(r.flags|=128,c=!0,Ks(g,!1),r.lanes=4194304)}else{if(!c)if(t=wl(w),t!==null){if(r.flags|=128,c=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ks(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!it)return $t(r),null}else 2*Xe()-g.renderingStartTime>Bo&&a!==1073741824&&(r.flags|=128,c=!0,Ks(g,!1),r.lanes=4194304);g.isBackwards?(w.sibling=r.child,r.child=w):(a=g.last,a!==null?a.sibling=w:r.child=w,g.last=w)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Xe(),r.sibling=null,a=st.current,Je(st,c?a&1|2:a&1),r):($t(r),null);case 22:case 23:return lh(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?vn&1073741824&&($t(r),r.subtreeFlags&6&&(r.flags|=8192)):$t(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function N_(t,r){switch(yc(r),r.tag){case 1:return nn(r.type)&&ul(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return bo(),et(tn),et(Bt),xc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Pc(r),null;case 13:if(et(st),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));No()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return et(st),null;case 4:return bo(),null;case 10:return Ic(r.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var kl=!1,qt=!1,O_=typeof WeakSet=="function"?WeakSet:Set,fe=null;function jo(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ht(t,r,c)}else a.current=null}function Yc(t,r,a){try{a()}catch(c){ht(t,r,c)}}var xp=!1;function L_(t,r){if(lc=Wr,t=ld(),ec(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,R=-1,k=-1,$=0,ee=0,ne=t,Z=null;t:for(;;){for(var ue;ne!==a||d!==0&&ne.nodeType!==3||(R=w+d),ne!==g||c!==0&&ne.nodeType!==3||(k=w+c),ne.nodeType===3&&(w+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)Z=ne,ne=ue;for(;;){if(ne===t)break t;if(Z===a&&++$===d&&(R=w),Z===g&&++ee===c&&(k=w),(ue=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=ue}a=R===-1||k===-1?null:{start:R,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(uc={focusedElem:t,selectionRange:a},Wr=!1,fe=r;fe!==null;)if(r=fe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,fe=t;else for(;fe!==null;){r=fe;try{var de=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,pt=de.memoizedState,j=r.stateNode,N=j.getSnapshotBeforeUpdate(r.elementType===r.type?me:Hn(r.type,me),pt);j.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){ht(r,r.return,re)}if(t=r.sibling,t!==null){t.return=r.return,fe=t;break}fe=r.return}return de=xp,xp=!1,de}function Ys(t,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var g=d.destroy;d.destroy=void 0,g!==void 0&&Yc(r,a,g)}d=d.next}while(d!==c)}}function xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Xc(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function Dp(t){var r=t.alternate;r!==null&&(t.alternate=null,Dp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[ar],delete r[js],delete r[dc],delete r[y_],delete r[v_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vp(t){return t.tag===5||t.tag===3||t.tag===4}function Np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=al));else if(c!==4&&(t=t.child,t!==null))for(Jc(t,r,a),t=t.sibling;t!==null;)Jc(t,r,a),t=t.sibling}function Zc(t,r,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Zc(t,r,a),t=t.sibling;t!==null;)Zc(t,r,a),t=t.sibling}var Lt=null,Wn=!1;function ti(t,r,a){for(a=a.child;a!==null;)Op(t,r,a),a=a.sibling}function Op(t,r,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ci,a)}catch{}switch(a.tag){case 5:qt||jo(a,r);case 6:var c=Lt,d=Wn;Lt=null,ti(t,r,a),Lt=c,Wn=d,Lt!==null&&(Wn?(t=Lt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Lt.removeChild(a.stateNode));break;case 18:Lt!==null&&(Wn?(t=Lt,a=a.stateNode,t.nodeType===8?fc(t.parentNode,a):t.nodeType===1&&fc(t,a),Bn(t)):fc(Lt,a.stateNode));break;case 4:c=Lt,d=Wn,Lt=a.stateNode.containerInfo,Wn=!0,ti(t,r,a),Lt=c,Wn=d;break;case 0:case 11:case 14:case 15:if(!qt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Yc(a,r,w),d=d.next}while(d!==c)}ti(t,r,a);break;case 1:if(!qt&&(jo(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){ht(a,r,R)}ti(t,r,a);break;case 21:ti(t,r,a);break;case 22:a.mode&1?(qt=(c=qt)||a.memoizedState!==null,ti(t,r,a),qt=c):ti(t,r,a);break;default:ti(t,r,a)}}function Lp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new O_),r.forEach(function(c){var d=q_.bind(null,t,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Qn(t,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=t,w=r,R=w;e:for(;R!==null;){switch(R.tag){case 5:Lt=R.stateNode,Wn=!1;break e;case 3:Lt=R.stateNode.containerInfo,Wn=!0;break e;case 4:Lt=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(Lt===null)throw Error(n(160));Op(g,w,d),Lt=null,Wn=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch($){ht(d,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Mp(r,t),r=r.sibling}function Mp(t,r){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(r,t),cr(t),c&4){try{Ys(3,t,t.return),xl(3,t)}catch(me){ht(t,t.return,me)}try{Ys(5,t,t.return)}catch(me){ht(t,t.return,me)}}break;case 1:Qn(r,t),cr(t),c&512&&a!==null&&jo(a,a.return);break;case 5:if(Qn(r,t),cr(t),c&512&&a!==null&&jo(a,a.return),t.flags&32){var d=t.stateNode;try{Nn(d,"")}catch(me){ht(t,t.return,me)}}if(c&4&&(d=t.stateNode,d!=null)){var g=t.memoizedProps,w=a!==null?a.memoizedProps:g,R=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Ke(d,g),gs(R,w);var $=gs(R,g);for(w=0;w<k.length;w+=2){var ee=k[w],ne=k[w+1];ee==="style"?ds(d,ne):ee==="dangerouslySetInnerHTML"?Fr(d,ne):ee==="children"?Nn(d,ne):ae(d,ee,ne,$)}switch(R){case"input":He(d,g);break;case"textarea":Jn(d,g);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?cn(d,!!g.multiple,ue,!1):Z!==!!g.multiple&&(g.defaultValue!=null?cn(d,!!g.multiple,g.defaultValue,!0):cn(d,!!g.multiple,g.multiple?[]:"",!1))}d[js]=g}catch(me){ht(t,t.return,me)}}break;case 6:if(Qn(r,t),cr(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,g=t.memoizedProps;try{d.nodeValue=g}catch(me){ht(t,t.return,me)}}break;case 3:if(Qn(r,t),cr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Bn(r.containerInfo)}catch(me){ht(t,t.return,me)}break;case 4:Qn(r,t),cr(t);break;case 13:Qn(r,t),cr(t),d=t.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(nh=Xe())),c&4&&Lp(t);break;case 22:if(ee=a!==null&&a.memoizedState!==null,t.mode&1?(qt=($=qt)||ee,Qn(r,t),qt=$):Qn(r,t),cr(t),c&8192){if($=t.memoizedState!==null,(t.stateNode.isHidden=$)&&!ee&&t.mode&1)for(fe=t,ee=t.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(Z=fe,ue=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ys(4,Z,Z.return);break;case 1:jo(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){c=Z,a=Z.return;try{r=c,de.props=r.memoizedProps,de.state=r.memoizedState,de.componentWillUnmount()}catch(me){ht(c,a,me)}}break;case 5:jo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){jp(ne);continue}}ue!==null?(ue.return=Z,fe=ue):jp(ne)}ee=ee.sibling}e:for(ee=null,ne=t;;){if(ne.tag===5){if(ee===null){ee=ne;try{d=ne.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ne.stateNode,k=ne.memoizedProps.style,w=k!=null&&k.hasOwnProperty("display")?k.display:null,R.style.display=fs("display",w))}catch(me){ht(t,t.return,me)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=$?"":ne.memoizedProps}catch(me){ht(t,t.return,me)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Qn(r,t),cr(t),c&4&&Lp(t);break;case 21:break;default:Qn(r,t),cr(t)}}function cr(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(Vp(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Nn(d,""),c.flags&=-33);var g=Np(t);Zc(t,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,R=Np(t);Jc(t,R,w);break;default:throw Error(n(161))}}catch(k){ht(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function M_(t,r,a){fe=t,bp(t)}function bp(t,r,a){for(var c=(t.mode&1)!==0;fe!==null;){var d=fe,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||kl;if(!w){var R=d.alternate,k=R!==null&&R.memoizedState!==null||qt;R=kl;var $=qt;if(kl=w,(qt=k)&&!$)for(fe=d;fe!==null;)w=fe,k=w.child,w.tag===22&&w.memoizedState!==null?Up(d):k!==null?(k.return=w,fe=k):Up(d);for(;g!==null;)fe=g,bp(g),g=g.sibling;fe=d,kl=R,qt=$}Fp(t)}else d.subtreeFlags&8772&&g!==null?(g.return=d,fe=g):Fp(t)}}function Fp(t){for(;fe!==null;){var r=fe;if(r.flags&8772){var a=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:qt||xl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!qt)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Hn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&jd(r,g,c);break;case 3:var w=r.updateQueue;if(w!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}jd(r,w,a)}break;case 5:var R=r.stateNode;if(a===null&&r.flags&4){a=R;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Bn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||r.flags&512&&Xc(r)}catch(Z){ht(r,r.return,Z)}}if(r===t){fe=null;break}if(a=r.sibling,a!==null){a.return=r.return,fe=a;break}fe=r.return}}function jp(t){for(;fe!==null;){var r=fe;if(r===t){fe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,fe=a;break}fe=r.return}}function Up(t){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{xl(4,r)}catch(k){ht(r,a,k)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(k){ht(r,d,k)}}var g=r.return;try{Xc(r)}catch(k){ht(r,g,k)}break;case 5:var w=r.return;try{Xc(r)}catch(k){ht(r,w,k)}}}catch(k){ht(r,r.return,k)}if(r===t){fe=null;break}var R=r.sibling;if(R!==null){R.return=r.return,fe=R;break}fe=r.return}}var b_=Math.ceil,Dl=ye.ReactCurrentDispatcher,eh=ye.ReactCurrentOwner,Pn=ye.ReactCurrentBatchConfig,ze=0,xt=null,vt=null,Mt=0,vn=0,Uo=Yr(0),It=0,Xs=null,Bi=0,Vl=0,th=0,Js=null,on=null,nh=0,Bo=1/0,Dr=null,Nl=!1,rh=null,ni=null,Ol=!1,ri=null,Ll=0,Zs=0,ih=null,Ml=-1,bl=0;function Xt(){return ze&6?Xe():Ml!==-1?Ml:Ml=Xe()}function ii(t){return t.mode&1?ze&2&&Mt!==0?Mt&-Mt:w_.transition!==null?(bl===0&&(bl=ki()),bl):(t=Me,t!==0||(t=window.event,t=t===void 0?16:Cs(t.type)),t):1}function Gn(t,r,a,c){if(50<Zs)throw Zs=0,ih=null,Error(n(185));zr(t,a,c),(!(ze&2)||t!==xt)&&(t===xt&&(!(ze&2)&&(Vl|=a),It===4&&oi(t,Mt)),sn(t,c),a===1&&ze===0&&!(r.mode&1)&&(Bo=Xe()+500,hl&&Jr()))}function sn(t,r){var a=t.callbackNode;_r(t,r);var c=Pi(t,t===xt?Mt:0);if(c===0)a!==null&&Ts(a),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(a!=null&&Ts(a),r===1)t.tag===0?__(zp.bind(null,t)):Cd(zp.bind(null,t)),m_(function(){!(ze&6)&&Jr()}),a=null;else{switch(qr(c)){case 1:a=Ai;break;case 4:a=jr;break;case 16:a=En;break;case 536870912:a=ba;break;default:a=En}a=Yp(a,Bp.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function Bp(t,r){if(Ml=-1,bl=0,ze&6)throw Error(n(327));var a=t.callbackNode;if(zo()&&t.callbackNode!==a)return null;var c=Pi(t,t===xt?Mt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=Fl(t,c);else{r=c;var d=ze;ze|=2;var g=qp();(xt!==t||Mt!==r)&&(Dr=null,Bo=Xe()+500,$i(t,r));do try{U_();break}catch(R){$p(t,R)}while(!0);Tc(),Dl.current=g,ze=d,vt!==null?r=0:(xt=null,Mt=0,r=It)}if(r!==0){if(r===2&&(d=dn(t),d!==0&&(c=d,r=oh(t,d))),r===1)throw a=Xs,$i(t,0),oi(t,c),sn(t,Xe()),a;if(r===6)oi(t,c);else{if(d=t.current.alternate,!(c&30)&&!F_(d)&&(r=Fl(t,c),r===2&&(g=dn(t),g!==0&&(c=g,r=oh(t,g))),r===1))throw a=Xs,$i(t,0),oi(t,c),sn(t,Xe()),a;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:qi(t,on,Dr);break;case 3:if(oi(t,c),(c&130023424)===c&&(r=nh+500-Xe(),10<r)){if(Pi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Xt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=hc(qi.bind(null,t,on,Dr),r);break}qi(t,on,Dr);break;case 4:if(oi(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var w=31-Gt(c);g=1<<w,w=r[w],w>d&&(d=w),c&=~g}if(c=d,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*b_(c/1960))-c,10<c){t.timeoutHandle=hc(qi.bind(null,t,on,Dr),c);break}qi(t,on,Dr);break;case 5:qi(t,on,Dr);break;default:throw Error(n(329))}}}return sn(t,Xe()),t.callbackNode===a?Bp.bind(null,t):null}function oh(t,r){var a=Js;return t.current.memoizedState.isDehydrated&&($i(t,r).flags|=256),t=Fl(t,r),t!==2&&(r=on,on=a,r!==null&&sh(r)),t}function sh(t){on===null?on=t:on.push.apply(on,t)}function F_(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!$n(g(),d))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oi(t,r){for(r&=~th,r&=~Vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-Gt(r),c=1<<a;t[a]=-1,r&=~c}}function zp(t){if(ze&6)throw Error(n(327));zo();var r=Pi(t,0);if(!(r&1))return sn(t,Xe()),null;var a=Fl(t,r);if(t.tag!==0&&a===2){var c=dn(t);c!==0&&(r=c,a=oh(t,c))}if(a===1)throw a=Xs,$i(t,0),oi(t,r),sn(t,Xe()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,qi(t,on,Dr),sn(t,Xe()),null}function ah(t,r){var a=ze;ze|=1;try{return t(r)}finally{ze=a,ze===0&&(Bo=Xe()+500,hl&&Jr())}}function zi(t){ri!==null&&ri.tag===0&&!(ze&6)&&zo();var r=ze;ze|=1;var a=Pn.transition,c=Me;try{if(Pn.transition=null,Me=1,t)return t()}finally{Me=c,Pn.transition=a,ze=r,!(ze&6)&&Jr()}}function lh(){vn=Uo.current,et(Uo)}function $i(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,p_(a)),vt!==null)for(a=vt.return;a!==null;){var c=a;switch(yc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ul();break;case 3:bo(),et(tn),et(Bt),xc();break;case 5:Pc(c);break;case 4:bo();break;case 13:et(st);break;case 19:et(st);break;case 10:Ic(c.type._context);break;case 22:case 23:lh()}a=a.return}if(xt=t,vt=t=si(t.current,null),Mt=vn=r,It=0,Xs=null,th=Vl=Bi=0,on=Js=null,Fi!==null){for(r=0;r<Fi.length;r++)if(a=Fi[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}Fi=null}return t}function $p(t,r){do{var a=vt;try{if(Tc(),El.current=Rl,Tl){for(var c=at.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Tl=!1}if(Ui=0,kt=Tt=at=null,Hs=!1,Ws=0,eh.current=null,a===null||a.return===null){It=1,Xs=r,vt=null;break}e:{var g=t,w=a.return,R=a,k=r;if(r=Mt,R.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,ee=R,ne=ee.tag;if(!(ee.mode&1)&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ue=pp(w);if(ue!==null){ue.flags&=-257,mp(ue,w,R,g,r),ue.mode&1&&dp(g,$,r),r=ue,k=$;var de=r.updateQueue;if(de===null){var me=new Set;me.add(k),r.updateQueue=me}else de.add(k);break e}else{if(!(r&1)){dp(g,$,r),uh();break e}k=Error(n(426))}}else if(it&&R.mode&1){var pt=pp(w);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),mp(pt,w,R,g,r),wc(Fo(k,R));break e}}g=k=Fo(k,R),It!==4&&(It=2),Js===null?Js=[g]:Js.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var j=hp(g,k,r);Fd(g,j);break e;case 1:R=k;var N=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ni===null||!ni.has(U)))){g.flags|=65536,r&=-r,g.lanes|=r;var re=fp(g,R,r);Fd(g,re);break e}}g=g.return}while(g!==null)}Wp(a)}catch(ge){r=ge,vt===a&&a!==null&&(vt=a=a.return);continue}break}while(!0)}function qp(){var t=Dl.current;return Dl.current=Rl,t===null?Rl:t}function uh(){(It===0||It===3||It===2)&&(It=4),xt===null||!(Bi&268435455)&&!(Vl&268435455)||oi(xt,Mt)}function Fl(t,r){var a=ze;ze|=2;var c=qp();(xt!==t||Mt!==r)&&(Dr=null,$i(t,r));do try{j_();break}catch(d){$p(t,d)}while(!0);if(Tc(),ze=a,Dl.current=c,vt!==null)throw Error(n(261));return xt=null,Mt=0,It}function j_(){for(;vt!==null;)Hp(vt)}function U_(){for(;vt!==null&&!La();)Hp(vt)}function Hp(t){var r=Kp(t.alternate,t,vn);t.memoizedProps=t.pendingProps,r===null?Wp(t):vt=r,eh.current=null}function Wp(t){var r=t;do{var a=r.alternate;if(t=r.return,r.flags&32768){if(a=N_(a,r),a!==null){a.flags&=32767,vt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,vt=null;return}}else if(a=V_(a,r,vn),a!==null){vt=a;return}if(r=r.sibling,r!==null){vt=r;return}vt=r=t}while(r!==null);It===0&&(It=5)}function qi(t,r,a){var c=Me,d=Pn.transition;try{Pn.transition=null,Me=1,B_(t,r,a,c)}finally{Pn.transition=d,Me=c}return null}function B_(t,r,a,c){do zo();while(ri!==null);if(ze&6)throw Error(n(327));a=t.finishedWork;var d=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var g=a.lanes|a.childLanes;if(Ye(t,g),t===xt&&(vt=xt=null,Mt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ol||(Ol=!0,Yp(En,function(){return zo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Pn.transition,Pn.transition=null;var w=Me;Me=1;var R=ze;ze|=4,eh.current=null,L_(t,a),Mp(a,t),a_(uc),Wr=!!lc,uc=lc=null,t.current=a,M_(a),Wu(),ze=R,Me=w,Pn.transition=g}else t.current=a;if(Ol&&(Ol=!1,ri=t,Ll=d),g=t.pendingLanes,g===0&&(ni=null),Fa(a.stateNode),sn(t,Xe()),r!==null)for(c=t.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Nl)throw Nl=!1,t=rh,rh=null,t;return Ll&1&&t.tag!==0&&zo(),g=t.pendingLanes,g&1?t===ih?Zs++:(Zs=0,ih=t):Zs=0,Jr(),null}function zo(){if(ri!==null){var t=qr(Ll),r=Pn.transition,a=Me;try{if(Pn.transition=null,Me=16>t?16:t,ri===null)var c=!1;else{if(t=ri,ri=null,Ll=0,ze&6)throw Error(n(331));var d=ze;for(ze|=4,fe=t.current;fe!==null;){var g=fe,w=g.child;if(fe.flags&16){var R=g.deletions;if(R!==null){for(var k=0;k<R.length;k++){var $=R[k];for(fe=$;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:Ys(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var Z=ee.sibling,ue=ee.return;if(Dp(ee),ee===$){fe=null;break}if(Z!==null){Z.return=ue,fe=Z;break}fe=ue}}}var de=g.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var pt=me.sibling;me.sibling=null,me=pt}while(me!==null)}}fe=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,fe=w;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ys(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,fe=j;break e}fe=g.return}}var N=t.current;for(fe=N;fe!==null;){w=fe;var U=w.child;if(w.subtreeFlags&2064&&U!==null)U.return=w,fe=U;else e:for(w=N;fe!==null;){if(R=fe,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:xl(9,R)}}catch(ge){ht(R,R.return,ge)}if(R===w){fe=null;break e}var re=R.sibling;if(re!==null){re.return=R.return,fe=re;break e}fe=R.return}}if(ze=d,Jr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ci,t)}catch{}c=!0}return c}finally{Me=a,Pn.transition=r}}return!1}function Qp(t,r,a){r=Fo(a,r),r=hp(t,r,1),t=ei(t,r,1),r=Xt(),t!==null&&(zr(t,1,r),sn(t,r))}function ht(t,r,a){if(t.tag===3)Qp(t,t,a);else for(;r!==null;){if(r.tag===3){Qp(r,t,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){t=Fo(a,t),t=fp(r,t,1),r=ei(r,t,1),t=Xt(),r!==null&&(zr(r,1,t),sn(r,t));break}}r=r.return}}function z_(t,r,a){var c=t.pingCache;c!==null&&c.delete(r),r=Xt(),t.pingedLanes|=t.suspendedLanes&a,xt===t&&(Mt&a)===a&&(It===4||It===3&&(Mt&130023424)===Mt&&500>Xe()-nh?$i(t,0):th|=a),sn(t,r)}function Gp(t,r){r===0&&(t.mode&1?(r=co,co<<=1,!(co&130023424)&&(co=4194304)):r=1);var a=Xt();t=Pr(t,r),t!==null&&(zr(t,r,a),sn(t,a))}function $_(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Gp(t,a)}function q_(t,r){var a=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Gp(t,a)}var Kp;Kp=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||tn.current)rn=!0;else{if(!(t.lanes&a)&&!(r.flags&128))return rn=!1,D_(t,r,a);rn=!!(t.flags&131072)}else rn=!1,it&&r.flags&1048576&&Pd(r,dl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Pl(t,r),t=r.pendingProps;var d=xo(r,Bt.current);Mo(r,a),d=Nc(null,r,c,t,d,a);var g=Oc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,nn(c)?(g=!0,cl(r)):g=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ac(r),d.updater=Al,r.stateNode=d,d._reactInternals=r,Uc(r,c,t,a),r=qc(null,r,c,!0,g,a)):(r.tag=0,it&&g&&gc(r),Yt(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(Pl(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=W_(c),t=Hn(c,t),d){case 0:r=$c(null,r,c,t,a);break e;case 1:r=Ep(null,r,c,t,a);break e;case 11:r=gp(null,r,c,t,a);break e;case 14:r=yp(null,r,c,Hn(c.type,t),a);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Hn(c,d),$c(t,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Hn(c,d),Ep(t,r,c,d,a);case 3:e:{if(Tp(r),t===null)throw Error(n(387));c=r.pendingProps,g=r.memoizedState,d=g.element,bd(t,r),_l(r,c,null,a);var w=r.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){d=Fo(Error(n(423)),r),r=Ip(t,r,c,a,d);break e}else if(c!==d){d=Fo(Error(n(424)),r),r=Ip(t,r,c,a,d);break e}else for(yn=Kr(r.stateNode.containerInfo.firstChild),gn=r,it=!0,qn=null,a=Ld(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(No(),c===d){r=xr(t,r,a);break e}Yt(t,r,c,a)}r=r.child}return r;case 5:return Ud(r),t===null&&_c(r),c=r.type,d=r.pendingProps,g=t!==null?t.memoizedProps:null,w=d.children,cc(c,d)?w=null:g!==null&&cc(c,g)&&(r.flags|=32),wp(t,r),Yt(t,r,w,a),r.child;case 6:return t===null&&_c(r),null;case 13:return Sp(t,r,a);case 4:return Cc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=Oo(r,null,c,a):Yt(t,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Hn(c,d),gp(t,r,c,d,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,g=r.memoizedProps,w=d.value,Je(gl,c._currentValue),c._currentValue=w,g!==null)if($n(g.value,w)){if(g.children===d.children&&!tn.current){r=xr(t,r,a);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var k=R.firstContext;k!==null;){if(k.context===c){if(g.tag===1){k=kr(-1,a&-a),k.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?k.next=k:(k.next=ee.next,ee.next=k),$.pending=k}}g.lanes|=a,k=g.alternate,k!==null&&(k.lanes|=a),Sc(g.return,a,r),R.lanes|=a;break}k=k.next}}else if(g.tag===10)w=g.type===r.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=a,R=w.alternate,R!==null&&(R.lanes|=a),Sc(w,a,r),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===r){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Yt(t,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Mo(r,a),d=An(d),c=c(d),r.flags|=1,Yt(t,r,c,a),r.child;case 14:return c=r.type,d=Hn(c,r.pendingProps),d=Hn(c.type,d),yp(t,r,c,d,a);case 15:return vp(t,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Hn(c,d),Pl(t,r),r.tag=1,nn(c)?(t=!0,cl(r)):t=!1,Mo(r,a),up(r,c,d),Uc(r,c,d,a),qc(null,r,c,!0,t,a);case 19:return Ap(t,r,a);case 22:return _p(t,r,a)}throw Error(n(156,r.tag))};function Yp(t,r){return lo(t,r)}function H_(t,r,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,r,a,c){return new H_(t,r,a,c)}function ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function W_(t){if(typeof t=="function")return ch(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===gt)return 14}return 2}function si(t,r){var a=t.alternate;return a===null?(a=kn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function jl(t,r,a,c,d,g){var w=2;if(c=t,typeof t=="function")ch(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case V:return Hi(a.children,d,g,r);case S:w=8,d|=8;break;case A:return t=kn(12,a,r,d|2),t.elementType=A,t.lanes=g,t;case C:return t=kn(13,a,r,d),t.elementType=C,t.lanes=g,t;case nt:return t=kn(19,a,r,d),t.elementType=nt,t.lanes=g,t;case We:return Ul(a,d,g,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:w=10;break e;case O:w=9;break e;case b:w=11;break e;case gt:w=14;break e;case At:w=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=kn(w,a,r,d),r.elementType=t,r.type=c,r.lanes=g,r}function Hi(t,r,a,c){return t=kn(7,t,c,r),t.lanes=a,t}function Ul(t,r,a,c){return t=kn(22,t,c,r),t.elementType=We,t.lanes=a,t.stateNode={isHidden:!1},t}function hh(t,r,a){return t=kn(6,t,null,r),t.lanes=a,t}function fh(t,r,a){return r=kn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Q_(t,r,a,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function dh(t,r,a,c,d,g,w,R,k){return t=new Q_(t,r,a,R,k),r===1?(r=1,g===!0&&(r|=8)):r=0,g=kn(3,null,null,r),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(g),t}function G_(t,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:c==null?null:""+c,children:t,containerInfo:r,implementation:a}}function Xp(t){if(!t)return Xr;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(nn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(nn(a))return Rd(t,a,r)}return r}function Jp(t,r,a,c,d,g,w,R,k){return t=dh(a,c,!0,t,d,g,w,R,k),t.context=Xp(null),a=t.current,c=Xt(),d=ii(a),g=kr(c,d),g.callback=r??null,ei(a,g,d),t.current.lanes=d,zr(t,d,c),sn(t,c),t}function Bl(t,r,a,c){var d=r.current,g=Xt(),w=ii(d);return a=Xp(a),r.context===null?r.context=a:r.pendingContext=a,r=kr(g,w),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=ei(d,r,w),t!==null&&(Gn(t,d,w,g),vl(t,d,w)),w}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ph(t,r){Zp(t,r),(t=t.alternate)&&Zp(t,r)}function K_(){return null}var em=typeof reportError=="function"?reportError:function(t){console.error(t)};function mh(t){this._internalRoot=t}$l.prototype.render=mh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Bl(t,r,null,null)},$l.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;zi(function(){Bl(null,t,null,null)}),r[Sr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var a=0;a<rr.length&&r!==0&&r<rr[a].priority;a++);rr.splice(a,0,t),a===0&&Wa(t)}};function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tm(){}function Y_(t,r,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=zl(w);g.call($)}}var w=Jp(r,c,t,0,null,!1,!1,"",tm);return t._reactRootContainer=w,t[Sr]=w.current,bs(t.nodeType===8?t.parentNode:t),zi(),w}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var $=zl(k);R.call($)}}var k=dh(t,0,!1,null,null,!1,!1,"",tm);return t._reactRootContainer=k,t[Sr]=k.current,bs(t.nodeType===8?t.parentNode:t),zi(function(){Bl(r,k,a,c)}),k}function Hl(t,r,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var R=d;d=function(){var k=zl(w);R.call(k)}}Bl(r,w,t,d)}else w=Y_(a,r,t,d,c);return zl(w)}Ba=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Ur(r.pendingLanes);a!==0&&($r(r,a|1),sn(r,Xe()),!(ze&6)&&(Bo=Xe()+500,Jr()))}break;case 13:zi(function(){var c=Pr(t,1);if(c!==null){var d=Xt();Gn(c,t,1,d)}}),ph(t,1)}},ho=function(t){if(t.tag===13){var r=Pr(t,134217728);if(r!==null){var a=Xt();Gn(r,t,134217728,a)}ph(t,134217728)}},za=function(t){if(t.tag===13){var r=ii(t),a=Pr(t,r);if(a!==null){var c=Xt();Gn(a,t,r,c)}ph(t,r)}},$a=function(){return Me},qa=function(t,r){var a=Me;try{return Me=t,r()}finally{Me=a}},no=function(t,r,a){switch(r){case"input":if(He(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==t&&c.form===t.form){var d=ll(c);if(!d)throw Error(n(90));Oe(c),He(c,d)}}}break;case"textarea":Jn(t,a);break;case"select":r=a.value,r!=null&&cn(t,!!a.multiple,r,!1)}},Ti=ah,vs=zi;var X_={usingClientEntryPoint:!1,Events:[Us,Po,ll,tr,ys,ah]},ea={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J_={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Es(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||K_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ci=Wl.inject(J_),fn=Wl}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X_,an.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(r))throw Error(n(200));return G_(t,r,null,a)},an.createRoot=function(t,r){if(!gh(t))throw Error(n(299));var a=!1,c="",d=em;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=dh(t,1,!1,null,null,a,!1,c,d),t[Sr]=r.current,bs(t.nodeType===8?t.parentNode:t),new mh(r)},an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Es(r),t=t===null?null:t.stateNode,t},an.flushSync=function(t){return zi(t)},an.hydrate=function(t,r,a){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!0,a)},an.hydrateRoot=function(t,r,a){if(!gh(t))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=em;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),r=Jp(r,null,t,1,a??null,d,!1,g,w),t[Sr]=r.current,bs(t),c)for(t=0;t<c.length;t++)a=c[t],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new $l(r)},an.render=function(t,r,a){if(!ql(r))throw Error(n(200));return Hl(null,t,r,!1,a)},an.unmountComponentAtNode=function(t){if(!ql(t))throw Error(n(40));return t._reactRootContainer?(zi(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1},an.unstable_batchedUpdates=ah,an.unstable_renderSubtreeIntoContainer=function(t,r,a,c){if(!ql(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,a,!1,c)},an.version="18.3.1-next-f1338f8080-20240426",an}var um;function a0(){if(um)return _h.exports;um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_h.exports=s0(),_h.exports}var cm;function l0(){if(cm)return Ql;cm=1;var i=a0();return Ql.createRoot=i.createRoot,Ql.hydrateRoot=i.hydrateRoot,Ql}var u0=l0(),na={},hm;function c0(){if(hm)return na;hm=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=h,na.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,P){const x=new l,B=I.length;if(B<2)return x;const L=(P==null?void 0:P.decode)||_;let Q=0;do{const te=I.indexOf("=",Q);if(te===-1)break;const ae=I.indexOf(";",Q),ye=ae===-1?B:ae;if(te>ye){Q=I.lastIndexOf(";",te-1)+1;continue}const Ie=f(I,Q,te),Pe=p(I,te,Ie),V=I.slice(Ie,Pe);if(x[V]===void 0){let S=f(I,te+1,ye),A=p(I,ye,S);const D=L(I.slice(S,A));x[V]=D}Q=ye+1}while(Q<B);return x}function f(I,P,x){do{const B=I.charCodeAt(P);if(B!==32&&B!==9)return P}while(++P<x);return x}function p(I,P,x){for(;P>x;){const B=I.charCodeAt(--P);if(B!==32&&B!==9)return P+1}return x}function y(I,P,x){const B=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const L=B(P);if(!e.test(L))throw new TypeError(`argument val is invalid: ${P}`);let Q=I+"="+L;if(!x)return Q;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);Q+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);Q+="; Domain="+x.domain}if(x.path){if(!o.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);Q+="; Path="+x.path}if(x.expires){if(!E(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);Q+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(Q+="; HttpOnly"),x.secure&&(Q+="; Secure"),x.partitioned&&(Q+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return Q}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function E(I){return s.call(I)==="[object Date]"}return na}c0();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fm="popstate";function h0(i={}){function e(o,s){let{pathname:l,search:h,hash:f}=o.location;return Oh("",{pathname:l,search:h,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:pa(s)}return d0(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function pr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f0(){return Math.random().toString(36).substring(2,10)}function dm(i,e){return{usr:i.state,key:i.key,idx:e}}function Oh(i,e,n=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?is(e):e,state:n,key:e&&e.key||o||f0()}}function pa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function is(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let o=i.indexOf("?");o>=0&&(e.search=i.substring(o),i=i.substring(0,o)),i&&(e.pathname=i)}return e}function d0(i,e,n,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,h=s.history,f="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function E(){f="POP";let L=_(),Q=L==null?null:L-y;y=L,p&&p({action:f,location:B.location,delta:Q})}function I(L,Q){f="PUSH";let te=Oh(B.location,L,Q);y=_()+1;let ae=dm(te,y),ye=B.createHref(te);try{h.pushState(ae,"",ye)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;s.location.assign(ye)}l&&p&&p({action:f,location:B.location,delta:1})}function P(L,Q){f="REPLACE";let te=Oh(B.location,L,Q);y=_();let ae=dm(te,y),ye=B.createHref(te);h.replaceState(ae,"",ye),l&&p&&p({action:f,location:B.location,delta:0})}function x(L){let Q=s.location.origin!=="null"?s.location.origin:s.location.href,te=typeof L=="string"?L:pa(L);return te=te.replace(/ $/,"%20"),lt(Q,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,Q)}let B={get action(){return f},get location(){return i(s,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(fm,E),p=L,()=>{s.removeEventListener(fm,E),p=null}},createHref(L){return e(s,L)},createURL:x,encodeLocation(L){let Q=x(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:P,go(L){return h.go(L)}};return B}function Ig(i,e,n="/"){return p0(i,e,n,!1)}function p0(i,e,n,o){let s=typeof e=="string"?is(e):e,l=fi(s.pathname||"/",n);if(l==null)return null;let h=Sg(i);m0(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=A0(l);f=S0(h[p],y,o)}return f}function Sg(i,e=[],n=[],o=""){let s=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let y=Vr([o,p.relativePath]),_=n.concat(p);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Sg(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:T0(y,l.index),routesMeta:_})};return i.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,h);else for(let p of Rg(l.path))s(l,h,p)}),e}function Rg(i){let e=i.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let h=Rg(o.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),s&&f.push(...h),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function m0(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:I0(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var g0=/^:[\w-]+$/,y0=3,v0=2,_0=1,w0=10,E0=-2,pm=i=>i==="*";function T0(i,e){let n=i.split("/"),o=n.length;return n.some(pm)&&(o+=E0),e&&(o+=v0),n.filter(s=>!pm(s)).reduce((s,l)=>s+(g0.test(l)?y0:l===""?_0:w0),o)}function I0(i,e){return i.length===e.length&&i.slice(0,-1).every((o,s)=>o===e[s])?i[i.length-1]-e[e.length-1]:0}function S0(i,e,n=!1){let{routesMeta:o}=i,s={},l="/",h=[];for(let f=0;f<o.length;++f){let p=o[f],y=f===o.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=du({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),I=p.route;if(!E&&y&&n&&!o[o.length-1].route.index&&(E=du({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),h.push({params:s,pathname:Vr([l,E.pathname]),pathnameBase:x0(Vr([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=Vr([l,E.pathnameBase]))}return h}function du(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,o]=R0(i.path,i.caseSensitive,i.end),s=e.match(n);if(!s)return null;let l=s[0],h=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((y,{paramName:_,isOptional:E},I)=>{if(_==="*"){let x=f[I]||"";h=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const P=f[I];return E&&!P?y[_]=void 0:y[_]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:i}}function R0(i,e=!1,n=!0){pr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function A0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pr(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=i.charAt(n);return o&&o!=="/"?null:i.slice(n)||"/"}function C0(i,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof i=="string"?is(i):i;return{pathname:n?n.startsWith("/")?n:P0(n,e):e,search:D0(o),hash:V0(s)}}function P0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Th(i,e,n,o){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ag(i){let e=k0(i);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Cg(i,e,n,o=!1){let s;typeof i=="string"?s=is(i):(s={...i},lt(!s.pathname||!s.pathname.includes("?"),Th("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),Th("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),Th("#","search","hash",s)));let l=i===""||s.pathname==="",h=l?"/":s.pathname,f;if(h==null)f=n;else{let E=e.length-1;if(!o&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),E-=1;s.pathname=I.join("/")}f=E>=0?e[E]:"/"}let p=C0(s,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Vr=i=>i.join("/").replace(/\/\/+/g,"/"),x0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),D0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,V0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function N0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Pg=["POST","PUT","PATCH","DELETE"];new Set(Pg);var O0=["GET",...Pg];new Set(O0);var os=W.createContext(null);os.displayName="DataRouter";var ku=W.createContext(null);ku.displayName="DataRouterState";var kg=W.createContext({isTransitioning:!1});kg.displayName="ViewTransition";var L0=W.createContext(new Map);L0.displayName="Fetchers";var M0=W.createContext(null);M0.displayName="Await";var gr=W.createContext(null);gr.displayName="Navigation";var Sa=W.createContext(null);Sa.displayName="Location";var br=W.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var of=W.createContext(null);of.displayName="RouteError";function b0(i,{relative:e}={}){lt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=W.useContext(gr),{hash:s,pathname:l,search:h}=Aa(i,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Vr([n,l])),o.createHref({pathname:f,search:h,hash:s})}function Ra(){return W.useContext(Sa)!=null}function Yi(){return lt(Ra(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Sa).location}var xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dg(i){W.useContext(gr).static||W.useLayoutEffect(i)}function F0(){let{isDataRoute:i}=W.useContext(br);return i?X0():j0()}function j0(){lt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let i=W.useContext(os),{basename:e,navigator:n}=W.useContext(gr),{matches:o}=W.useContext(br),{pathname:s}=Yi(),l=JSON.stringify(Ag(o)),h=W.useRef(!1);return Dg(()=>{h.current=!0}),W.useCallback((p,y={})=>{if(pr(h.current,xg),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=Cg(p,JSON.parse(l),s,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vr([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,l,s,i])}W.createContext(null);function Aa(i,{relative:e}={}){let{matches:n}=W.useContext(br),{pathname:o}=Yi(),s=JSON.stringify(Ag(n));return W.useMemo(()=>Cg(i,JSON.parse(s),o,e==="path"),[i,s,o,e])}function U0(i,e){return Vg(i,e)}function Vg(i,e,n,o){var Q;lt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=W.useContext(gr),{matches:l}=W.useContext(br),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let te=_&&_.path||"";Ng(p,!_||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let E=Yi(),I;if(e){let te=typeof e=="string"?is(e):e;lt(y==="/"||((Q=te.pathname)==null?void 0:Q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${te.pathname}" was given in the \`location\` prop.`),I=te}else I=E;let P=I.pathname||"/",x=P;if(y!=="/"){let te=y.replace(/^\//,"").split("/");x="/"+P.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=Ig(i,{pathname:x});pr(_||B!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),pr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=H0(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},f,te.params),pathname:Vr([y,s.encodeLocation?s.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?y:Vr([y,s.encodeLocation?s.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),l,n,o);return e&&L?W.createElement(Sa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},L):L}function B0(){let i=Y0(),e=N0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:l},"ErrorBoundary")," or"," ",W.createElement("code",{style:l},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:s},n):null,h)}var z0=W.createElement(B0,null),$0=class extends W.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?W.createElement(br.Provider,{value:this.props.routeContext},W.createElement(of.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q0({routeContext:i,match:e,children:n}){let o=W.useContext(os);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(br.Provider,{value:i},n)}function H0(i,e=[],n=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let s=i,l=n==null?void 0:n.errors;if(l!=null){let p=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:E}=n,I=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||I){h=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,y,_)=>{let E,I=!1,P=null,x=null;n&&(E=l&&y.route.id?l[y.route.id]:void 0,P=y.route.errorElement||z0,h&&(f<0&&_===0?(Ng("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,x=null):f===_&&(I=!0,x=y.route.hydrateFallbackElement||null)));let B=e.concat(s.slice(0,_+1)),L=()=>{let Q;return E?Q=P:I?Q=x:y.route.Component?Q=W.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,W.createElement(q0,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?W.createElement($0,{location:n.location,revalidation:n.revalidation,component:P,error:E,children:L(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):L()},null)}function sf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W0(i){let e=W.useContext(os);return lt(e,sf(i)),e}function Q0(i){let e=W.useContext(ku);return lt(e,sf(i)),e}function G0(i){let e=W.useContext(br);return lt(e,sf(i)),e}function af(i){let e=G0(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function K0(){return af("useRouteId")}function Y0(){var o;let i=W.useContext(of),e=Q0("useRouteError"),n=af("useRouteError");return i!==void 0?i:(o=e.errors)==null?void 0:o[n]}function X0(){let{router:i}=W0("useNavigate"),e=af("useNavigate"),n=W.useRef(!1);return Dg(()=>{n.current=!0}),W.useCallback(async(s,l={})=>{pr(n.current,xg),n.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...l}))},[i,e])}var mm={};function Ng(i,e,n){!e&&!mm[i]&&(mm[i]=!0,pr(!1,n))}W.memo(J0);function J0({routes:i,future:e,state:n}){return Vg(i,void 0,n,e)}function Og(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z0({basename:i="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:l=!1}){lt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),f=W.useMemo(()=>({basename:h,navigator:s,static:l,future:{}}),[h,s,l]);typeof n=="string"&&(n=is(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:I="default"}=n,P=W.useMemo(()=>{let x=fi(p,h);return x==null?null:{location:{pathname:x,search:y,hash:_,state:E,key:I},navigationType:o}},[h,p,y,_,E,I,o]);return pr(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:W.createElement(gr.Provider,{value:f},W.createElement(Sa.Provider,{children:e,value:P}))}function ew({children:i,location:e}){return U0(Lh(i),e)}function Lh(i,e=[]){let n=[];return W.Children.forEach(i,(o,s)=>{if(!W.isValidElement(o))return;let l=[...e,s];if(o.type===W.Fragment){n.push.apply(n,Lh(o.props.children,l));return}lt(o.type===Og,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Lh(o.props.children,l)),n.push(h)}),n}var iu="get",ou="application/x-www-form-urlencoded";function xu(i){return i!=null&&typeof i.tagName=="string"}function tw(i){return xu(i)&&i.tagName.toLowerCase()==="button"}function nw(i){return xu(i)&&i.tagName.toLowerCase()==="form"}function rw(i){return xu(i)&&i.tagName.toLowerCase()==="input"}function iw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ow(i,e){return i.button===0&&(!e||e==="_self")&&!iw(i)}var Gl=null;function sw(){if(Gl===null)try{new FormData(document.createElement("form"),0),Gl=!1}catch{Gl=!0}return Gl}var aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(i){return i!=null&&!aw.has(i)?(pr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ou}"`),null):i}function lw(i,e){let n,o,s,l,h;if(nw(i)){let f=i.getAttribute("action");o=f?fi(f,e):null,n=i.getAttribute("method")||iu,s=Ih(i.getAttribute("enctype"))||ou,l=new FormData(i)}else if(tw(i)||rw(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||f.getAttribute("action");if(o=p?fi(p,e):null,n=i.getAttribute("formmethod")||f.getAttribute("method")||iu,s=Ih(i.getAttribute("formenctype"))||Ih(f.getAttribute("enctype"))||ou,l=new FormData(f,i),!sw()){let{name:y,type:_,value:E}=i;if(_==="image"){let I=y?`${y}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else y&&l.append(y,E)}}else{if(xu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iu,o=null,s=ou,h=i}return l&&s==="text/plain"&&(h=l,l=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:l,body:h}}function lf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function uw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hw(i,e,n){let o=await Promise.all(i.map(async s=>{let l=e.routes[s.route.id];if(l){let h=await uw(l,n);return h.links?h.links():[]}return[]}));return mw(o.flat(1).filter(cw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function gm(i,e,n,o,s,l){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,f=(p,y)=>{var _;return n[y].pathname!==p.pathname||((_=n[y].route.path)==null?void 0:_.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var E;let _=o.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function fw(i,e){return dw(i.map(n=>{let o=e.routes[n.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function dw(i){return[...new Set(i)]}function pw(i){let e={},n=Object.keys(i).sort();for(let o of n)e[o]=i[o];return e}function mw(i,e){let n=new Set;return new Set(e),i.reduce((o,s)=>{let l=JSON.stringify(pw(s));return n.has(l)||(n.add(l),o.push({key:l,link:s})),o},[])}function gw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function yw(){let i=W.useContext(os);return lf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function vw(){let i=W.useContext(ku);return lf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var uf=W.createContext(void 0);uf.displayName="FrameworkContext";function Lg(){let i=W.useContext(uf);return lf(i,"You must render this element inside a <HydratedRouter> element"),i}function _w(i,e){let n=W.useContext(uf),[o,s]=W.useState(!1),[l,h]=W.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,I=W.useRef(null);W.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=Q=>{Q.forEach(te=>{h(te.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[i]),W.useEffect(()=>{if(o){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[o]);let P=()=>{s(!0)},x=()=>{s(!1),h(!1)};return n?i!=="intent"?[l,I,{}]:[l,I,{onFocus:ra(f,P),onBlur:ra(p,x),onMouseEnter:ra(y,P),onMouseLeave:ra(_,x),onTouchStart:ra(E,P)}]:[!1,I,{}]}function ra(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ww({page:i,...e}){let{router:n}=yw(),o=W.useMemo(()=>Ig(n.routes,i,n.basename),[n.routes,i,n.basename]);return o?W.createElement(Tw,{page:i,matches:o,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function Ew(i){let{manifest:e,routeModules:n}=Lg(),[o,s]=W.useState([]);return W.useEffect(()=>{let l=!1;return hw(i,e,n).then(h=>{l||s(h)}),()=>{l=!0}},[i,e,n]),o}function Tw({page:i,matches:e,...n}){let o=Yi(),{manifest:s,routeModules:l}=Lg(),{loaderData:h,matches:f}=vw(),p=W.useMemo(()=>gm(i,e,f,s,o,"data"),[i,e,f,s,o]),y=W.useMemo(()=>gm(i,e,f,s,o,"assets"),[i,e,f,s,o]),_=W.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let P=new Set,x=!1;if(e.forEach(L=>{var te;let Q=s.routes[L.route.id];!Q||!Q.hasLoader||(!p.some(ae=>ae.route.id===L.route.id)&&L.route.id in h&&((te=l[L.route.id])!=null&&te.shouldRevalidate)||Q.hasClientLoader?x=!0:P.add(L.route.id))}),P.size===0)return[];let B=gw(i);return x&&P.size>0&&B.searchParams.set("_routes",e.filter(L=>P.has(L.route.id)).map(L=>L.route.id).join(",")),[B.pathname+B.search]},[h,o,s,p,e,i,l]),E=W.useMemo(()=>fw(y,s),[y,s]),I=Ew(y);return W.createElement(W.Fragment,null,_.map(P=>W.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),E.map(P=>W.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),I.map(({key:P,link:x})=>W.createElement("link",{key:P,...x})))}function Iw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mg&&(window.__reactRouterVersion="7.0.2")}catch{}function Sw({basename:i,children:e,window:n}){let o=W.useRef();o.current==null&&(o.current=h0({window:n,v5Compat:!0}));let s=o.current,[l,h]=W.useState({action:s.action,location:s.location}),f=W.useCallback(p=>{W.startTransition(()=>h(p))},[h]);return W.useLayoutEffect(()=>s.listen(f),[s,f]),W.createElement(Z0,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:s})}var bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=W.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:_,viewTransition:E,...I},P){let{basename:x}=W.useContext(gr),B=typeof y=="string"&&bg.test(y),L,Q=!1;if(typeof y=="string"&&B&&(L=y,Mg))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),O=fi(D.pathname,x);D.origin===A.origin&&O!=null?y=O+D.search+D.hash:Q=!0}catch{pr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=b0(y,{relative:s}),[ae,ye,Ie]=_w(o,I),Pe=Pw(y,{replace:h,state:f,target:p,preventScrollReset:_,relative:s,viewTransition:E});function V(A){e&&e(A),A.defaultPrevented||Pe(A)}let S=W.createElement("a",{...I,...Ie,href:L||te,onClick:Q||l?e:V,ref:Iw(P,ye),target:p,"data-discover":!B&&n==="render"?"true":void 0});return ae&&!B?W.createElement(W.Fragment,null,S,W.createElement(ww,{page:te})):S});cf.displayName="Link";var Rw=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:l,to:h,viewTransition:f,children:p,...y},_){let E=Aa(h,{relative:y.relative}),I=Yi(),P=W.useContext(ku),{navigator:x,basename:B}=W.useContext(gr),L=P!=null&&Nw(E)&&f===!0,Q=x.encodeLocation?x.encodeLocation(E).pathname:E.pathname,te=I.pathname,ae=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(te=te.toLowerCase(),ae=ae?ae.toLowerCase():null,Q=Q.toLowerCase()),ae&&B&&(ae=fi(ae,B)||ae);const ye=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ie=te===Q||!s&&te.startsWith(Q)&&te.charAt(ye)==="/",Pe=ae!=null&&(ae===Q||!s&&ae.startsWith(Q)&&ae.charAt(Q.length)==="/"),V={isActive:Ie,isPending:Pe,isTransitioning:L},S=Ie?e:void 0,A;typeof o=="function"?A=o(V):A=[o,Ie?"active":null,Pe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(V):l;return W.createElement(cf,{...y,"aria-current":S,className:A,ref:_,style:D,to:h,viewTransition:f},typeof p=="function"?p(V):p)});Rw.displayName="NavLink";var Aw=W.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:l,method:h=iu,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:E,...I},P)=>{let x=Dw(),B=Vw(f,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&bg.test(f),te=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ye=ae.nativeEvent.submitter,Ie=(ye==null?void 0:ye.getAttribute("formmethod"))||h;x(ye||ae.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:s,state:l,relative:y,preventScrollReset:_,viewTransition:E})};return W.createElement("form",{ref:P,method:L,action:B,onSubmit:o?p:te,...I,"data-discover":!Q&&i==="render"?"true":void 0})});Aw.displayName="Form";function Cw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fg(i){let e=W.useContext(os);return lt(e,Cw(i)),e}function Pw(i,{target:e,replace:n,state:o,preventScrollReset:s,relative:l,viewTransition:h}={}){let f=F0(),p=Yi(),y=Aa(i,{relative:l});return W.useCallback(_=>{if(ow(_,e)){_.preventDefault();let E=n!==void 0?n:pa(p)===pa(y);f(i,{replace:E,state:o,preventScrollReset:s,relative:l,viewTransition:h})}},[p,f,y,n,o,e,i,s,l,h])}var kw=0,xw=()=>`__${String(++kw)}__`;function Dw(){let{router:i}=Fg("useSubmit"),{basename:e}=W.useContext(gr),n=K0();return W.useCallback(async(o,s={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=lw(o,e);if(s.navigate===!1){let _=s.fetcherKey||xw();await i.fetch(_,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||h,formEncType:s.encType||f,flushSync:s.flushSync})}else await i.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||h,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,n])}function Vw(i,{relative:e}={}){let{basename:n}=W.useContext(gr),o=W.useContext(br);lt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...Aa(i||".",{relative:e})},h=Yi();if(i==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(E=>E).forEach(E=>f.append("index",E));let _=f.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vr([n,l.pathname])),pa(l)}function Nw(i,e={}){let n=W.useContext(kg);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Fg("useViewTransitionState"),s=Aa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let l=fi(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=fi(n.nextLocation.pathname,o)||n.nextLocation.pathname;return du(s.pathname,h)!=null||du(s.pathname,l)!=null}new TextEncoder;function Ow(){return we.jsx("h1",{children:we.jsxs(cf,{to:"/",className:"font-rubik text-transparent bg-clip-text bg-gradient-to-r from-blue-600 via-rose-500 via-deepPink-600 to-violet-600  text-4xl font-extrabold italic animate-gradient flex items-center",children:[we.jsx("img",{className:"w-[40px] h-[40px] md:w-[80px] md:h-[80px] object-cover",src:"/img/logo.png",alt:"askip-logo"}),we.jsx("img",{className:"w-[50px] h-[40px] md:w-[120px] md:h-[120px] object-fill",src:"/img/2.png",alt:"askip-logo"})]})})}const Lw=()=>{const i=new Date("2024-12-12T23:59:59"),[e,n]=W.useState(!0),[o,s]=W.useState({days:0,hours:0,minutes:0,seconds:0}),l=()=>{const y=i-new Date;if(y<=0)s({days:0,hours:0,minutes:0,seconds:0}),n(!e);else{const _=Math.floor(y/864e5),E=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),I=Math.floor(y%(1e3*60*60)/(1e3*60)),P=Math.floor(y%(1e3*60)/1e3);s({days:_,hours:E,minutes:I,seconds:P})}};W.useEffect(()=>{const p=setInterval(l,1e3);return()=>clearInterval(p)},[]);const h=["dias","horas","mins","seg"];return{timesLeft:Object.keys(o).reduce((p,y,_)=>(p[h[_]]=o[y],p),{})}};var ym={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=function(i){const e=[];let n=0;for(let o=0;o<i.length;o++){let s=i.charCodeAt(o);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++o)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Mw=function(i){const e=[];let n=0,o=0;for(;n<i.length;){const s=i[n++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=i[n++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=i[n++],h=i[n++],f=i[n++],p=((s&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(p>>10)),e[o++]=String.fromCharCode(56320+(p&1023))}else{const l=i[n++],h=i[n++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ug={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<i.length;s+=3){const l=i[s],h=s+1<i.length,f=h?i[s+1]:0,p=s+2<i.length,y=p?i[s+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let I=(f&15)<<2|y>>6,P=y&63;p||(P=64,h||(I=64)),o.push(n[_],n[E],n[I],n[P])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Mw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<i.length;){const l=n[i.charAt(s++)],f=s<i.length?n[i.charAt(s)]:0;++s;const y=s<i.length?n[i.charAt(s)]:64;++s;const E=s<i.length?n[i.charAt(s)]:64;if(++s,l==null||f==null||y==null||E==null)throw new bw;const I=l<<2|f>>4;if(o.push(I),y!==64){const P=f<<4&240|y>>2;if(o.push(P),E!==64){const x=y<<6&192|E;o.push(x)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(i){const e=jg(i);return Ug.encodeByteArray(e,!0)},pu=function(i){return Fw(i).replace(/\./g,"")},jw=function(i){try{return Ug.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=()=>Uw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof ym>"u")return;const i=ym.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$w=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jw(i[1]);return e&&JSON.parse(e)},hf=()=>{try{return Bw()||zw()||$w()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qw=i=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Hw=i=>{const e=qw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},Bg=()=>{var i;return(i=hf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",s=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[pu(JSON.stringify(n)),pu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kw(){var i;const e=(i=hf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){return!Kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((i,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(o),i(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="FirebaseError";class ss extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=Zw,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zg.prototype.create)}}class zg{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},s=`${this.service}/${e}`,l=this.errors[e],h=l?eE(l,o):"Error",f=`${this.serviceName}: ${h} (${s}).`;return new ss(s,f,o)}}function eE(i,e){return i.replace(tE,(n,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const tE=/\{\$([^}]+)}/g;function Mh(i,e){if(i===e)return!0;const n=Object.keys(i),o=Object.keys(e);for(const s of n){if(!o.includes(s))return!1;const l=i[s],h=e[s];if(vm(l)&&vm(h)){if(!Mh(l,h))return!1}else if(l!==h)return!1}for(const s of o)if(!n.includes(s))return!1;return!0}function vm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(i){return i&&i._delegate?i._delegate:i}class ma{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new Ww;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iE(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);o===f&&h.resolve(s)}return s}onInit(e,n){var o;const s=this.normalizeInstanceIdentifier(n),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const s of o)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:rE(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rE(i){return i===Wi?void 0:i}function iE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const sE={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},aE=Be.INFO,lE={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uE=(i,e,...n)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),s=lE[e];if(s)console[s](`[${o}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=aE,this._logHandler=uE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const cE=(i,e)=>e.some(n=>i instanceof n);let _m,wm;function hE(){return _m||(_m=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fE(){return wm||(wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qg=new WeakMap,bh=new WeakMap,Hg=new WeakMap,Sh=new WeakMap,ff=new WeakMap;function dE(i){const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{n(ui(i.result)),s()},h=()=>{o(i.error),s()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&qg.set(n,i)}).catch(()=>{}),ff.set(e,i),e}function pE(i){if(bh.has(i))return;const e=new Promise((n,o)=>{const s=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{n(),s()},h=()=>{o(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});bh.set(i,e)}let Fh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return bh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Hg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mE(i){Fh=i(Fh)}function gE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=i.call(Rh(this),e,...n);return Hg.set(o,e.sort?e.sort():[e]),ui(o)}:fE().includes(i)?function(...e){return i.apply(Rh(this),e),ui(qg.get(this))}:function(...e){return ui(i.apply(Rh(this),e))}}function yE(i){return typeof i=="function"?gE(i):(i instanceof IDBTransaction&&pE(i),cE(i,hE())?new Proxy(i,Fh):i)}function ui(i){if(i instanceof IDBRequest)return dE(i);if(Sh.has(i))return Sh.get(i);const e=yE(i);return e!==i&&(Sh.set(i,e),ff.set(e,i)),e}const Rh=i=>ff.get(i);function vE(i,e,{blocked:n,upgrade:o,blocking:s,terminated:l}={}){const h=indexedDB.open(i,e),f=ui(h);return o&&h.addEventListener("upgradeneeded",p=>{o(ui(h.result),p.oldVersion,p.newVersion,ui(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const _E=["get","getKey","getAll","getAllKeys","count"],wE=["put","add","delete","clear"],Ah=new Map;function Em(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,s=wE.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(s||_E.includes(n)))return;const l=async function(h,...f){const p=this.transaction(h,s?"readwrite":"readonly");let y=p.store;return o&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),s&&p.done]))[0]};return Ah.set(e,l),l}mE(i=>({...i,get:(e,n,o)=>Em(e,n)||i.get(e,n,o),has:(e,n)=>!!Em(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TE(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function TE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jh="@firebase/app",Tm="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new $g("@firebase/app"),IE="@firebase/app-compat",SE="@firebase/analytics-compat",RE="@firebase/analytics",AE="@firebase/app-check-compat",CE="@firebase/app-check",PE="@firebase/auth",kE="@firebase/auth-compat",xE="@firebase/database",DE="@firebase/data-connect",VE="@firebase/database-compat",NE="@firebase/functions",OE="@firebase/functions-compat",LE="@firebase/installations",ME="@firebase/installations-compat",bE="@firebase/messaging",FE="@firebase/messaging-compat",jE="@firebase/performance",UE="@firebase/performance-compat",BE="@firebase/remote-config",zE="@firebase/remote-config-compat",$E="@firebase/storage",qE="@firebase/storage-compat",HE="@firebase/firestore",WE="@firebase/vertexai",QE="@firebase/firestore-compat",GE="firebase",KE="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="[DEFAULT]",YE={[jh]:"fire-core",[IE]:"fire-core-compat",[RE]:"fire-analytics",[SE]:"fire-analytics-compat",[CE]:"fire-app-check",[AE]:"fire-app-check-compat",[PE]:"fire-auth",[kE]:"fire-auth-compat",[xE]:"fire-rtdb",[DE]:"fire-data-connect",[VE]:"fire-rtdb-compat",[NE]:"fire-fn",[OE]:"fire-fn-compat",[LE]:"fire-iid",[ME]:"fire-iid-compat",[bE]:"fire-fcm",[FE]:"fire-fcm-compat",[jE]:"fire-perf",[UE]:"fire-perf-compat",[BE]:"fire-rc",[zE]:"fire-rc-compat",[$E]:"fire-gcs",[qE]:"fire-gcs-compat",[HE]:"fire-fst",[QE]:"fire-fst-compat",[WE]:"fire-vertex","fire-js":"fire-js",[GE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Map,XE=new Map,Bh=new Map;function Im(i,e){try{i.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function gu(i){const e=i.name;if(Bh.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,i);for(const n of mu.values())Im(n,i);for(const n of XE.values())Im(n,i);return!0}function JE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new zg("app","Firebase",ZE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=KE;function Wg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Uh,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw ci.create("bad-app-name",{appName:String(s)});if(n||(n=Bg()),!n)throw ci.create("no-options");const l=mu.get(s);if(l){if(Mh(n,l.options)&&Mh(o,l.config))return l;throw ci.create("duplicate-app",{appName:s})}const h=new oE(s);for(const p of Bh.values())h.addComponent(p);const f=new e1(n,o,h);return mu.set(s,f),f}function n1(i=Uh){const e=mu.get(i);if(!e&&i===Uh&&Bg())return Wg();if(!e)throw ci.create("no-app",{appName:i});return e}function Qo(i,e,n){var o;let s=(o=YE[i])!==null&&o!==void 0?o:i;n&&(s+=`-${n}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(f.join(" "));return}gu(new ma(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebase-heartbeat-database",i1=1,ga="firebase-heartbeat-store";let Ch=null;function Qg(){return Ch||(Ch=vE(r1,i1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(i=>{throw ci.create("idb-open",{originalErrorMessage:i.message})})),Ch}async function o1(i){try{const n=(await Qg()).transaction(ga),o=await n.objectStore(ga).get(Gg(i));return await n.done,o}catch(e){if(e instanceof ss)Or.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function Sm(i,e){try{const o=(await Qg()).transaction(ga,"readwrite");await o.objectStore(ga).put(e,Gg(i)),await o.done}catch(n){if(n instanceof ss)Or.warn(n.message);else{const o=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(o.message)}}}function Gg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1024,a1=30*24*60*60*1e3;class l1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c1(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Rm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=a1}),this._storage.overwrite(this._heartbeatsCache))}catch(o){Or.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rm(),{heartbeatsToSend:o,unsentEntries:s}=u1(this._heartbeatsCache.heartbeats),l=pu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Or.warn(n),""}}}function Rm(){return new Date().toISOString().substring(0,10)}function u1(i,e=s1){const n=[];let o=i.slice();for(const s of i){const l=n.find(h=>h.agent===s.agent);if(l){if(l.dates.push(s.date),Am(n)>e){l.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Am(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class c1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xw()?Jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Am(i){return pu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(i){gu(new ma("platform-logger",e=>new EE(e),"PRIVATE")),gu(new ma("heartbeat",e=>new l1(e),"PRIVATE")),Qo(jh,Tm,i),Qo(jh,Tm,"esm2017"),Qo("fire-js","")}h1("");var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Kg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function A(){}A.prototype=S.prototype,V.D=S.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(D,O,b){for(var C=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)C[nt-2]=arguments[nt];return S.prototype[O].apply(D,C)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)D[O]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=V.g[0],A=V.g[1],O=V.g[2];var b=V.g[3],C=S+(b^A&(O^b))+D[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=b+(O^S&(A^O))+D[1]+3905402710&4294967295,b=S+(C<<12&4294967295|C>>>20),C=O+(A^b&(S^A))+D[2]+606105819&4294967295,O=b+(C<<17&4294967295|C>>>15),C=A+(S^O&(b^S))+D[3]+3250441966&4294967295,A=O+(C<<22&4294967295|C>>>10),C=S+(b^A&(O^b))+D[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=b+(O^S&(A^O))+D[5]+1200080426&4294967295,b=S+(C<<12&4294967295|C>>>20),C=O+(A^b&(S^A))+D[6]+2821735955&4294967295,O=b+(C<<17&4294967295|C>>>15),C=A+(S^O&(b^S))+D[7]+4249261313&4294967295,A=O+(C<<22&4294967295|C>>>10),C=S+(b^A&(O^b))+D[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=b+(O^S&(A^O))+D[9]+2336552879&4294967295,b=S+(C<<12&4294967295|C>>>20),C=O+(A^b&(S^A))+D[10]+4294925233&4294967295,O=b+(C<<17&4294967295|C>>>15),C=A+(S^O&(b^S))+D[11]+2304563134&4294967295,A=O+(C<<22&4294967295|C>>>10),C=S+(b^A&(O^b))+D[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=b+(O^S&(A^O))+D[13]+4254626195&4294967295,b=S+(C<<12&4294967295|C>>>20),C=O+(A^b&(S^A))+D[14]+2792965006&4294967295,O=b+(C<<17&4294967295|C>>>15),C=A+(S^O&(b^S))+D[15]+1236535329&4294967295,A=O+(C<<22&4294967295|C>>>10),C=S+(O^b&(A^O))+D[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=b+(A^O&(S^A))+D[6]+3225465664&4294967295,b=S+(C<<9&4294967295|C>>>23),C=O+(S^A&(b^S))+D[11]+643717713&4294967295,O=b+(C<<14&4294967295|C>>>18),C=A+(b^S&(O^b))+D[0]+3921069994&4294967295,A=O+(C<<20&4294967295|C>>>12),C=S+(O^b&(A^O))+D[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=b+(A^O&(S^A))+D[10]+38016083&4294967295,b=S+(C<<9&4294967295|C>>>23),C=O+(S^A&(b^S))+D[15]+3634488961&4294967295,O=b+(C<<14&4294967295|C>>>18),C=A+(b^S&(O^b))+D[4]+3889429448&4294967295,A=O+(C<<20&4294967295|C>>>12),C=S+(O^b&(A^O))+D[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=b+(A^O&(S^A))+D[14]+3275163606&4294967295,b=S+(C<<9&4294967295|C>>>23),C=O+(S^A&(b^S))+D[3]+4107603335&4294967295,O=b+(C<<14&4294967295|C>>>18),C=A+(b^S&(O^b))+D[8]+1163531501&4294967295,A=O+(C<<20&4294967295|C>>>12),C=S+(O^b&(A^O))+D[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=b+(A^O&(S^A))+D[2]+4243563512&4294967295,b=S+(C<<9&4294967295|C>>>23),C=O+(S^A&(b^S))+D[7]+1735328473&4294967295,O=b+(C<<14&4294967295|C>>>18),C=A+(b^S&(O^b))+D[12]+2368359562&4294967295,A=O+(C<<20&4294967295|C>>>12),C=S+(A^O^b)+D[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=b+(S^A^O)+D[8]+2272392833&4294967295,b=S+(C<<11&4294967295|C>>>21),C=O+(b^S^A)+D[11]+1839030562&4294967295,O=b+(C<<16&4294967295|C>>>16),C=A+(O^b^S)+D[14]+4259657740&4294967295,A=O+(C<<23&4294967295|C>>>9),C=S+(A^O^b)+D[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=b+(S^A^O)+D[4]+1272893353&4294967295,b=S+(C<<11&4294967295|C>>>21),C=O+(b^S^A)+D[7]+4139469664&4294967295,O=b+(C<<16&4294967295|C>>>16),C=A+(O^b^S)+D[10]+3200236656&4294967295,A=O+(C<<23&4294967295|C>>>9),C=S+(A^O^b)+D[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=b+(S^A^O)+D[0]+3936430074&4294967295,b=S+(C<<11&4294967295|C>>>21),C=O+(b^S^A)+D[3]+3572445317&4294967295,O=b+(C<<16&4294967295|C>>>16),C=A+(O^b^S)+D[6]+76029189&4294967295,A=O+(C<<23&4294967295|C>>>9),C=S+(A^O^b)+D[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=b+(S^A^O)+D[12]+3873151461&4294967295,b=S+(C<<11&4294967295|C>>>21),C=O+(b^S^A)+D[15]+530742520&4294967295,O=b+(C<<16&4294967295|C>>>16),C=A+(O^b^S)+D[2]+3299628645&4294967295,A=O+(C<<23&4294967295|C>>>9),C=S+(O^(A|~b))+D[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=b+(A^(S|~O))+D[7]+1126891415&4294967295,b=S+(C<<10&4294967295|C>>>22),C=O+(S^(b|~A))+D[14]+2878612391&4294967295,O=b+(C<<15&4294967295|C>>>17),C=A+(b^(O|~S))+D[5]+4237533241&4294967295,A=O+(C<<21&4294967295|C>>>11),C=S+(O^(A|~b))+D[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=b+(A^(S|~O))+D[3]+2399980690&4294967295,b=S+(C<<10&4294967295|C>>>22),C=O+(S^(b|~A))+D[10]+4293915773&4294967295,O=b+(C<<15&4294967295|C>>>17),C=A+(b^(O|~S))+D[1]+2240044497&4294967295,A=O+(C<<21&4294967295|C>>>11),C=S+(O^(A|~b))+D[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=b+(A^(S|~O))+D[15]+4264355552&4294967295,b=S+(C<<10&4294967295|C>>>22),C=O+(S^(b|~A))+D[6]+2734768916&4294967295,O=b+(C<<15&4294967295|C>>>17),C=A+(b^(O|~S))+D[13]+1309151649&4294967295,A=O+(C<<21&4294967295|C>>>11),C=S+(O^(A|~b))+D[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=b+(A^(S|~O))+D[11]+3174756917&4294967295,b=S+(C<<10&4294967295|C>>>22),C=O+(S^(b|~A))+D[2]+718787259&4294967295,O=b+(C<<15&4294967295|C>>>17),C=A+(b^(O|~S))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+b&4294967295}o.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var A=S-this.blockSize,D=this.B,O=this.h,b=0;b<S;){if(O==0)for(;b<=A;)s(this,V,b),b+=this.blockSize;if(typeof V=="string"){for(;b<S;)if(D[O++]=V.charCodeAt(b++),O==this.blockSize){s(this,D),O=0;break}}else for(;b<S;)if(D[O++]=V[b++],O==this.blockSize){s(this,D),O=0;break}}this.h=O,this.o+=S},o.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var A=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=A&255,A/=256;for(this.u(V),V=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)V[A++]=this.g[S]>>>D&255;return V};function l(V,S){var A=f;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=S(V)}function h(V,S){this.h=S;for(var A=[],D=!0,O=V.length-1;0<=O;O--){var b=V[O]|0;D&&b==S||(A[O]=b,D=!1)}this.g=A}var f={};function p(V){return-128<=V&&128>V?l(V,function(S){return new h([S|0],0>S?-1:0)}):new h([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return L(y(-V));for(var S=[],A=1,D=0;V>=A;D++)S[D]=V/A|0,A*=4294967296;return new h(S,0)}function _(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return L(_(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),D=E,O=0;O<V.length;O+=8){var b=Math.min(8,V.length-O),C=parseInt(V.substring(O,O+b),S);8>b?(b=y(Math.pow(S,b)),D=D.j(b).add(y(C))):(D=D.j(A),D=D.add(y(C)))}return D}var E=p(0),I=p(1),P=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-L(this).m();for(var V=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);V+=(0<=D?D:4294967296+D)*S,S*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(B(this))return"-"+L(this).toString(V);for(var S=y(Math.pow(V,6)),A=this,D="";;){var O=ye(A,S).g;A=Q(A,O.j(S));var b=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=O,x(A))return b+D;for(;6>b.length;)b="0"+b;D=b+D}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function B(V){return V.h==-1}i.l=function(V){return V=Q(this,V),B(V)?-1:x(V)?0:1};function L(V){for(var S=V.g.length,A=[],D=0;D<S;D++)A[D]=~V.g[D];return new h(A,~V.h).add(I)}i.abs=function(){return B(this)?L(this):this},i.add=function(V){for(var S=Math.max(this.g.length,V.g.length),A=[],D=0,O=0;O<=S;O++){var b=D+(this.i(O)&65535)+(V.i(O)&65535),C=(b>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);D=C>>>16,b&=65535,C&=65535,A[O]=C<<16|b}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Q(V,S){return V.add(L(S))}i.j=function(V){if(x(this)||x(V))return E;if(B(this))return B(V)?L(this).j(L(V)):L(L(this).j(V));if(B(V))return L(this.j(L(V)));if(0>this.l(P)&&0>V.l(P))return y(this.m()*V.m());for(var S=this.g.length+V.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<V.g.length;O++){var b=this.i(D)>>>16,C=this.i(D)&65535,nt=V.i(O)>>>16,gt=V.i(O)&65535;A[2*D+2*O]+=C*gt,te(A,2*D+2*O),A[2*D+2*O+1]+=b*gt,te(A,2*D+2*O+1),A[2*D+2*O+1]+=C*nt,te(A,2*D+2*O+1),A[2*D+2*O+2]+=b*nt,te(A,2*D+2*O+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new h(A,0)};function te(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ae(V,S){this.g=V,this.h=S}function ye(V,S){if(x(S))throw Error("division by zero");if(x(V))return new ae(E,E);if(B(V))return S=ye(L(V),S),new ae(L(S.g),L(S.h));if(B(S))return S=ye(V,L(S)),new ae(L(S.g),S.h);if(30<V.g.length){if(B(V)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,D=S;0>=D.l(V);)A=Ie(A),D=Ie(D);var O=Pe(A,1),b=Pe(D,1);for(D=Pe(D,2),A=Pe(A,2);!x(D);){var C=b.add(D);0>=C.l(V)&&(O=O.add(A),b=C),D=Pe(D,1),A=Pe(A,1)}return S=Q(V,O.j(S)),new ae(O,S)}for(O=E;0<=V.l(S);){for(A=Math.max(1,Math.floor(V.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),b=y(A),C=b.j(S);B(C)||0<C.l(V);)A-=D,b=y(A),C=b.j(S);x(b)&&(b=I),O=O.add(b),V=Q(V,C)}return new ae(O,V)}i.A=function(V){return ye(this,V).h},i.and=function(V){for(var S=Math.max(this.g.length,V.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&V.i(D);return new h(A,this.h&V.h)},i.or=function(V){for(var S=Math.max(this.g.length,V.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|V.i(D);return new h(A,this.h|V.h)},i.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^V.i(D);return new h(A,this.h^V.h)};function Ie(V){for(var S=V.g.length+1,A=[],D=0;D<S;D++)A[D]=V.i(D)<<1|V.i(D-1)>>>31;return new h(A,V.h)}function Pe(V,S){var A=S>>5;S%=32;for(var D=V.g.length-A,O=[],b=0;b<D;b++)O[b]=0<S?V.i(b+A)>>>S|V.i(b+A+1)<<32-S:V.i(b+A);return new h(O,V.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Kg=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Gi=h}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yg,ia,Xg,su,zh,Jg,Zg,ey;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kl=="object"&&Kl];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=n(this);function s(u,m){if(m)e:{var v=o;u=u.split(".");for(var T=0;T<u.length-1;T++){var F=u[T];if(!(F in v))break e;v=v[F]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,T=!1,F={next:function(){if(!T&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function P(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,F,q){for(var ie=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ie[Ge-2]=arguments[Ge];return m.prototype[F].apply(T,ie)}}function B(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function L(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const F=u.length||0,q=T.length||0;u.length=F+q;for(let ie=0;ie<q;ie++)u[F+ie]=T[ie]}else u.push(T)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function ae(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ye(u){return ye[" "](u),u}ye[" "]=function(){};var Ie=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Pe(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function V(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(v in T)u[v]=T[v];for(let q=0;q<A.length;q++)v=A[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function b(u){f.setTimeout(()=>{throw u},0)}function C(){var u=ve;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new Q(()=>new At,u=>u.reset());class At{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let We,oe=!1,ve=new nt,le=()=>{const u=f.Promise.resolve(void 0);We=()=>{u.then(M)}};var M=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){b(v)}var m=gt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function xe(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Ie){e:{try{ye(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}x(xe,pe);var Ve={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),z=0;function H(u,m,v,T,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=F,this.key=++z,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function G(u){this.src=u,this.g={},this.h=0}G.prototype.add=function(u,m,v,T,F){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ie=se(u,m,T,F);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new H(m,this.src,q,!!T,F),m.fa=v,u.push(m)),m};function Oe(u,m){var v=m.type;if(v in u.g){var T=u.g[v],F=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=F)&&Array.prototype.splice.call(T,F,1),q&&(J(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function se(u,m,v,T){for(var F=0;F<u.length;++F){var q=u[F];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return F}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),$e={};function Ke(u,m,v,T,F){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ke(u,m[q],v,T,F);return null}return v=Dn(v),u&&u[Fe]?u.K(m,v,y(T)?!!T.capture:!!T,F):He(u,m,v,!1,T,F)}function He(u,m,v,T,F,q){if(!m)throw Error("Invalid event type");var ie=y(F)?!!F.capture:!!F,Ge=Xn(u);if(Ge||(u[Ae]=Ge=new G(u)),v=Ge.add(m,v,T,ie,q),v.proxy)return v;if(T=Jt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)De||(F=ie),F===void 0&&(F=!1),u.addEventListener(m.toString(),T,F);else if(u.attachEvent)u.attachEvent(cn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jt(){function u(v){return m.call(u.src,u.listener,v)}const m=yr;return u}function Ct(u,m,v,T,F){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ct(u,m[q],v,T,F);else T=y(T)?!!T.capture:!!T,v=Dn(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=se(q,v,T,F),-1<v&&(J(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Xn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=se(m,v,T,F)),(v=-1<u?m[u]:null)&&ft(v))}function ft(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Oe(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(cn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Xn(m))?(Oe(v,u),v.h==0&&(v.src=null,m[Ae]=null)):J(u)}}}function cn(u){return u in $e?$e[u]:$e[u]="on"+u}function yr(u,m){if(u.da)u=!0;else{m=new xe(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&ft(u),u=v.call(T,m)}return u}function Xn(u){return u=u[Ae],u instanceof G?u:null}var Jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(u){return typeof u=="function"?u:(u[Jn]||(u[Jn]=function(m){return u.handleEvent(m)}),u[Jn])}function ot(){K.call(this),this.i=new G(this),this.M=this,this.F=null}x(ot,K),ot.prototype[Fe]=!0,ot.prototype.removeEventListener=function(u,m,v,T){Ct(this,u,m,v,T)};function ct(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var F=m;m=new pe(T,u),D(m,F)}if(F=!0,v)for(var q=v.length-1;0<=q;q--){var ie=m.g=v[q];F=Vn(ie,T,!0,m)&&F}if(ie=m.g=u,F=Vn(ie,T,!0,m)&&F,F=Vn(ie,T,!1,m)&&F,v)for(q=0;q<v.length;q++)ie=m.g=v[q],F=Vn(ie,T,!1,m)&&F}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)J(v[T]);delete u.g[m],u.h--}}this.F=null},ot.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ot.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function Vn(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,q=0;q<m.length;++q){var ie=m[q];if(ie&&!ie.da&&ie.capture==v){var Ge=ie.listener,Et=ie.ha||ie.src;ie.fa&&Oe(u.i,ie),F=Ge.call(Et,T)!==!1&&F}}return F&&!T.defaultPrevented}function Fr(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Nn(u){u.g=Fr(()=>{u.g=null,u.i&&(u.i=!1,Nn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class hn extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Nn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(u){K.call(this),this.h=u,this.g={}}x(Zn,K);var fs=[];function ds(u){Pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&ft(m)},u),u.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),ds(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=f.JSON.stringify,ms=f.JSON.parse,gs=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ei(){}Ei.prototype.h=null;function to(u){return u.h||(u.h=u.i())}function no(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){pe.call(this,"d")}x(er,pe);function ro(){pe.call(this,"c")}x(ro,pe);var tr={},ys=null;function Ti(){return ys=ys||new ot}tr.La="serverreachability";function vs(u){pe.call(this,tr.La,u)}x(vs,pe);function vr(u){const m=Ti();ct(m,new vs(m))}tr.STAT_EVENT="statevent";function _s(u,m){pe.call(this,tr.STAT_EVENT,u),this.stat=m}x(_s,pe);function dt(u){const m=Ti();ct(m,new _s(m,u))}tr.Ma="timingevent";function io(u,m){pe.call(this,tr.Ma,u),this.size=m}x(io,pe);function On(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Si(u,m,v,T,F,q){u.info(function(){if(u.g)if(q)for(var ie="",Ge=q.split("&"),Et=0;Et<Ge.length;Et++){var je=Ge[Et].split("=");if(1<je.length){var Pt=je[0];je=je[1];var yt=Pt.split("_");ie=2<=yt.length&&yt[1]=="type"?ie+(Pt+"="+je+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+v+`
`+ie})}function oo(u,m,v,T,F,q,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+v+`
`+q+" "+ie})}function Ln(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hu(u,v)+(T?" "+T:"")})}function ws(u,m){u.info(function(){return"TIMEOUT: "+m})}Ii.prototype.info=function(){};function Hu(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return ps(v)}catch{return m}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Na={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Ri(){}x(Ri,Ei),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},Mn=new Ri;function bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oa}function Oa(){this.i=null,this.g="",this.h=!1}var Es={},ao={};function lo(u,m,v){u.L=1,u.v=$r(dn(m)),u.m=v,u.P=!0,Ts(u,null)}function Ts(u,m){u.F=Date.now(),Xe(u),u.A=dn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Hr(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Oa,u.g=Ja(u.j,v?m:null,!u.m),0<u.O&&(u.M=new hn(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(fs[0]=F.toString()),F=fs);for(var q=0;q<F.length;q++){var ie=Ke(v,F[q],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),vr(),Si(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const yt=en(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||Ps(this.g)))){this.J||yt!=4||m==7||(m==8||0>=In?vr(3):vr(2)),Ai(this);var v=this.g.Z();this.X=v;t:if(La(this)){var T=Ps(this.g);u="";var F=T.length,q=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),jr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==F-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,oo(this.i,this.u,this.A,this.l,this.R,yt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Et=this.g;if((Ge=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ge)){var je=Ge;break t}}je=null}if(v=je)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,v);else{this.o=!1,this.s=3,dt(12),En(this),jr(this);break e}}if(this.P){v=!0;let mn;for(;!this.J&&this.C<ie.length;)if(mn=Wu(this,ie),mn==ao){yt==4&&(this.s=4,dt(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Es){this.s=4,dt(15),Ln(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,mn,null),Is(this,mn);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,ie,"[Invalid Chunked Response]"),En(this),jr(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),xs(Pt),Pt.M=!0,dt(11))}}else Ln(this.i,this.l,ie,null),Is(this,ie);yt==4&&En(this),this.o&&!this.J&&(yt==4?wo(this.j,this):(this.o=!1,Xe(this)))}else mo(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),En(this),jr(this)}}}catch{}finally{}};function La(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ao:(v=Number(m.substring(v,T)),isNaN(v)?Es:(T+=1,T+v>m.length?ao:(m=m.slice(T,T+v),u.C=T+v,m)))}bn.prototype.cancel=function(){this.J=!0,En(this)};function Xe(u){u.S=Date.now()+u.I,Ma(u,u.I)}function Ma(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(I(u.ba,u),m)}function Ai(u){u.B&&(f.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ws(this.i,this.A),this.L!=2&&(vr(),dt(17)),En(this),this.s=2,jr(this)):Ma(this,this.S-u)};function jr(u){u.j.G==0||u.J||wo(u.j,u)}function En(u){Ai(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ds(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Is(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Gt(v.h,u))){if(!u.K&&Gt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)_o(v),zn(v);else break e;vo(v),dt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=On(I(v.Za,v),6e3));if(1>=Fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((u.K||v.g==u)&&_o(v),!te(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let je=F[m];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Pt=je[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const yt=je[4];yt!=null&&(v.Aa=yt,v.j.info("SVER="+v.Aa));const In=je[5];In!=null&&typeof In=="number"&&0<In&&(T=1.5*In,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const mn=u.g;if(mn){const Ni=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var q=T.h;q.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ss(q,q.h),q.h=null))}if(T.D){const To=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(T.ya=To,Ye(T.I,T.D,To))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ie=u;if(T.qa=Xa(T,T.J?T.ia:null,T.W),ie.K){ja(T.h,ie);var Ge=ie,Et=T.L;Et&&(Ge.I=Et),Ge.B&&(Ai(Ge),Xe(Ge)),T.g=ie}else Vi(T);0<v.i.length&&or(v)}else je[0]!="stop"&&je[0]!="close"||Ir(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ir(v,7):Ot(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}vr(4)}catch{}}var ba=class{constructor(u,m){this.g=u,this.map=m}};function Ci(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fa(u){return u.h?1:u.g?u.g.size:0}function Gt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ss(u,m){u.g?u.g.add(m):u.h=m}function ja(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=Ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ua(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return B(u.i)}function uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function co(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function Ur(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=co(u),T=uo(u),F=T.length,q=0;q<F;q++)m.call(void 0,T[q],v&&v[q],u)}var Pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qu(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),F=null;if(0<=T){var q=u[v].substring(0,T);F=u[v].substring(T+1)}else q=u[v];m(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function _r(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _r){this.h=u.h,ki(this,u.j),this.o=u.o,this.g=u.g,Br(this,u.s),this.l=u.l;var m=u.i,v=new nr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),zr(this,v),this.m=u.m}else u&&(m=String(u).match(Pi))?(this.h=!1,ki(this,m[1]||"",!0),this.o=Me(m[2]||""),this.g=Me(m[3]||"",!0),Br(this,m[4]),this.l=Me(m[5]||"",!0),zr(this,m[6]||"",!0),this.m=Me(m[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}_r.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,ho,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,ho,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(qr(v,v.charAt(0)=="/"?$a:za,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",qr(v,Rs)),u.join("")};function dn(u){return new _r(u)}function ki(u,m,v){u.j=v?Me(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Br(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function zr(u,m,v){m instanceof nr?(u.i=m,rr(u.i,u.h)):(v||(m=qr(m,qa)),u.i=new nr(m,u.h))}function Ye(u,m,v){u.i.set(m,v)}function $r(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Me(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ba),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ba(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ho=/[#\/\?@]/g,za=/[#\?:]/g,$a=/[#\?]/g,qa=/[#\?@]/g,Rs=/#/g;function nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&Qu(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}i=nr.prototype,i.add=function(u,m){Nt(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Fn(u,m){Nt(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jn(u,m){return Nt(u),m=Tn(u,m),u.g.has(m)}i.forEach=function(u,m){Nt(this),this.g.forEach(function(v,T){v.forEach(function(F){u.call(m,F,T,this)},this)},this)},i.na=function(){Nt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const F=u[T];for(let q=0;q<F.length;q++)v.push(m[T])}return v},i.V=function(u){Nt(this);let m=[];if(typeof u=="string")jn(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},i.set=function(u,m){return Nt(this),this.i=null,u=Tn(this,u),jn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hr(u,m,v){Fn(u,m),0<v.length&&(u.i=null,u.g.set(Tn(u,m),B(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const q=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var F=q;ie[T]!==""&&(F+="="+encodeURIComponent(String(ie[T]))),u.push(F)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rr(u,m){m&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(v,T){var F=T.toLowerCase();T!=F&&(Fn(this,T),Hr(this,F,v))},u)),u.j=m}function Gu(u,m){const v=new Ii;if(f.Image){const T=new Image;T.onload=P(Zt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=P(Zt,v,"TestLoadImage: error",!1,m,T),T.onabort=P(Zt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=P(Zt,v,"TestLoadImage: timeout",!1,m,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ha(u,m){const v=new Ii,T=new AbortController,F=setTimeout(()=>{T.abort(),Zt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(F),q.ok?Zt(v,"TestPingServer: ok",!0,m):Zt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Zt(v,"TestPingServer: error",!1,m)})}function Zt(u,m,v,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(v)}catch{}}function Ku(){this.g=new gs}function Wa(u,m,v){const T=v||"";try{Ur(u,function(F,q){let ie=F;y(F)&&(ie=ps(F)),m.push(T+q+"="+encodeURIComponent(ie))})}catch(F){throw m.push(T+"type="+encodeURIComponent("_badmap")),F}}function wr(u){this.l=u.Ub||null,this.j=u.eb||!1}x(wr,Ei),wr.prototype.g=function(){return new xi(this.l,this.j)},wr.prototype.i=function(u){return function(){return u}}({});function xi(u,m){ot.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(xi,ot),i=xi.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Bn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Un(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Un(this):Bn(this),this.readyState==3&&Qa(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Un(this))},i.Qa=function(u){this.g&&(this.response=u,Un(this))},i.ga=function(){this.g&&Un(this)};function Un(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}i.setRequestHeader=function(u,m){this.u.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Er(u){let m="";return Pe(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Wr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Er(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,m,v))}function rt(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(rt,ot);var Yu=/^https?$/i,As=["POST","PUT"];i=rt.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?to(this.o):to(Mn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Di(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)v.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(As,m,void 0))||T||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of v)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Di(this,q)}};function Di(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,fo(u),pn(u)}function fo(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ct(this,"complete"),ct(this,"abort"),pn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Cs(this):this.bb())},i.bb=function(){Cs(this)};function Cs(u){if(u.h&&typeof h<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)Fr(u.Ea,0,u);else if(ct(u,"readystatechange"),en(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ie===0){var F=String(u.D).match(Pi)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!Yu.test(F?F.toLowerCase():"")}v=T}if(v)ct(u,"complete"),ct(u,"success");else{u.m=6;try{var q=2<en(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",fo(u)}}finally{pn(u)}}}}function pn(u,m){if(u.g){po(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ct(u,"ready");try{v.onreadystatechange=T}catch{}}}function po(u){u.I&&(f.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ms(m)}};function Ps(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var v=O(u[T]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[F]||[];m[F]=q,q.push(v)}V(m,function(T){return T.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ks(u){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,u),this.cb=ir("retryDelaySeedMs",1e4,u),this.Wa=ir("forwardChannelMaxRetries",2,u),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(u&&u.concurrentRequestLimit),this.Da=new Ku,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ks.prototype,i.la=8,i.G=1,i.connect=function(u,m,v,T){dt(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Xa(this,null,this.W),or(this)};function Ot(u){if(go(u),u.G==3){var m=u.U++,v=dn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Tr(u,v),m=new bn(u,u.j,m),m.L=2,m.v=$r(dn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ja(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}Ya(u)}function zn(u){u.g&&(xs(u),u.g.cancel(),u.g=null)}function go(u){zn(u),u.u&&(f.clearTimeout(u.u),u.u=null),_o(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function or(u){if(!fn(u.h)&&!u.s){u.s=!0;var m=u.Ga;We||le(),oe||(We(),oe=!0),ve.add(m,u),u.B=0}}function Xu(u,m){return Fa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(I(u.Ga,u,m),Ka(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new bn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Qr(this,F,m),v=dn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Tr(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(Er(q)))+"&"+m:this.m&&Wr(v,this.m,q)),Ss(this.h,F),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),F.T=!0,lo(F,v,null)):lo(F,v,m),this.G=2}}else this.G==3&&(u?yo(this,u):this.i.length==0||fn(this.h)||yo(this))};function yo(u,m){var v;m?v=m.l:v=u.U++;const T=dn(u.I);Ye(T,"SID",u.K),Ye(T,"RID",v),Ye(T,"AID",u.T),Tr(u,T),u.m&&u.o&&Wr(T,u.m,u.o),v=new bn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ss(u.h,v),lo(v,T,m)}function Tr(u,m){u.H&&Pe(u.H,function(v,T){Ye(m,T,v)}),u.l&&Ur({},function(v,T){Ye(m,T,v)})}function Qr(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var F=u.i;let q=-1;for(;;){const ie=["count="+v];q==-1?0<v?(q=F[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let Ge=!0;for(let Et=0;Et<v;Et++){let je=F[Et].g;const Pt=F[Et].map;if(je-=q,0>je)q=Math.max(0,F[Et].g-100),Ge=!1;else try{Wa(Pt,ie,"req"+je+"_")}catch{T&&T(Pt)}}if(Ge){T=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Vi(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;We||le(),oe||(We(),oe=!0),ve.add(m,u),u.v=0}}function vo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(I(u.Fa,u),Ka(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Ga(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(I(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),zn(this),Ga(this))};function xs(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ga(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=dn(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),Tr(u,m),u.m&&u.o&&Wr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=$r(dn(m)),v.m=null,v.P=!0,Ts(v,u)}i.Za=function(){this.C!=null&&(this.C=null,zn(this),vo(this),dt(19))};function _o(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function wo(u,m){var v=null;if(u.g==m){_o(u),xs(u),u.g=null;var T=2}else if(Gt(u.h,m))v=m.D,ja(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;T=Ti(),ct(T,new io(T,v)),or(u)}else Vi(u);else if(F=m.s,F==3||F==0&&0<m.X||!(T==1&&Xu(u,m)||T==2&&vo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Ir(u,5);break;case 4:Ir(u,10);break;case 3:Ir(u,6);break;default:Ir(u,2)}}}function Ka(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ir(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const F=!T;T=new _r(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ki(T,"https"),$r(T),F?Gu(T.toString(),v):Ha(T.toString(),v)}else dt(2);u.G=0,u.l&&u.l.sa(m),Ya(u),go(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ya(u){if(u.G=0,u.ka=[],u.l){const m=Ua(u.h);(m.length!=0||u.i.length!=0)&&(L(u.ka,m),L(u.ka,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.ra()}}function Xa(u,m,v){var T=v instanceof _r?dn(v):new _r(v);if(T.g!="")m&&(T.g=m+"."+T.g),Br(T,T.s);else{var F=f.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var q=new _r(null);T&&ki(q,T),m&&(q.g=m),F&&Br(q,F),v&&(q.l=v),T=q}return v=u.D,m=u.ya,v&&m&&Ye(T,v,m),Ye(T,"VER",u.la),Tr(u,T),T}function Ja(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new wr({eb:v})):new rt(u.pa),m.Ha(u.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ds(){}i=Ds.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Eo(){}Eo.prototype.g=function(u,m){return new Kt(u,m)};function Kt(u,m){ot.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}x(Kt,ot),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Ot(this.g)},Kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ps(u),u=v);m.i.push(new ba(m.Ya++,u)),m.G==3&&or(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Kt.aa.N.call(this)};function Za(u){er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Za,er);function el(){ro.call(this),this.status=1}x(el,ro);function sr(u){this.g=u}x(sr,Ds),sr.prototype.ua=function(){ct(this.g,"a")},sr.prototype.ta=function(u){ct(this.g,new Za(u))},sr.prototype.sa=function(u){ct(this.g,new el)},sr.prototype.ra=function(){ct(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,ey=function(){return new Eo},Zg=function(){return Ti()},Jg=tr,zh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,su=so,Na.COMPLETE="complete",Xg=Na,no.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ia=no,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Yg=rt}).apply(typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{});const Pm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new $g("@firebase/firestore");function $o(){return Ki.logLevel}function ce(i,...e){if(Ki.logLevel<=Be.DEBUG){const n=e.map(df);Ki.debug(`Firestore (${as}): ${i}`,...n)}}function Lr(i,...e){if(Ki.logLevel<=Be.ERROR){const n=e.map(df);Ki.error(`Firestore (${as}): ${i}`,...n)}}function Yo(i,...e){if(Ki.logLevel<=Be.WARN){const n=e.map(df);Ki.warn(`Firestore (${as}): ${i}`,...n)}}function df(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i="Unexpected state"){const e=`FIRESTORE (${as}) INTERNAL ASSERTION FAILED: `+i;throw Lr(e),new Error(e)}function Qe(i,e){i||Re()}function ke(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class d1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p1{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let o=this.i;const s=p=>this.i!==o?(o=this.i,n(p)):Promise.resolve();let l=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Nr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Nr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Qe(typeof o.accessToken=="string"),new ty(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Wt(e)}}class m1{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class g1{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new m1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const o=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new y1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=_1(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<n&&(o+=e.charAt(s[l]%e.length))}return o}}function be(i,e){return i<e?-1:i>e?1:0}function Xo(i,e,n){return i.length===e.length&&i.every((o,s)=>n(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new St(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new St(0,0))}static max(){return new Ce(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,o){n===void 0?n=0:n>e.length&&Re(),o===void 0?o=e.length-n:o>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let s=0;s<o;s++){const l=e.get(s),h=n.get(s);if(l<h)return-1;if(l>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends ya{construct(e,n,o){return new tt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ya{construct(e,n,o){return new jt(e,n,o)}static isValidIdentifier(e){return w1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let o="",s=0;const l=()=>{if(o.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let h=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=p,s+=2}else f==="`"?(h=!h,s++):f!=="."||h?(o+=f,s++):(l(),s++)}if(l(),h)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}function E1(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,s=Ce.fromTimestamp(o===1e9?new St(n+1,0):new St(n,o));return new di(s,_e.empty(),e)}function T1(i){return new di(i.readTime,i.key,-1)}class di{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new di(Ce.min(),_e.empty(),-1)}static max(){return new di(Ce.max(),_e.empty(),-1)}}function I1(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:be(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==S1)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,o)=>{n(e)})}static reject(e){return new Y((n,o)=>{o(e)})}static waitFor(e){return new Y((n,o)=>{let s=0,l=0,h=!1;e.forEach(f=>{++s,f.next(()=>{++l,h&&l===s&&n()},p=>o(p))}),h=!0,l===s&&n()})}static or(e){let n=Y.resolve(!1);for(const o of e)n=n.next(s=>s?Y.resolve(s):o());return n}static forEach(e,n){const o=[];return e.forEach((s,l)=>{o.push(n.call(this,s,l))}),this.waitFor(o)}static mapArray(e,n){return new Y((o,s)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;n(e[y]).next(_=>{h[y]=_,++f,f===l&&o(h)},_=>s(_))}})}static doWhile(e,n){return new Y((o,s)=>{const l=()=>{e()===!0?n().next(()=>{l()},s):o()};l()})}}function A1(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function us(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ie(o),this.se=o=>n.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Du.oe=-1;function Vu(i){return i==null}function yu(i){return i===0&&1/i==-1/0}function C1(i){return typeof i=="number"&&Number.isInteger(i)&&!yu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=km(e)),e=k1(i.get(n),e);return km(e)}function k1(i,e){let n=e;const o=i.length;for(let s=0;s<o;s++){const l=i.charAt(s);switch(l){case"\0":n+="";break;case"":n+="";break;default:n+=l}}return n}function km(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Xi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ry(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return n+o.left.size;s<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yl(this.root,e,this.comparator,!0)}}class Yl{constructor(e,n,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,o,s,l){this.key=e,this.value=n,this.color=o??Ft.RED,this.left=s??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,s,l){return new Ft(e??this.key,n??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,n,o),null):l===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,o,s,l){return this}insert(e,n,o){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dm(this.data.getIterator())}getIteratorFrom(e){return new Dm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Dm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Rt(jt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iy("Invalid base64 string: "+l):l}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const x1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(i){if(Qe(!!i),typeof i=="string"){let e=0;const n=x1.exec(i);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function mi(i){return typeof i=="string"?Ut.fromBase64String(i):Ut.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nu(i){const e=i.mapValue.fields.__previous_value__;return pf(e)?Nu(e):e}function va(i){const e=pi(i.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,o,s,l,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class _a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pf(i)?4:N1(i)?9007199254740991:V1(i)?10:11:Re()}function mr(i,e){if(i===e)return!0;const n=gi(i);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return va(i).isEqual(va(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=pi(s.timestampValue),f=pi(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,l){return mi(s.bytesValue).isEqual(mi(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return mt(s.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return mt(s.integerValue)===mt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=mt(s.doubleValue),f=mt(l.doubleValue);return h===f?yu(h)===yu(f):isNaN(h)&&isNaN(f)}return!1}(i,e);case 9:return Xo(i.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(s,l){const h=s.mapValue.fields||{},f=l.mapValue.fields||{};if(xm(h)!==xm(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!mr(h[p],f[p])))return!1;return!0}(i,e);default:return Re()}}function wa(i,e){return(i.values||[]).find(n=>mr(n,e))!==void 0}function Jo(i,e){if(i===e)return 0;const n=gi(i),o=gi(e);if(n!==o)return be(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(i.booleanValue,e.booleanValue);case 2:return function(l,h){const f=mt(l.integerValue||l.doubleValue),p=mt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(i,e);case 3:return Vm(i.timestampValue,e.timestampValue);case 4:return Vm(va(i),va(e));case 5:return be(i.stringValue,e.stringValue);case 6:return function(l,h){const f=mi(l),p=mi(h);return f.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=be(f[y],p[y]);if(_!==0)return _}return be(f.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const f=be(mt(l.latitude),mt(h.latitude));return f!==0?f:be(mt(l.longitude),mt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Nm(i.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,_;const E=l.fields||{},I=h.fields||{},P=(f=E.value)===null||f===void 0?void 0:f.arrayValue,x=(p=I.value)===null||p===void 0?void 0:p.arrayValue,B=be(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((_=x==null?void 0:x.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:Nm(P,x)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===Xl.mapValue&&h===Xl.mapValue)return 0;if(l===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const I=be(p[E],_[E]);if(I!==0)return I;const P=Jo(f[p[E]],y[_[E]]);if(P!==0)return P}return be(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Re()}}function Vm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return be(i,e);const n=pi(i),o=pi(e),s=be(n.seconds,o.seconds);return s!==0?s:be(n.nanos,o.nanos)}function Nm(i,e){const n=i.values||[],o=e.values||[];for(let s=0;s<n.length&&s<o.length;++s){const l=Jo(n[s],o[s]);if(l)return l}return be(n.length,o.length)}function Zo(i){return $h(i)}function $h(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=pi(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return mi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",s=!0;for(const l of n.values||[])s?s=!1:o+=",",o+=$h(l);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let s="{",l=!0;for(const h of o)l?l=!1:s+=",",s+=`${h}:${$h(n.fields[h])}`;return s+"}"}(i.mapValue):Re()}function au(i){switch(gi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nu(i);return e?16+au(e):16;case 5:return 2*i.stringValue.length;case 6:return mi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+au(l),0)}(i.arrayValue);case 10:case 11:return function(o){let s=0;return Xi(o.fields,(l,h)=>{s+=l.length+au(h)}),s}(i.mapValue);default:throw Re()}}function Om(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function qh(i){return!!i&&"integerValue"in i}function mf(i){return!!i&&"arrayValue"in i}function Lm(i){return!!i&&"nullValue"in i}function Mm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lu(i){return!!i&&"mapValue"in i}function V1(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ca(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ca(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(i.arrayValue.values[n]);return e}return Object.assign({},i)}function N1(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=jt.emptyPath(),o={},s=[];e.forEach((h,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,o,s),o={},s=[],n=f.popLast()}h?o[f.lastSegment()]=ca(h):s.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,s)}delete(e){const n=this.field(e.popLast());lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=n.mapValue.fields[e.get(o)];lu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,o){Xi(n,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new xn(ca(this.value))}}function oy(i){const e=[];return Xi(i.fields,(n,o)=>{const s=new jt([n]);if(lu(o)){const l=oy(o.mapValue).fields;if(l.length===0)e.push(s);else for(const h of l)e.push(s.child(h))}else e.push(s)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,o,s,l,h,f){this.key=e,this.documentType=n,this.version=o,this.readTime=s,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Ce.min(),Ce.min(),Ce.min(),xn.empty(),0)}static newFoundDocument(e,n,o,s){return new Qt(e,1,n,Ce.min(),o,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,Ce.min(),Ce.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,Ce.min(),Ce.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.position=e,this.inclusive=n}}function bm(i,e,n){let o=0;for(let s=0;s<i.position.length;s++){const l=e[s],h=i.position[s];if(l.field.isKeyField()?o=_e.comparator(_e.fromName(h.referenceValue),n.key):o=Jo(h,n.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function Fm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!mr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function O1(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{}class wt extends sy{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new M1(e,n,o):n==="array-contains"?new j1(e,o):n==="in"?new U1(e,o):n==="not-in"?new B1(e,o):n==="array-contains-any"?new z1(e,o):new wt(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new b1(e,o):new F1(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends sy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yn(e,n)}matches(e){return ay(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ay(i){return i.op==="and"}function ly(i){return L1(i)&&ay(i)}function L1(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Hh(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+Zo(i.value);if(ly(i))return i.filters.map(e=>Hh(e)).join(",");{const e=i.filters.map(n=>Hh(n)).join(",");return`${i.op}(${e})`}}function uy(i,e){return i instanceof wt?function(o,s){return s instanceof wt&&o.op===s.op&&o.field.isEqual(s.field)&&mr(o.value,s.value)}(i,e):i instanceof Yn?function(o,s){return s instanceof Yn&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,h,f)=>l&&uy(h,s.filters[f]),!0):!1}(i,e):void Re()}function cy(i){return i instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(cy).join(" ,")+"}"}(i):"Filter"}class M1 extends wt{constructor(e,n,o){super(e,n,o),this.key=_e.fromName(o.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class b1 extends wt{constructor(e,n){super(e,"in",n),this.keys=hy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F1 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=hy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>_e.fromName(o.referenceValue))}class j1 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mf(n)&&wa(n.arrayValue,this.value)}}class U1 extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wa(this.value.arrayValue,n)}}class B1 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wa(this.value.arrayValue,n)}}class z1 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>wa(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n=null,o=[],s=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function jm(i,e=null,n=[],o=[],s=null,l=null,h=null){return new $1(i,e,n,o,s,l,h)}function gf(i){const e=ke(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Hh(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),Vu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Zo(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Zo(o)).join(",")),e.ue=n}return e.ue}function yf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!O1(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fm(i.startAt,e.startAt)&&Fm(i.endAt,e.endAt)}function Wh(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n=null,o=[],s=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function q1(i,e,n,o,s,l,h,f){return new cs(i,e,n,o,s,l,h,f)}function vf(i){return new cs(i)}function Um(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fy(i){return i.collectionGroup!==null}function ha(i){const e=ke(i);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Rt(jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Ea(l,o))}),n.has(jt.keyField().canonicalString())||e.ce.push(new Ea(jt.keyField(),o))}return e.ce}function hr(i){const e=ke(i);return e.le||(e.le=H1(e,ha(i))),e.le}function H1(i,e){if(i.limitType==="F")return jm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Ea(s.field,l)});const n=i.endAt?new vu(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new vu(i.startAt.position,i.startAt.inclusive):null;return jm(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}function Qh(i,e){const n=i.filters.concat([e]);return new cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function _u(i,e,n){return new cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ou(i,e){return yf(hr(i),hr(e))&&i.limitType===e.limitType}function dy(i){return`${gf(hr(i))}|lt:${i.limitType}`}function qo(i){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(s=>cy(s)).join(", ")}]`),Vu(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(s=>Zo(s)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(s=>Zo(s)).join(",")),`Target(${o})`}(hr(i))}; limitType=${i.limitType})`}function Lu(i,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):_e.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(i,e)&&function(o,s){for(const l of ha(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(i,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(i,e)&&function(o,s){return!(o.startAt&&!function(h,f,p){const y=bm(h,f,p);return h.inclusive?y<=0:y<0}(o.startAt,ha(o),s)||o.endAt&&!function(h,f,p){const y=bm(h,f,p);return h.inclusive?y>=0:y>0}(o.endAt,ha(o),s))}(i,e)}function W1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function py(i){return(e,n)=>{let o=!1;for(const s of ha(i)){const l=Q1(s,e,n);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function Q1(i,e,n){const o=i.field.isKeyField()?_e.comparator(e.key,n.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Jo(p,y):Re()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[n]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return ry(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new ut(_e.comparator);function Mr(){return G1}const my=new ut(_e.comparator);function oa(...i){let e=my;for(const n of i)e=e.insert(n.key,n);return e}function gy(i){let e=my;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Qi(){return fa()}function yy(){return fa()}function fa(){return new Ji(i=>i.toString(),(i,e)=>i.isEqual(e))}const K1=new ut(_e.comparator),Y1=new Rt(_e.comparator);function Le(...i){let e=Y1;for(const n of i)e=e.add(n);return e}const X1=new Rt(be);function J1(){return X1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(e)?"-0":e}}function vy(i){return{integerValue:""+i}}function Z1(i,e){return C1(e)?vy(e):_f(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this._=void 0}}function eT(i,e,n){return i instanceof wu?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&pf(l)&&(l=Nu(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(n,e):i instanceof Ta?wy(i,e):i instanceof Ia?Ey(i,e):function(s,l){const h=_y(s,l),f=Bm(h)+Bm(s.Pe);return qh(h)&&qh(s.Pe)?vy(f):_f(s.serializer,f)}(i,e)}function tT(i,e,n){return i instanceof Ta?wy(i,e):i instanceof Ia?Ey(i,e):n}function _y(i,e){return i instanceof Eu?function(o){return qh(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class wu extends Mu{}class Ta extends Mu{constructor(e){super(),this.elements=e}}function wy(i,e){const n=Ty(e);for(const o of i.elements)n.some(s=>mr(s,o))||n.push(o);return{arrayValue:{values:n}}}class Ia extends Mu{constructor(e){super(),this.elements=e}}function Ey(i,e){let n=Ty(e);for(const o of i.elements)n=n.filter(s=>!mr(s,o));return{arrayValue:{values:n}}}class Eu extends Mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Bm(i){return mt(i.integerValue||i.doubleValue)}function Ty(i){return mf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function nT(i,e){return i.field.isEqual(e.field)&&function(o,s){return o instanceof Ta&&s instanceof Ta||o instanceof Ia&&s instanceof Ia?Xo(o.elements,s.elements,mr):o instanceof Eu&&s instanceof Eu?mr(o.Pe,s.Pe):o instanceof wu&&s instanceof wu}(i.transform,e.transform)}class rT{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class bu{}function Iy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ry(i.key,fr.none()):new Ca(i.key,i.data,fr.none());{const n=i.data,o=xn.empty();let s=new Rt(jt.comparator);for(let l of e.fields)if(!s.has(l)){let h=n.field(l);h===null&&l.length>1&&(l=l.popLast(),h=n.field(l)),h===null?o.delete(l):o.set(l,h),s=s.add(l)}return new Zi(i.key,o,new Kn(s.toArray()),fr.none())}}function iT(i,e,n){i instanceof Ca?function(s,l,h){const f=s.value.clone(),p=$m(s.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(i,e,n):i instanceof Zi?function(s,l,h){if(!uu(s.precondition,l))return void l.convertToUnknownDocument(h.version);const f=$m(s.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Sy(s)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(s,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function da(i,e,n,o){return i instanceof Ca?function(l,h,f,p){if(!uu(l.precondition,h))return f;const y=l.value.clone(),_=qm(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,n,o):i instanceof Zi?function(l,h,f,p){if(!uu(l.precondition,h))return f;const y=qm(l.fieldTransforms,p,h),_=h.data;return _.setAll(Sy(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(i,e,n,o):function(l,h,f){return uu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(i,e,n)}function oT(i,e){let n=null;for(const o of i.fieldTransforms){const s=e.data.field(o.field),l=_y(o.transform,s||null);l!=null&&(n===null&&(n=xn.empty()),n.set(o.field,l))}return n||null}function zm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&Xo(o,s,(l,h)=>nT(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ca extends bu{constructor(e,n,o,s=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zi extends bu{constructor(e,n,o,s,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function $m(i,e,n){const o=new Map;Qe(i.length===n.length);for(let s=0;s<n.length;s++){const l=i[s],h=l.transform,f=e.data.field(l.field);o.set(l.field,tT(h,f,n[s]))}return o}function qm(i,e,n){const o=new Map;for(const s of i){const l=s.transform,h=n.data.field(s.field);o.set(s.field,eT(l,h,e))}return o}class Ry extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sT extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,o,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&iT(l,e,o[s])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=da(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=da(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=yy();return this.mutations.forEach(s=>{const l=e.get(s.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=n.has(s.key)?null:f;const p=Iy(h,f);p!==null&&o.set(s.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,o)=>zm(n,o))&&Xo(this.baseMutations,e.baseMutations,(n,o)=>zm(n,o))}}class wf{constructor(e,n,o,s){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=s}static from(e,n,o){Qe(e.mutations.length===o.length);let s=function(){return K1}();const l=e.mutations;for(let h=0;h<l.length;h++)s=s.insert(l[h].key,o[h].version);return new wf(e,n,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function cT(i){switch(i){default:return Re();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function Ay(i){if(i===void 0)return Lr("GRPC error has no .code"),X.UNKNOWN;switch(i){case _t.OK:return X.OK;case _t.CANCELLED:return X.CANCELLED;case _t.UNKNOWN:return X.UNKNOWN;case _t.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _t.INTERNAL:return X.INTERNAL;case _t.UNAVAILABLE:return X.UNAVAILABLE;case _t.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _t.NOT_FOUND:return X.NOT_FOUND;case _t.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _t.ABORTED:return X.ABORTED;case _t.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _t.DATA_LOSS:return X.DATA_LOSS;default:return Re()}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Gi([4294967295,4294967295],0);function Hm(i){const e=hT().encode(i),n=new Kg;return n.update(e),new Uint8Array(n.digest())}function Wm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gi([n,o],0),new Gi([s,l],0)]}class Ef{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(o<0)throw new sa(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Gi.fromNumber(this.Te)}Ee(e,n,o){let s=e.add(n.multiply(Gi.fromNumber(o)));return s.compare(fT)===1&&(s=new Gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Hm(e),[o,s]=Wm(n);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);if(!this.de(h))return!1}return!0}static create(e,n,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Ef(l,s,n);return o.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const n=Hm(e),[o,s]=Wm(n);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,o,s,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const s=new Map;return s.set(e,Pa.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Fu(Ce.min(),s,new ut(be),Mr(),Le())}}class Pa{constructor(e,n,o,s,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Pa(o,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,o,s){this.Re=e,this.removedTargetIds=n,this.key=o,this.Ve=s}}class Cy{constructor(e,n){this.targetId=e,this.me=n}}class Py{constructor(e,n,o=Ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=s}}class Qm{constructor(){this.fe=0,this.ge=Gm(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),o=Le();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:o=o.add(s);break;default:Re()}}),new Pa(this.pe,this.ye,e,n,o)}Ce(){this.we=!1,this.ge=Gm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new ut(be)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(n);break;case 3:this.je(n)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((o,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,o=e.me.count,s=this.Ye(n);if(s){const l=s.target;if(Wh(l))if(o===0){const h=new _e(l.path);this.We(n,h,Qt.newNoDocument(h,Ce.min()))}else Qe(o===1);else{const h=this.Ze(n);if(h!==o){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=n;let h,f;try{h=mi(o).toUint8Array()}catch(p){if(p instanceof iy)return Yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Ef(h,s,l)}catch(p){return Yo(p instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,n,o){return n.me.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let s=0;return o.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(n,l,null),s++)}),s}it(e){const n=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Wh(f.target)){const p=new _e(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,Qt.newNoDocument(p,e))}l.be&&(n.set(h,l.ve()),l.Ce())}});let o=Le();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const s=new Fu(e,n,this.Ke,this.ke,o);return this.ke=Mr(),this.qe=Jl(),this.Qe=Jl(),this.Ke=new ut(be),s}Ue(e,n){if(!this.je(e))return;const o=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,o),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),o&&(this.ke=this.ke.insert(n,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Qm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Rt(be),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(be),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Qm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Jl(){return new ut(_e.comparator)}function Gm(){return new ut(_e.comparator)}const pT={asc:"ASCENDING",desc:"DESCENDING"},mT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gT={and:"AND",or:"OR"};class yT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gh(i,e){return i.useProto3Json||Vu(e)?e:{value:e}}function Tu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ky(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function vT(i,e){return Tu(i,e.toTimestamp())}function dr(i){return Qe(!!i),Ce.fromTimestamp(function(n){const o=pi(n);return new St(o.seconds,o.nanos)}(i))}function Tf(i,e){return Kh(i,e).canonicalString()}function Kh(i,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function xy(i){const e=tt.fromString(i);return Qe(Ly(e)),e}function Yh(i,e){return Tf(i.databaseId,e.path)}function Ph(i,e){const n=xy(e);if(n.get(1)!==i.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(Vy(n))}function Dy(i,e){return Tf(i.databaseId,e)}function _T(i){const e=xy(i);return e.length===4?tt.emptyPath():Vy(e)}function Xh(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vy(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Km(i,e,n){return{name:Yh(i,e),fields:n.value.mapValue.fields}}function wT(i,e){let n;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(Qe(_===void 0||typeof _=="string"),Ut.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Ut.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const _=y.code===void 0?X.UNKNOWN:Ay(y.code);return new he(_,y.message||"")}(h);n=new Py(o,s,l,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=Ph(i,o.document.name),l=dr(o.document.updateTime),h=o.document.createTime?dr(o.document.createTime):Ce.min(),f=new xn({mapValue:{fields:o.document.fields}}),p=Qt.newFoundDocument(s,l,h,f),y=o.targetIds||[],_=o.removedTargetIds||[];n=new cu(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=Ph(i,o.document),l=o.readTime?dr(o.readTime):Ce.min(),h=Qt.newNoDocument(s,l),f=o.removedTargetIds||[];n=new cu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=Ph(i,o.document),l=o.removedTargetIds||[];n=new cu([],l,s,null)}else{if(!("filter"in e))return Re();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,h=new uT(s,l),f=o.targetId;n=new Cy(f,h)}}return n}function ET(i,e){let n;if(e instanceof Ca)n={update:Km(i,e.key,e.value)};else if(e instanceof Ry)n={delete:Yh(i,e.key)};else if(e instanceof Zi)n={update:Km(i,e.key,e.data),updateMask:xT(e.fieldMask)};else{if(!(e instanceof sT))return Re();n={verify:Yh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const f=h.transform;if(f instanceof wu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ta)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ia)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Re()}(0,o))),e.precondition.isNone||(n.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:vT(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re()}(i,e.precondition)),n}function TT(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(n=>function(s,l){let h=s.updateTime?dr(s.updateTime):dr(l);return h.isEqual(Ce.min())&&(h=dr(l)),new rT(h,s.transformResults||[])}(n,e))):[]}function IT(i,e){return{documents:[Dy(i,e.path)]}}function ST(i,e){const n={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=Dy(i,s);const l=function(y){if(y.length!==0)return Oy(Yn.create(y,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:Ho(I.field),direction:CT(I.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=Gh(i,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:n,parent:s}}function RT(i){let e=_T(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let s=null;if(o>0){Qe(o===1);const _=n.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(E){const I=Ny(E);return I instanceof Yn&&ly(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(E){return E.map(I=>function(x){return new Ea(Wo(x.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(I))}(n.orderBy));let f=null;n.limit&&(f=function(E){let I;return I=typeof E=="object"?E.value:E,Vu(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(E){const I=!!E.before,P=E.values||[];return new vu(P,I)}(n.startAt));let y=null;return n.endAt&&(y=function(E){const I=!E.before,P=E.values||[];return new vu(P,I)}(n.endAt)),q1(e,s,h,l,f,"F",p,y)}function AT(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ny(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Wo(n.unaryFilter.field);return wt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Wo(n.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(n.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Wo(n.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(i):i.fieldFilter!==void 0?function(n){return wt.create(Wo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(o=>Ny(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(i):Re()}function CT(i){return pT[i]}function PT(i){return mT[i]}function kT(i){return gT[i]}function Ho(i){return{fieldPath:i.canonicalString()}}function Wo(i){return jt.fromServerFormat(i.fieldPath)}function Oy(i){return i instanceof wt?function(n){if(n.op==="=="){if(Mm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(Lm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(Lm(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:PT(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const o=n.getFilters().map(s=>Oy(s));return o.length===1?o[0]:{compositeFilter:{op:kT(n.op),filters:o}}}(i):Re()}function xT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ly(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,o,s,l=Ce.min(),h=Ce.min(),f=Ut.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.ht=e}}function VT(i){const e=RT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_u(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ln=new OT}addToCollectionParentIndex(e,n){return this.ln.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(di.min())}updateCollectionGroup(e,n,o){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class OT{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n]||new Rt(tt.comparator),l=!s.has(o);return this.index[n]=s.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),s=this.index[n];return s&&s.has(o)}getEntries(e){return(this.index[e]||new Rt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new es(0)}static Qn(){return new es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm([i,e],[n,o]){const s=be(i,n);return s===0?be(e,o):s}class LT{constructor(e){this.Gn=e,this.buffer=new Rt(Xm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Xm(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MT{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){us(n)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ls(n)}await this.Yn(3e5)})}}class bT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Du.oe);const o=new LT(n);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Zn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ym)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ym):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let o,s,l,h,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,h=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(o=E,f=Date.now(),this.removeTargets(e,o,n))).next(E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,o))).next(E=>(y=Date.now(),$o()<=Be.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${s} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function FT(i,e){return new bT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?Y.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,o,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(o!==null&&da(o.mutation,s,Kn.empty(),St.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Le()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Le()){const s=Qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,o).next(l=>{let h=oa();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const o=Qi();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Le()))}populateOverlays(e,n,o){const s=[];return o.forEach(l=>{n.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((h,f)=>{n.set(h,f)})})}computeViews(e,n,o,s){let l=Mr();const h=fa(),f=function(){return fa()}();return n.forEach((p,y)=>{const _=o.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof Zi)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),da(_.mutation,y,_.mutation.getFieldMask(),St.now())):h.set(y.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),n.forEach((y,_)=>{var E;return f.set(y,new UT(_,(E=h.get(y))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(e,n){const o=fa();let s=new ut((h,f)=>h-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let _=o.get(p)||Kn.empty();_=f.applyToLocalView(y,_),o.set(p,_);const E=(s.get(f.batchId)||Le()).add(p);s=s.insert(f.batchId,E)})}).next(()=>{const h=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,E=yy();_.forEach(I=>{if(!l.has(I)){const P=Iy(n.get(I),o.get(I));P!==null&&E.set(I,P),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return Y.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,s){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,s):this.getDocumentsMatchingCollectionQuery(e,n,o,s)}getNextDocuments(e,n,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,s).next(l=>{const h=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,s-l.size):Y.resolve(Qi());let f=-1,p=l;return h.next(y=>Y.forEach(y,(_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Le())).next(_=>({batchId:f,changes:gy(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(o=>{let s=oa();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,o,s){const l=n.collectionGroup;let h=oa();return this.indexManager.getCollectionParents(e,l).next(f=>Y.forEach(f,p=>{const y=function(E,I){return new cs(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,o,s).next(_=>{_.forEach((E,I)=>{h=h.insert(E,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,s))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,Qt.newInvalidDocument(_)))});let f=oa();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&da(_.mutation,y,Kn.empty(),St.now()),Lu(n,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Y.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dr(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:VT(s.bundledQuery),readTime:dr(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.overlays=new ut(_e.comparator),this.Er=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Qi();return Y.forEach(n,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((s,l)=>{this.Tt(e,n,l)}),Y.resolve()}removeOverlaysForBatchId(e,n,o){const s=this.Er.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(o)),Y.resolve()}getOverlaysForCollection(e,n,o){const s=Qi(),l=n.length+1,h=new _e(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>o&&s.set(p.getKey(),p)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,o,s){let l=new ut((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>o){let _=l.get(y.largestBatchId);_===null&&(_=Qi(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Qi(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=s)););return Y.resolve(f)}Tt(e,n,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.Er.get(s.largestBatchId).delete(o.key);this.Er.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new lT(n,o));let l=this.Er.get(n);l===void 0&&(l=Le(),this.Er.set(n,l)),this.Er.set(n,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.dr=new Rt(Vt.Ar),this.Rr=new Rt(Vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const o=new Vt(e,n);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.gr(new Vt(e,n))}pr(e,n){e.forEach(o=>this.removeReference(o,n))}yr(e){const n=new _e(new tt([])),o=new Vt(n,e),s=new Vt(n,e+1),l=[];return this.Rr.forEachInRange([o,s],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new _e(new tt([])),o=new Vt(n,e),s=new Vt(n,e+1);let l=Le();return this.Rr.forEachInRange([o,s],h=>{l=l.add(h.key)}),l}containsKey(e){const n=new Vt(e,0),o=this.dr.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class Vt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return _e.comparator(e.key,n.key)||be(e.br,n.br)}static Vr(e,n){return be(e.br,n.br)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Rt(Vt.Ar)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new aT(l,n,o,s);this.mutationQueue.push(h);for(const f of s)this.vr=this.vr.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,n){return Y.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,s=this.Fr(o),l=s<0?0:s;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([o,s],h=>{const f=this.Cr(h.br);l.push(f)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Rt(be);return n.forEach(s=>{const l=new Vt(s,0),h=new Vt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{o=o.add(f.br)})}),Y.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,s=o.length+1;let l=o;_e.isDocumentKey(l)||(l=l.child(""));const h=new Vt(new _e(l),0);let f=new Rt(be);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!o.isPrefixOf(y)&&(y.length===s&&(f=f.add(p.br)),!0)},h),Y.resolve(this.Mr(f))}Mr(e){const n=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return Y.forEach(n.mutations,s=>{const l=new Vt(s.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,n){const o=new Vt(n,0),s=this.vr.firstAfterOrEqual(o);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.Nr=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,s=this.docs.get(o),l=s?s.size:0,h=this.Nr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Y.resolve(o?o.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let o=Mr();return n.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():Qt.newInvalidDocument(s))}),Y.resolve(o)}getDocumentsMatchingQuery(e,n,o,s){let l=Mr();const h=n.path,f=new _e(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||I1(T1(_),o)<=0||(s.has(_.key)||Lu(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,n,o,s){Re()}Lr(e,n){return Y.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new QT(this)}getSize(e){return Y.resolve(this.size)}}class QT extends jT{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),Y.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.persistence=e,this.Br=new Ji(n=>gf(n),yf),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new If,this.targetCount=0,this.Qr=es.qn()}forEachTarget(e,n){return this.Br.forEach((o,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.kr&&(this.kr=n),Y.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new es(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Un(n),Y.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,o){let s=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=n&&o.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),Y.waitFor(l).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const o=this.Br.get(n)||null;return Y.resolve(o)}addMatchingKeys(e,n,o){return this.qr.mr(n,o),Y.resolve()}removeMatchingKeys(e,n,o){this.qr.pr(n,o);const s=this.persistence.referenceDelegate,l=[];return s&&n.forEach(h=>{l.push(s.markPotentiallyOrphaned(e,h))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qr.Sr(n);return Y.resolve(o)}containsKey(e,n){return Y.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Du(0),this.Ur=!1,this.Ur=!0,this.Wr=new qT,this.referenceDelegate=e(this),this.Gr=new GT(this),this.indexManager=new NT,this.remoteDocumentCache=function(s){return new WT(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new DT(n),this.jr=new zT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $T,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Kr[e.toKey()];return o||(o=new HT(n,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,o){ce("MemoryPersistence","Starting transaction:",e);const s=new KT(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,n){return Y.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,n)))}}class KT extends R1{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Zr=new If,this.Xr=null}static ei(e){return new Sf(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,n,o){return this.Zr.addReference(o,n),this.ti.delete(o.toString()),Y.resolve()}removeReference(e,n,o){return this.Zr.removeReference(o,n),this.ti.add(o.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ti,o=>{const s=_e.fromPath(o);return this.ni(e,s).next(l=>{l||n.removeEntry(s,Ce.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(o=>{o?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Y.or([()=>Y.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.ri=new Ji(o=>P1(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=FT(this,n)}static ei(e,n){return new Iu(e,n)}Hr(){}Jr(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(s=>o+s))}nr(e){let n=0;return this.er(e,o=>{n++}).next(()=>n)}er(e,n){return Y.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(l=>l?Y.resolve():n(s)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Lr(e,h=>this.ir(e,h,n).next(f=>{f||(o++,l.removeEntry(h,Ce.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,o){return this.ri.set(o,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Y.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=au(e.data.value)),n}ir(e,n,o){return Y.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return Y.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,o,s){this.targetId=e,this.fromCache=n,this.Wi=o,this.Gi=s}static zi(e,n){let o=Le(),s=Le();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Rf(e,n.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Yw()?8:A1(Gw())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,o,s){const l={result:null};return this.Xi(e,n).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,n,s,o).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new YT;return this.ts(e,n,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,n,h,f.size)})}).next(()=>l.result)}ns(e,n,o,s){return o.documentReadCount<this.Ji?($o()<=Be.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Y.resolve()):($o()<=Be.DEBUG&&ce("QueryEngine","Query:",qo(n),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?($o()<=Be.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):Y.resolve())}Xi(e,n){if(Um(n))return Y.resolve(null);let o=hr(n);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=_u(n,null,"F"),o=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const h=Le(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,o).next(p=>{const y=this.rs(n,f);return this.ss(n,y,h,p.readTime)?this.Xi(e,_u(n,null,"F")):this.os(e,y,n,p)}))})))}es(e,n,o,s){return Um(n)||s.isEqual(Ce.min())?Y.resolve(null):this.Zi.getDocuments(e,o).next(l=>{const h=this.rs(n,l);return this.ss(n,h,o,s)?Y.resolve(null):($o()<=Be.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qo(n)),this.os(e,h,n,E1(s,-1)).next(f=>f))})}rs(e,n){let o=new Rt(py(e));return n.forEach((s,l)=>{Lu(e,l)&&(o=o.add(l))}),o}ss(e,n,o,s){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,n,o){return $o()<=Be.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",qo(n)),this.Zi.getDocumentsMatchingQuery(e,n,di.min(),o)}os(e,n,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(l=>(n.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,o,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new ut(be),this.cs=new Ji(l=>gf(l),yf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function ZT(i,e,n,o){return new JT(i,e,n,o)}async function by(i,e){const n=ke(i);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let s;return n.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,n.Ps(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const h=[],f=[];let p=Le();for(const y of s){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(o,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function eI(i,e){const n=ke(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=n.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const E=y.batch,I=E.keys();let P=Y.resolve();return I.forEach(x=>{P=P.next(()=>_.getEntry(p,x)).next(B=>{const L=y.docVersions.get(x);Qe(L!==null),B.version.compareTo(L)<0&&(E.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),_.addEntry(B)))})}),P.next(()=>f.mutationQueue.removeMutationBatch(p,E))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let p=Le();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(o,s))})}function Fy(i){const e=ke(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function tI(i,e){const n=ke(i),o=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const f=[];e.targetChanges.forEach((_,E)=>{const I=s.get(E);if(!I)return;f.push(n.Gr.removeMatchingKeys(l,_.removedDocuments,E).next(()=>n.Gr.addMatchingKeys(l,_.addedDocuments,E)));let P=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(Ut.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,o)),s=s.insert(E,P),function(B,L,Q){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,P,_)&&f.push(n.Gr.updateTargetData(l,P))});let p=Mr(),y=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(nI(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!o.isEqual(Ce.min())){const _=n.Gr.getLastRemoteSnapshotVersion(l).next(E=>n.Gr.setTargetsMetadata(l,l.currentSequenceNumber,o));f.push(_)}return Y.waitFor(f).next(()=>h.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(n.us=s,l))}function nI(i,e,n){let o=Le(),s=Le();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let h=Mr();return n.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:s}})}function rI(i,e){const n=ke(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function iI(i,e){const n=ke(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return n.Gr.getTargetData(o,e).next(l=>l?(s=l,Y.resolve(s)):n.Gr.allocateTargetId(o).next(h=>(s=new li(e,h,"TargetPurposeListen",o.currentSequenceNumber),n.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=n.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(o.targetId,o),n.cs.set(e,o.targetId)),o})}async function Jh(i,e,n){const o=ke(i),s=o.us.get(e),l=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",l,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!us(h))throw h;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function Jm(i,e,n){const o=ke(i);let s=Ce.min(),l=Le();return o.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const E=ke(p),I=E.cs.get(_);return I!==void 0?Y.resolve(E.us.get(I)):E.Gr.getTargetData(y,_)}(o,h,hr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>o._s.getDocumentsMatchingQuery(h,e,n?s:Ce.min(),n?l:Le())).next(f=>(oI(o,W1(e),f),{documents:f,ds:l})))}function oI(i,e,n){let o=i.ls.get(e)||Ce.min();n.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.ls.set(e,o)}class Zm{constructor(){this.activeTargetIds=J1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sI{constructor(){this._o=new Zm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,o){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Zm,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function kh(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class cI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+n.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(n,o,s,l,h){const f=kh(),p=this.No(n,o.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(n,p,y,s).then(_=>(ce("RestConnection",`Received RPC '${n}' ${f}: `,_),_),_=>{throw Yo("RestConnection",`RPC '${n}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}ko(n,o,s,l,h,f){return this.Oo(n,o,s,l,h)}Lo(n,o,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+as}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,h)=>n[h]=l),s&&s.headers.forEach((l,h)=>n[h]=l)}No(n,o){const s=lI[n];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,o,s){const l=kh();return new Promise((h,f)=>{const p=new Yg;p.setWithCredentials(!0),p.listenOnce(Xg.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case su.NO_ERROR:const _=p.getResponseJson();ce(Ht,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case su.TIMEOUT:ce(Ht,`RPC '${e}' ${l} timed out`),f(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:const E=p.getStatus();if(ce(Ht,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const x=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN}(P.status);f(new he(x,P.message))}else f(new he(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new he(X.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ce(Ht,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);ce(Ht,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",y,o,15)})}qo(e,n,o){const s=kh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ey(),f=Zg(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,n,o),p.encodeInitMessageHeaders=!0;const _=l.join("");ce(Ht,`Creating RPC '${e}' stream ${s}: ${_}`,p);const E=h.createWebChannel(_,p);let I=!1,P=!1;const x=new uI({Eo:L=>{P?ce(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(I||(ce(Ht,`Opening RPC '${e}' stream ${s} transport.`),E.open(),I=!0),ce(Ht,`RPC '${e}' stream ${s} sending:`,L),E.send(L))},Ao:()=>E.close()}),B=(L,Q,te)=>{L.listen(Q,ae=>{try{te(ae)}catch(ye){setTimeout(()=>{throw ye},0)}})};return B(E,ia.EventType.OPEN,()=>{P||(ce(Ht,`RPC '${e}' stream ${s} transport opened.`),x.So())}),B(E,ia.EventType.CLOSE,()=>{P||(P=!0,ce(Ht,`RPC '${e}' stream ${s} transport closed`),x.Do())}),B(E,ia.EventType.ERROR,L=>{P||(P=!0,Yo(Ht,`RPC '${e}' stream ${s} transport errored:`,L),x.Do(new he(X.UNAVAILABLE,"The operation could not be completed")))}),B(E,ia.EventType.MESSAGE,L=>{var Q;if(!P){const te=L.data[0];Qe(!!te);const ae=te,ye=(ae==null?void 0:ae.error)||((Q=ae[0])===null||Q===void 0?void 0:Q.error);if(ye){ce(Ht,`RPC '${e}' stream ${s} received error:`,ye);const Ie=ye.status;let Pe=function(A){const D=_t[A];if(D!==void 0)return Ay(D)}(Ie),V=ye.message;Pe===void 0&&(Pe=X.INTERNAL,V="Unknown error status: "+Ie+" with message "+ye.message),P=!0,x.Do(new he(Pe,V)),E.close()}else ce(Ht,`RPC '${e}' stream ${s} received:`,te),x.vo(te)}}),B(f,Jg.STAT_EVENT,L=>{L.stat===zh.PROXY?ce(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):L.stat===zh.NOPROXY&&ce(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(i){return new yT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,o=1e3,s=1.5,l=6e4){this.li=e,this.timerId=n,this.Qo=o,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-o);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,o,s,l,h,f,p){this.li=e,this.Yo=o,this.Zo=s,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new jy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===n&&this.I_(o,s)},o=>{e(()=>{const s=new he(X.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(s)})})}I_(e,n){const o=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.E_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hI extends Uy{constructor(e,n,o,s,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,s,h),this.serializer=l}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=wT(this.serializer,e),o=function(l){if(!("targetChange"in l))return Ce.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?dr(h.readTime):Ce.min()}(e);return this.listener.R_(n,o)}V_(e){const n={};n.database=Xh(this.serializer),n.addTarget=function(l,h){let f;const p=h.target;if(f=Wh(p)?{documents:IT(l,p)}:{query:ST(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=ky(l,h.resumeToken);const y=Gh(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ce.min())>0){f.readTime=Tu(l,h.snapshotVersion.toTimestamp());const y=Gh(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const o=AT(this.serializer,e);o&&(n.labels=o),this.c_(n)}m_(e){const n={};n.database=Xh(this.serializer),n.removeTarget=e,this.c_(n)}}class fI extends Uy{constructor(e,n,o,s,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,s,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=TT(e.writeResults,e.commitTime),o=dr(e.commitTime);return this.listener.y_(o,n)}w_(){const e={};e.database=Xh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>ET(this.serializer,o))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends class{}{constructor(e,n,o,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,Kh(n,o),s,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(X.UNKNOWN,l.toString())})}ko(e,n,o,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,Kh(n,o),s,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(X.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class pI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Lr(n),this.C_=!1):ce("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,o,s,l){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{o.enqueueAndForget(async()=>{eo(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=ke(p);y.k_.add(4),await ka(y),y.K_.set("Unknown"),y.k_.delete(4),await Uu(y)}(this))})}),this.K_=new pI(o,s)}}async function Uu(i){if(eo(i))for(const e of i.q_)await e(!0)}async function ka(i){for(const e of i.q_)await e(!1)}function By(i,e){const n=ke(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),kf(n)?Pf(n):hs(n).s_()&&Cf(n,e))}function Af(i,e){const n=ke(i),o=hs(n);n.B_.delete(e),o.s_()&&zy(n,e),n.B_.size===0&&(o.s_()?o.a_():eo(n)&&n.K_.set("Unknown"))}function Cf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hs(i).V_(e)}function zy(i,e){i.U_.xe(e),hs(i).m_(e)}function Pf(i){i.U_=new dT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),hs(i).start(),i.K_.F_()}function kf(i){return eo(i)&&!hs(i).i_()&&i.B_.size>0}function eo(i){return ke(i).k_.size===0}function $y(i){i.U_=void 0}async function gI(i){i.K_.set("Online")}async function yI(i){i.B_.forEach((e,n)=>{Cf(i,e)})}async function vI(i,e){$y(i),kf(i)?(i.K_.O_(e),Pf(i)):i.K_.set("Unknown")}async function _I(i,e,n){if(i.K_.set("Online"),e instanceof Py&&e.state===2&&e.cause)try{await async function(s,l){const h=l.cause;for(const f of l.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,h),s.B_.delete(f),s.U_.removeTarget(f))}(i,e)}catch(o){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Su(i,o)}else if(e instanceof cu?i.U_.$e(e):e instanceof Cy?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ce.min()))try{const o=await Fy(i.localStore);n.compareTo(o)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),zy(l,p);const E=new li(_.target,p,y,_.sequenceNumber);Cf(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(i,n)}catch(o){ce("RemoteStore","Failed to raise snapshot:",o),await Su(i,o)}}async function Su(i,e,n){if(!us(e))throw e;i.k_.add(1),await ka(i),i.K_.set("Offline"),n||(n=()=>Fy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Uu(i)})}function qy(i,e){return e().catch(n=>Su(i,n,e))}async function Bu(i){const e=ke(i),n=yi(e);let o=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;wI(e);)try{const s=await rI(e.localStore,o);if(s===null){e.L_.length===0&&n.a_();break}o=s.batchId,EI(e,s)}catch(s){await Su(e,s)}Hy(e)&&Wy(e)}function wI(i){return eo(i)&&i.L_.length<10}function EI(i,e){i.L_.push(e);const n=yi(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Hy(i){return eo(i)&&!yi(i).i_()&&i.L_.length>0}function Wy(i){yi(i).start()}async function TI(i){yi(i).w_()}async function II(i){const e=yi(i);for(const n of i.L_)e.g_(n.mutations)}async function SI(i,e,n){const o=i.L_.shift(),s=wf.from(o,e,n);await qy(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await Bu(i)}async function RI(i,e){e&&yi(i).f_&&await async function(o,s){if(function(h){return cT(h)&&h!==X.ABORTED}(s.code)){const l=o.L_.shift();yi(o).__(),await qy(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Bu(o)}}(i,e),Hy(i)&&Wy(i)}async function tg(i,e){const n=ke(i);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const o=eo(n);n.k_.add(3),await ka(n),o&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Uu(n)}async function AI(i,e){const n=ke(i);e?(n.k_.delete(2),await Uu(n)):e||(n.k_.add(2),await ka(n),n.K_.set("Unknown"))}function hs(i){return i.W_||(i.W_=function(n,o,s){const l=ke(n);return l.b_(),new hI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{Ro:gI.bind(null,i),mo:yI.bind(null,i),po:vI.bind(null,i),R_:_I.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),kf(i)?Pf(i):i.K_.set("Unknown")):(await i.W_.stop(),$y(i))})),i.W_}function yi(i){return i.G_||(i.G_=function(n,o,s){const l=ke(n);return l.b_(),new fI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:TI.bind(null,i),po:RI.bind(null,i),p_:II.bind(null,i),y_:SI.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Bu(i)):(await i.G_.stop(),i.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,o,s,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,s,l){const h=Date.now()+o,f=new xf(e,n,h,s,l);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Df(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),us(i))return new he(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||_e.comparator(n.key,o.key):(n,o)=>_e.comparator(n.key,o.key),this.keyedMap=oa(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new Go;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.z_=new ut(_e.comparator)}track(e){const n=e.doc.key,o=this.z_.get(n);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(n,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(n):e.type===1&&o.type===2?this.z_=this.z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class ts{constructor(e,n,o,s,l,h,f,p,y){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,o,s,l){const h=[];return n.forEach(f=>{h.push({type:0,doc:f})}),new ts(e,n,Go.emptySet(n),h,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ou(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==o[s].type||!n[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class PI{constructor(){this.queries=rg(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,o){const s=ke(n),l=s.queries;s.queries=rg(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(o)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function rg(){return new Ji(i=>dy(i),Ou)}async function Qy(i,e){const n=ke(i);let o=3;const s=e.query;let l=n.queries.get(s);l?!l.Y_()&&e.Z_()&&(o=2):(l=new CI,o=e.Z_()?0:1);try{switch(o){case 0:l.H_=await n.onListen(s,!0);break;case 1:l.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(h){const f=Df(h,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,l),l.J_.push(e),e.ea(n.onlineState),l.H_&&e.ta(l.H_)&&Vf(n)}async function Gy(i,e){const n=ke(i),o=e.query;let s=3;const l=n.queries.get(o);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function kI(i,e){const n=ke(i);let o=!1;for(const s of e){const l=s.query,h=n.queries.get(l);if(h){for(const f of h.J_)f.ta(s)&&(o=!0);h.H_=s}}o&&Vf(n)}function xI(i,e,n){const o=ke(i),s=o.queries.get(e);if(s)for(const l of s.J_)l.onError(n);o.queries.delete(e)}function Vf(i){i.X_.forEach(e=>{e.next()})}var Zh,ig;(ig=Zh||(Zh={})).na="default",ig.Cache="cache";class Ky{constructor(e,n,o){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new ts(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const o=n!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.key=e}}class Xy{constructor(e){this.key=e}}class DI{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=py(e),this.ma=new Go(this.Va)}get fa(){return this.da}ga(e,n){const o=n?n.pa:new ng,s=n?n.ma:this.ma;let l=n?n.mutatedKeys:this.mutatedKeys,h=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,E)=>{const I=s.get(_),P=Lu(this.query,E)?E:null,x=!!I&&this.mutatedKeys.has(I.key),B=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;I&&P?I.data.isEqual(P.data)?x!==B&&(o.track({type:3,doc:P}),L=!0):this.ya(I,P)||(o.track({type:2,doc:P}),L=!0,(p&&this.Va(P,p)>0||y&&this.Va(P,y)<0)&&(f=!0)):!I&&P?(o.track({type:0,doc:P}),L=!0):I&&!P&&(o.track({type:1,doc:I}),L=!0,(p||y)&&(f=!0)),L&&(P?(h=h.add(P),l=B?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{ma:h,pa:o,ss:f,mutatedKeys:l}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,E)=>function(P,x){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return B(P)-B(x)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(o),s=s!=null&&s;const f=n&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new ts(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ng,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const n=[];return e.forEach(o=>{this.Ra.has(o)||n.push(new Xy(o))}),this.Ra.forEach(o=>{e.has(o)||n.push(new Yy(o))}),n}va(e){this.da=e.ds,this.Ra=Le();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ts.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class VI{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class NI{constructor(e){this.key=e,this.Fa=!1}}class OI{constructor(e,n,o,s,l,h){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Ji(f=>dy(f),Ou),this.Oa=new Map,this.Na=new Set,this.La=new ut(_e.comparator),this.Ba=new Map,this.ka=new If,this.qa={},this.Qa=new Map,this.Ka=es.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function LI(i,e,n=!0){const o=rv(i);let s;const l=o.xa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await Jy(o,e,n,!0),s}async function MI(i,e){const n=rv(i);await Jy(n,e,!0,!1)}async function Jy(i,e,n,o){const s=await iI(i.localStore,hr(e)),l=s.targetId,h=i.sharedClientState.addLocalQueryTarget(l,n);let f;return o&&(f=await bI(i,e,l,h==="current",s.resumeToken)),i.isPrimaryClient&&n&&By(i.remoteStore,s),f}async function bI(i,e,n,o,s){i.Ua=(E,I,P)=>async function(B,L,Q,te){let ae=L.view.ga(Q);ae.ss&&(ae=await Jm(B.localStore,L.query,!1).then(({documents:V})=>L.view.ga(V,ae)));const ye=te&&te.targetChanges.get(L.targetId),Ie=te&&te.targetMismatches.get(L.targetId)!=null,Pe=L.view.applyChanges(ae,B.isPrimaryClient,ye,Ie);return sg(B,L.targetId,Pe.ba),Pe.snapshot}(i,E,I,P);const l=await Jm(i.localStore,e,!0),h=new DI(e,l.ds),f=h.ga(l.documents),p=Pa.createSynthesizedTargetChangeForCurrentChange(n,o&&i.onlineState!=="Offline",s),y=h.applyChanges(f,i.isPrimaryClient,p);sg(i,n,y.ba);const _=new VI(e,n,h);return i.xa.set(e,_),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),y.snapshot}async function FI(i,e,n){const o=ke(i),s=o.xa.get(e),l=o.Oa.get(s.targetId);if(l.length>1)return o.Oa.set(s.targetId,l.filter(h=>!Ou(h,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await Jh(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),n&&Af(o.remoteStore,s.targetId),ef(o,s.targetId)}).catch(ls)):(ef(o,s.targetId),await Jh(o.localStore,s.targetId,!0))}async function jI(i,e){const n=ke(i),o=n.xa.get(e),s=n.Oa.get(o.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Af(n.remoteStore,o.targetId))}async function UI(i,e,n){const o=QI(i);try{const s=await function(h,f){const p=ke(h),y=St.now(),_=f.reduce((P,x)=>P.add(x.key),Le());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let x=Mr(),B=Le();return p.hs.getEntries(P,_).next(L=>{x=L,x.forEach((Q,te)=>{te.isValidDocument()||(B=B.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,x)).next(L=>{E=L;const Q=[];for(const te of f){const ae=oT(te,E.get(te.key).overlayedDocument);ae!=null&&Q.push(new Zi(te.key,ae,oy(ae.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Q,f)}).next(L=>{I=L;const Q=L.applyToLocalDocumentSet(E,B);return p.documentOverlayCache.saveOverlays(P,L.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:gy(E)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new ut(be)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(o,s.batchId,n),await xa(o,s.changes),await Bu(o.remoteStore)}catch(s){const l=Df(s,"Failed to persist write");n.reject(l)}}async function Zy(i,e){const n=ke(i);try{const o=await tI(n.localStore,e);e.targetChanges.forEach((s,l)=>{const h=n.Ba.get(l);h&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.Fa=!0:s.modifiedDocuments.size>0?Qe(h.Fa):s.removedDocuments.size>0&&(Qe(h.Fa),h.Fa=!1))}),await xa(n,o,e)}catch(o){await ls(o)}}function og(i,e,n){const o=ke(i);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const s=[];o.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(h,f){const p=ke(h);p.onlineState=f;let y=!1;p.queries.forEach((_,E)=>{for(const I of E.J_)I.ea(f)&&(y=!0)}),y&&Vf(p)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function BI(i,e,n){const o=ke(i);o.sharedClientState.updateQueryState(e,"rejected",n);const s=o.Ba.get(e),l=s&&s.key;if(l){let h=new ut(_e.comparator);h=h.insert(l,Qt.newNoDocument(l,Ce.min()));const f=Le().add(l),p=new Fu(Ce.min(),new Map,new ut(be),h,f);await Zy(o,p),o.La=o.La.remove(l),o.Ba.delete(e),Nf(o)}else await Jh(o.localStore,e,!1).then(()=>ef(o,e,n)).catch(ls)}async function zI(i,e){const n=ke(i),o=e.batch.batchId;try{const s=await eI(n.localStore,e);tv(n,o,null),ev(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await xa(n,s)}catch(s){await ls(s)}}async function $I(i,e,n){const o=ke(i);try{const s=await function(h,f){const p=ke(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(E=>(Qe(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(o.localStore,e);tv(o,e,n),ev(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await xa(o,s)}catch(s){await ls(s)}}function ev(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function tv(i,e,n){const o=ke(i);let s=o.qa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(n?l.reject(n):l.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function ef(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Oa.get(e))i.xa.delete(o),n&&i.Ma.Wa(o,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(o=>{i.ka.containsKey(o)||nv(i,o)})}function nv(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Af(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Nf(i))}function sg(i,e,n){for(const o of n)o instanceof Yy?(i.ka.addReference(o.key,e),qI(i,o)):o instanceof Xy?(ce("SyncEngine","Document no longer in limbo: "+o.key),i.ka.removeReference(o.key,e),i.ka.containsKey(o.key)||nv(i,o.key)):Re()}function qI(i,e){const n=e.key,o=n.path.canonicalString();i.La.get(n)||i.Na.has(o)||(ce("SyncEngine","New document in limbo: "+n),i.Na.add(o),Nf(i))}function Nf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new _e(tt.fromString(e)),o=i.Ka.next();i.Ba.set(o,new NI(n)),i.La=i.La.insert(n,o),By(i.remoteStore,new li(hr(vf(n.path)),o,"TargetPurposeLimboResolution",Du.oe))}}async function xa(i,e,n){const o=ke(i),s=[],l=[],h=[];o.xa.isEmpty()||(o.xa.forEach((f,p)=>{h.push(o.Ua(p,e,n).then(y=>{var _;if((y||n)&&o.isPrimaryClient){const E=y?!y.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;o.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){s.push(y);const E=Rf.zi(p.targetId,y);l.push(E)}}))}),await Promise.all(h),o.Ma.R_(s),await async function(p,y){const _=ke(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(y,I=>Y.forEach(I.Wi,P=>_.persistence.referenceDelegate.addReference(E,I.targetId,P)).next(()=>Y.forEach(I.Gi,P=>_.persistence.referenceDelegate.removeReference(E,I.targetId,P)))))}catch(E){if(!us(E))throw E;ce("LocalStore","Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const P=_.us.get(I),x=P.snapshotVersion,B=P.withLastLimboFreeSnapshotVersion(x);_.us=_.us.insert(I,B)}}}(o.localStore,l))}async function HI(i,e){const n=ke(i);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const o=await by(n.localStore,e);n.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new he(X.CANCELLED,h))})}),l.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await xa(n,o.Ts)}}function WI(i,e){const n=ke(i),o=n.Ba.get(e);if(o&&o.Fa)return Le().add(o.key);{let s=Le();const l=n.Oa.get(e);if(!l)return s;for(const h of l){const f=n.xa.get(h);s=s.unionWith(f.view.fa)}return s}}function rv(i){const e=ke(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BI.bind(null,e),e.Ma.R_=kI.bind(null,e.eventManager),e.Ma.Wa=xI.bind(null,e.eventManager),e}function QI(i){const e=ke(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$I.bind(null,e),e}class Ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ju(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return ZT(this.persistence,new XT,e.initialUser,this.serializer)}ja(e){return new My(Sf.ei,this.serializer)}za(e){return new sI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ru.provider={build:()=>new Ru};class GI extends Ru{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Qe(this.persistence.referenceDelegate instanceof Iu);const o=this.persistence.referenceDelegate.garbageCollector;return new MT(o,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new My(o=>Iu.ei(o,n),this.serializer)}}class tf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>og(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=HI.bind(null,this.syncEngine),await AI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PI}()}createDatastore(e){const n=ju(e.databaseInfo.databaseId),o=function(l){return new cI(l)}(e.databaseInfo);return function(l,h,f,p){return new dI(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,s,l,h,f){return new mI(o,s,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,n=>og(this.syncEngine,n,0),function(){return eg.p()?new eg:new aI}())}createSyncEngine(e,n){return function(s,l,h,f,p,y,_){const E=new OI(s,l,h,f,p,y);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const l=ke(s);ce("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await ka(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tf.provider={build:()=>new tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,o,s,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=s,this.user=Wt.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async h=>{ce("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(ce("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Df(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Dh(i,e){i.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(async s=>{o.isEqual(s)||(await by(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function ag(i,e){i.asyncQueue.verifyOperationInProgress();const n=await YI(i);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(o=>tg(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,s)=>tg(e.remoteStore,s)),i._onlineComponents=e}async function YI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Dh(i,new Ru)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Dh(i,new GI(void 0));return i._offlineComponents}async function ov(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await ag(i,i._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await ag(i,new tf))),i._onlineComponents}function XI(i){return ov(i).then(e=>e.syncEngine)}async function sv(i){const e=await ov(i),n=e.eventManager;return n.onListen=LI.bind(null,e.syncEngine),n.onUnlisten=FI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jI.bind(null,e.syncEngine),n}function JI(i,e,n={}){const o=new Nr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new iv({next:I=>{_.eu(),h.enqueueAndForget(()=>Gy(l,E));const P=I.docs.has(f);!P&&I.fromCache?y.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&p&&p.source==="server"?y.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new Ky(vf(f.path),_,{includeMetadataChanges:!0,ua:!0});return Qy(l,E)}(await sv(i),i.asyncQueue,e,n,o)),o.promise}function ZI(i,e,n={}){const o=new Nr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new iv({next:I=>{_.eu(),h.enqueueAndForget(()=>Gy(l,E)),I.fromCache&&p.source==="server"?y.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new Ky(f,_,{includeMetadataChanges:!0,ua:!0});return Qy(l,E)}(await sv(i),i.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i,e,n){if(!n)throw new he(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eS(i,e,n,o){if(e===!0&&o===!0)throw new he(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ug(i){if(!_e.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cg(i){if(_e.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function zu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re()}function vi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zu(i);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $u{constructor(e,n,o,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hg(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new f1;switch(o.type){case"firstParty":return new g1(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=lg.get(n);o&&(ce("ComponentProvider","Removing Datastore"),lg.delete(n),o.terminate())}(this),Promise.resolve()}}function tS(i,e,n,o={}){var s;const l=(i=vi(i,$u))._getSettings(),h=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),o.mockUserToken){let f,p;if(typeof o.mockUserToken=="string")f=o.mockUserToken,p=Wt.MOCK_USER;else{f=Qw(o.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wt(y)}i._authCredentials=new d1(new ty(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wi(this.firestore,e,this._query)}}class un{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class hi extends wi{constructor(e,n,o){super(e,n,vf(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new _e(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function nS(i,e,...n){if(i=Ko(i),lv("collection","path",e),i instanceof $u){const o=tt.fromString(e,...n);return cg(o),new hi(i,null,o)}{if(!(i instanceof un||i instanceof hi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tt.fromString(e,...n));return cg(o),new hi(i.firestore,null,o)}}function aa(i,e,...n){if(i=Ko(i),arguments.length===1&&(e=ny.newId()),lv("doc","path",e),i instanceof $u){const o=tt.fromString(e,...n);return ug(o),new un(i,null,new _e(o))}{if(!(i instanceof un||i instanceof hi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tt.fromString(e,...n));return ug(o),new un(i.firestore,i instanceof hi?i.converter:null,new _e(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new jy(this,"async_queue_retry"),this.fu=()=>{const o=xh();o&&ce("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const n=xh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Nr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!us(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(o);throw Lr("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=n,n}enqueueAfterDelay(e,n,o){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=xf.createAndSchedule(this,e,n,o,l=>this.Su(l));return this.du.push(s),s}pu(){this.Au&&Re()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Da extends $u{constructor(e,n,o,s){super(e,n,o,s),this.type="firestore",this._queue=new fg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fg(e),this._firestoreClient=void 0,await e}}}function rS(i,e){const n=typeof i=="object"?i:n1(),o=typeof i=="string"?i:"(default)",s=JE(n,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=Hw("firestore");l&&tS(s,...l)}return s}function Of(i){if(i._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iS(i),i._firestoreClient}function iS(i){var e,n,o;const s=i._freezeSettings(),l=function(f,p,y,_){return new D1(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,av(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new KI(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(Ut.fromBase64String(e))}catch(n){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=/^__.*__$/;class sS{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ca(e,this.data,n,this.fieldTransforms)}}function cv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Ff{constructor(e,n,o,s,l,h){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Lu(e),s}Bu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Au(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(cv(this.Mu)&&oS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class aS{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||ju(e)}$u(e,n,o,s=!1){return new Ff({Mu:e,methodName:n,Ku:o,path:jt.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(i){const e=i._freezeSettings(),n=ju(i._databaseId);return new aS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function hv(i,e,n,o,s,l={}){const h=i.$u(l.merge||l.mergeFields?2:0,e,n,s);pv("Data must be an object, but it was:",h,o);const f=fv(o,h);let p,y;if(l.merge)p=new Kn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const I=uS(e,E,n);if(!h.contains(I))throw new he(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);hS(_,I)||_.push(I)}p=new Kn(_),y=h.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=h.fieldTransforms;return new sS(new xn(f),p,y)}function lS(i,e,n,o=!1){return Uf(n,i.$u(o?4:3,e))}function Uf(i,e){if(dv(i=Ko(i)))return pv("Unsupported field value:",e,i),fv(i,e);if(i instanceof uv)return function(o,s){if(!cv(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const l=[];let h=0;for(const f of o){let p=Uf(f,s.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(o,s){if((o=Ko(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Z1(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=St.fromDate(o);return{timestampValue:Tu(s.serializer,l)}}if(o instanceof St){const l=new St(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Tu(s.serializer,l)}}if(o instanceof Mf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ns)return{bytesValue:ky(s.serializer,o._byteString)};if(o instanceof un){const l=s.databaseId,h=o.firestore._databaseId;if(!h.isEqual(l))throw s.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tf(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof bf)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return _f(f.serializer,p)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${zu(o)}`)}(i,e)}function fv(i,e){const n={};return ry(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(o,s)=>{const l=Uf(s,e.Ou(o));l!=null&&(n[o]=l)}),{mapValue:{fields:n}}}function dv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Mf||i instanceof ns||i instanceof un||i instanceof uv||i instanceof bf)}function pv(i,e,n){if(!dv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const o=zu(n);throw o==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+o)}}function uS(i,e,n){if((e=Ko(e))instanceof Lf)return e._internalPath;if(typeof e=="string")return mv(i,e);throw Au("Field path arguments must be of type string or ",i,!1,void 0,n)}const cS=new RegExp("[~\\*/\\[\\]]");function mv(i,e,n){if(e.search(cS)>=0)throw Au(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Lf(...e.split("."))._internalPath}catch{throw Au(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Au(i,e,n,o,s){const l=o&&!o.isEmpty(),h=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${o}`),h&&(p+=` in document ${s}`),p+=")"),new he(X.INVALID_ARGUMENT,f+i+p)}function hS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,o,s,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fS extends gv{data(){return super.data()}}function Bf(i,e){return typeof e=="string"?mv(i,e):e instanceof Lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zf{}class $f extends zf{}function pS(i,e,...n){let o=[];e instanceof zf&&o.push(e),o=o.concat(n),function(l){const h=l.filter(p=>p instanceof Hf).length,f=l.filter(p=>p instanceof qf).length;if(h>1||h>0&&f>0)throw new he(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const s of o)i=s._apply(i);return i}class qf extends $f{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new qf(e,n,o)}_apply(e){const n=this._parse(e);return yv(e._query,n),new wi(e.firestore,e.converter,Qh(e._query,n))}_parse(e){const n=jf(e.firestore);return function(l,h,f,p,y,_,E){let I;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pg(E,_);const P=[];for(const x of E)P.push(dg(p,l,x));I={arrayValue:{values:P}}}else I=dg(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pg(E,_),I=lS(f,h,E,_==="in"||_==="not-in");return wt.create(y,_,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Hf extends zf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hf(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,l){let h=s;const f=l.getFlattenedFilters();for(const p of f)yv(h,p),h=Qh(h,p)}(e._query,n),new wi(e.firestore,e.converter,Qh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wf extends $f{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wf(e,n)}_apply(e){const n=function(s,l,h){if(s.startAt!==null)throw new he(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ea(l,h)}(e._query,this._field,this._direction);return new wi(e.firestore,e.converter,function(s,l){const h=s.explicitOrderBy.concat([l]);return new cs(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function mS(i,e="asc"){const n=e,o=Bf("orderBy",i);return Wf._create(o,n)}class Qf extends $f{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new Qf(e,n,o)}_apply(e){return new wi(e.firestore,e.converter,_u(e._query,this._limit,this._limitType))}}function gS(i){return Qf._create("limit",i,"F")}function dg(i,e,n){if(typeof(n=Ko(n))=="string"){if(n==="")throw new he(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(e)&&n.indexOf("/")!==-1)throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(o))throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Om(i,new _e(o))}if(n instanceof un)return Om(i,n._key);throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zu(n)}.`)}function pg(i,e){if(!Array.isArray(i)||i.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yv(i,e){const n=function(s,l){for(const h of s)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yS{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Xi(e,(s,l)=>{o[s]=this.convertValue(l,n)}),o}convertVectorValue(e){var n,o,s;const l=(s=(o=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(h=>mt(h.doubleValue));return new bf(l)}convertGeoPoint(e){return new Mf(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Nu(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=pi(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=tt.fromString(e);Qe(Ly(o));const s=new _a(o.get(1),o.get(3)),l=new _e(o.popFirst(5));return s.isEqual(n)||Lr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(i,e,n){let o;return o=i?i.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _v extends gv{constructor(e,n,o,s,l,h){super(e,n,o,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Bf("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class hu extends _v{data(e={}){return super.data(e)}}class vS{constructor(e,n,o,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new la(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new hu(this._firestore,this._userDataWriter,o.key,o,new la(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(f=>{const p=new hu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new la(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new hu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new la(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:_S(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _S(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){i=vi(i,un);const e=vi(i.firestore,Da);return JI(Of(e),i._key).then(n=>IS(e,i,n))}class wv extends yS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function wS(i){i=vi(i,wi);const e=vi(i.firestore,Da),n=Of(e),o=new wv(e);return dS(i._query),ZI(n,i._query).then(s=>new vS(e,o,i,s))}function ES(i,e,n){i=vi(i,un);const o=vi(i.firestore,Da),s=vv(i.converter,e);return Ev(o,[hv(jf(o),"setDoc",i._key,s,i.converter!==null,n).toMutation(i._key,fr.none())])}function TS(i,e){const n=vi(i.firestore,Da),o=aa(i),s=vv(i.converter,e);return Ev(n,[hv(jf(i.firestore),"addDoc",o._key,s,i.converter!==null,{}).toMutation(o._key,fr.exists(!1))]).then(()=>o)}function Ev(i,e){return function(o,s){const l=new Nr;return o.asyncQueue.enqueueAndForget(async()=>UI(await XI(o),s,l)),l.promise}(Of(i),e)}function IS(i,e,n){const o=n.docs.get(e._key),s=new wv(i);return new _v(i,s,e._key,o,new la(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){as=s})(t1),gu(new ma("firestore",(o,{instanceIdentifier:s,options:l})=>{const h=o.getProvider("app").getImmediate(),f=new Da(new p1(o.getProvider("auth-internal")),new v1(o.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(y.options.projectId,_)}(h,s),h);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Qo(Pm,"4.7.5",e),Qo(Pm,"4.7.5","esm2017")})();var SS="firebase",RS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo(SS,RS,"app");const AS=Wg({apiKey:"AIzaSyC0hiRVfQuoHp9aSAVFq89da6XkX2G_TeM",authDomain:"youngkillan-eee4e.firebaseapp.com",projectId:"youngkillan-eee4e"}),ua=rS(AS),CS=()=>{const[i,e]=W.useState(0),n=nS(ua,"clicks"),o=async()=>{try{const l=pS(n,mS("timestamp","desc"),gS(1)),h=await wS(l);if(!h.empty){const f=h.docs[0].data();e(f.count||0)}}catch(l){console.error("Erro ao buscar cliques:",l)}},s=async()=>{try{const l=i+1;await TS(n,{count:l,timestamp:new Date}),e(l)}catch(l){console.error("Erro ao registrar clique:",l)}};return W.useEffect(()=>{o()},[]),{getClicks:o,storeClick:s,click:i}},bt=[];for(let i=0;i<256;++i)bt.push((i+256).toString(16).slice(1));function PS(i,e=0){return(bt[i[e+0]]+bt[i[e+1]]+bt[i[e+2]]+bt[i[e+3]]+"-"+bt[i[e+4]]+bt[i[e+5]]+"-"+bt[i[e+6]]+bt[i[e+7]]+"-"+bt[i[e+8]]+bt[i[e+9]]+"-"+bt[i[e+10]]+bt[i[e+11]]+bt[i[e+12]]+bt[i[e+13]]+bt[i[e+14]]+bt[i[e+15]]).toLowerCase()}let Nh;const kS=new Uint8Array(16);function xS(){if(!Nh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nh=crypto.getRandomValues.bind(crypto)}return Nh(kS)}const DS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mg={randomUUID:DS};function VS(i,e,n){if(mg.randomUUID&&!e&&!i)return mg.randomUUID();i=i||{};const o=i.random||(i.rng||xS)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,PS(o)}const NS=()=>{let i=localStorage.getItem("clientId");return i||(i=VS(),localStorage.setItem("clientId",i)),i},OS=()=>{const i=NS(),[e,n]=W.useState({id:"",clicked:!1,when:"",client:""}),o=async()=>{try{if(!i)return;const l=aa(ua,"clients",i),h=await Vh(l);if(!h.exists())return;const f=aa(ua,"participants",i),p={id:i,clicked:!0,when:new Date,client:h.data()};console.log(h.data()),await ES(f,p),n(p)}catch(l){console.error("Error to register click: "+l)}},s=async()=>{try{if(!i)return;const l=aa(ua,"clients",i);if(!(await Vh(l)).exists())return;const f=aa(ua,"participants",i),p=await Vh(f);console.log(p.data()),p.exists()?n(p.data()):n(y=>({...y,id:"",clicked:!1,when:"",client:""}))}catch(l){console.error("Error to get participant:  ",l)}};return W.useEffect(()=>{s()},[]),{participant:e,registerClick:o}},Va=W.createContext(),LS=({children:i})=>{const{timesLeft:e}=Lw(),{click:n,storeClick:o}=CS(),{participant:s,registerClick:l}=OS();return we.jsx(Va.Provider,{value:{timesLeft:e,click:n,storeClick:o,participant:s,registerClick:l},children:i})},MS={dias:0,horas:0,mins:0,seg:0};function bS(){const{timesLeft:i,click:e,participant:n}=W.useContext(Va);return we.jsx("nav",{className:"flex items-center justify-end gap-2 mt-4 md:mt-10",children:we.jsxs("div",{className:"flex items-center gap-2 flex-col text-white",children:[we.jsxs("div",{className:"text-sm font-bold",children:["NUMERO DE PARTICIPANTES : ",e]}),we.jsx("div",{className:"flex gap-4 text-sm font-bold",children:!n.clicked&&Object.entries(MS).map(([o,s],l)=>we.jsxs("div",{className:"flex flex-col items-center justify-center",children:[we.jsx("span",{children:s}),we.jsx("span",{className:"hidden md:flex",children:o})]},l))})]})})}function FS(){return we.jsx("header",{className:`w-full bg-transparent opacity- flex 
         items-center justify-center  px-2`,children:we.jsxs("div",{className:"container flex items-start justify-between p-4 px-0",children:[we.jsx(Ow,{}),we.jsx(bS,{})]})})}function jS(){W.useContext(Va);const i=async()=>{};return we.jsxs("a",{onClick:i,href:"#",className:`btn-color relative inline-block  rounded-sm shadow-2xl bg-transparent text-blue-950  font-normal p-3 px-6 rounded-0 group overflow-hidden hover:bg-gradient-to-r border border-white
        bg-white
           hover:font-semibold
           hover:text-white`,children:["Quero participar",we.jsx("span",{className:"absolute inset-0 w-full h-full bg-blue-300 opacity-0 group-hover:opacity-50 group-hover:translate-x-full transition-all duration-500 rounded-full"})]})}function Tv({children:i}){return we.jsx("div",{className:" relative w-full h-full flex items-center justify-center",children:i})}function US(){return we.jsxs("div",{className:"container flex flex-col gap-8 md:gap-4 w-full lg:w-[75%] text-white ",children:[we.jsx("p",{className:"text-xl md:text-2xl lg:text-4xl font-light leading-[40px] lg:leading-[50px] font-party",children:"Para poder participar, voce precisa preencher os pr-requisitos: Increveve-se ao canal youtube, like e comenta no ltimo video, siga ASKIP no instagram."}),we.jsx("p",{className:"text-sm md:text-md lg:text-2xl font-semiBold italic leading-snug city",children:" OBS: Todas as etapas so de caracter obrigatrio"}),we.jsx("p",{className:"text-sm md:text-md lg:text-2xl   leading-snug city",children:"A falta de uma das etapas te tornar ilegivel ao prmio"})]})}function Iv({children:i,className:e}){return we.jsx("div",{className:`container w-full flex-col flex  items-center justify-center bg-transparent p-4 gap-5 z-10 ${e&&e} overflow-x-hidden`,children:i})}function BS(){return we.jsx(Tv,{children:we.jsxs(Iv,{className:"md:justify-center gap-36 py-4",children:[we.jsx(US,{}),we.jsx(jS,{})]})})}var fu={exports:{}},zS=fu.exports,gg;function $S(){return gg||(gg=1,function(i,e){(function(n,o){i.exports=o(_i())})(typeof self<"u"?self:zS,function(n){return function(o){var s={};function l(h){if(s[h])return s[h].exports;var f=s[h]={i:h,l:!1,exports:{}};return o[h].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=o,l.c=s,l.d=function(h,f,p){l.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:p})},l.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,f){if(1&f&&(h=l(h)),8&f||4&f&&typeof h=="object"&&h&&h.__esModule)return h;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),2&f&&typeof h!="string")for(var y in h)l.d(p,y,(function(_){return h[_]}).bind(null,y));return p},l.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(f,"a",f),f},l.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},l.p="",l(l.s=2)}([function(o,s){o.exports=n},function(o,s,l){var h={linear:function(f,p,y,_){return(y-p)*f/_+p},easeInQuad:function(f,p,y,_){return(y-p)*(f/=_)*f+p},easeOutQuad:function(f,p,y,_){return-(y-p)*(f/=_)*(f-2)+p},easeInOutQuad:function(f,p,y,_){var E=y-p;return(f/=_/2)<1?E/2*f*f+p:-E/2*(--f*(f-2)-1)+p},easeInCubic:function(f,p,y,_){return(y-p)*(f/=_)*f*f+p},easeOutCubic:function(f,p,y,_){return(y-p)*((f=f/_-1)*f*f+1)+p},easeInOutCubic:function(f,p,y,_){var E=y-p;return(f/=_/2)<1?E/2*f*f*f+p:E/2*((f-=2)*f*f+2)+p},easeInQuart:function(f,p,y,_){return(y-p)*(f/=_)*f*f*f+p},easeOutQuart:function(f,p,y,_){return-(y-p)*((f=f/_-1)*f*f*f-1)+p},easeInOutQuart:function(f,p,y,_){var E=y-p;return(f/=_/2)<1?E/2*f*f*f*f+p:-E/2*((f-=2)*f*f*f-2)+p},easeInQuint:function(f,p,y,_){return(y-p)*(f/=_)*f*f*f*f+p},easeOutQuint:function(f,p,y,_){return(y-p)*((f=f/_-1)*f*f*f*f+1)+p},easeInOutQuint:function(f,p,y,_){var E=y-p;return(f/=_/2)<1?E/2*f*f*f*f*f+p:E/2*((f-=2)*f*f*f*f+2)+p},easeInSine:function(f,p,y,_){var E=y-p;return-E*Math.cos(f/_*(Math.PI/2))+E+p},easeOutSine:function(f,p,y,_){return(y-p)*Math.sin(f/_*(Math.PI/2))+p},easeInOutSine:function(f,p,y,_){return-(y-p)/2*(Math.cos(Math.PI*f/_)-1)+p},easeInExpo:function(f,p,y,_){return f==0?p:(y-p)*Math.pow(2,10*(f/_-1))+p},easeOutExpo:function(f,p,y,_){var E=y-p;return f==_?p+E:E*(1-Math.pow(2,-10*f/_))+p},easeInOutExpo:function(f,p,y,_){var E=y-p;return f===0?p:f===_?p+E:(f/=_/2)<1?E/2*Math.pow(2,10*(f-1))+p:E/2*(2-Math.pow(2,-10*--f))+p},easeInCirc:function(f,p,y,_){return-(y-p)*(Math.sqrt(1-(f/=_)*f)-1)+p},easeOutCirc:function(f,p,y,_){return(y-p)*Math.sqrt(1-(f=f/_-1)*f)+p},easeInOutCirc:function(f,p,y,_){var E=y-p;return(f/=_/2)<1?-E/2*(Math.sqrt(1-f*f)-1)+p:E/2*(Math.sqrt(1-(f-=2)*f)+1)+p},easeInElastic:function(f,p,y,_){var E,I,P,x=y-p;return P=1.70158,f===0?p:(f/=_)==1?p+x:((I=0)||(I=.3*_),(E=x)<Math.abs(x)?(E=x,P=I/4):P=I/(2*Math.PI)*Math.asin(x/E),-E*Math.pow(2,10*(f-=1))*Math.sin((f*_-P)*(2*Math.PI)/I)+p)},easeOutElastic:function(f,p,y,_){var E,I,P,x=y-p;return P=1.70158,f===0?p:(f/=_)==1?p+x:((I=0)||(I=.3*_),(E=x)<Math.abs(x)?(E=x,P=I/4):P=I/(2*Math.PI)*Math.asin(x/E),E*Math.pow(2,-10*f)*Math.sin((f*_-P)*(2*Math.PI)/I)+x+p)},easeInOutElastic:function(f,p,y,_){var E,I,P,x=y-p;return P=1.70158,f===0?p:(f/=_/2)==2?p+x:((I=0)||(I=_*.44999999999999996),(E=x)<Math.abs(x)?(E=x,P=I/4):P=I/(2*Math.PI)*Math.asin(x/E),f<1?E*Math.pow(2,10*(f-=1))*Math.sin((f*_-P)*(2*Math.PI)/I)*-.5+p:E*Math.pow(2,-10*(f-=1))*Math.sin((f*_-P)*(2*Math.PI)/I)*.5+x+p)},easeInBack:function(f,p,y,_,E){return E===void 0&&(E=1.70158),(y-p)*(f/=_)*f*((E+1)*f-E)+p},easeOutBack:function(f,p,y,_,E){return E===void 0&&(E=1.70158),(y-p)*((f=f/_-1)*f*((E+1)*f+E)+1)+p},easeInOutBack:function(f,p,y,_,E){var I=y-p;return E===void 0&&(E=1.70158),(f/=_/2)<1?I/2*(f*f*((1+(E*=1.525))*f-E))+p:I/2*((f-=2)*f*((1+(E*=1.525))*f+E)+2)+p},easeInBounce:function(f,p,y,_){var E=y-p;return E-h.easeOutBounce(_-f,0,E,_)+p},easeOutBounce:function(f,p,y,_){var E=y-p;return(f/=_)<.36363636363636365?E*(7.5625*f*f)+p:f<.7272727272727273?E*(7.5625*(f-=.5454545454545454)*f+.75)+p:f<.9090909090909091?E*(7.5625*(f-=.8181818181818182)*f+.9375)+p:E*(7.5625*(f-=.9545454545454546)*f+.984375)+p},easeInOutBounce:function(f,p,y,_){var E=y-p;return f<_/2?.5*h.easeInBounce(2*f,0,E,_)+p:.5*h.easeOutBounce(2*f-_,0,E,_)+.5*E+p}};o.exports=h},function(o,s,l){o.exports=l(3)},function(o,s,l){l.r(s),l.d(s,"ReactConfetti",function(){return Fe});var h,f,p=l(0),y=l.n(p),_=l(1),E=l.n(_);function I(z,H){return z+Math.random()*(H-z)}function P(z,H){for(var J=0;J<H.length;J++){var G=H[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,G.key,G)}}function x(z,H,J){return H in z?Object.defineProperty(z,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[H]=J,z}(function(z){z[z.Circle=0]="Circle",z[z.Square=1]="Square",z[z.Strip=2]="Strip"})(h||(h={})),function(z){z[z.Positive=1]="Positive",z[z.Negative=-1]="Negative"}(f||(f={}));var B=function(){function z(G,Oe,se,Ae){(function(cn,yr){if(!(cn instanceof yr))throw new TypeError("Cannot call a class as a function")})(this,z),x(this,"context",void 0),x(this,"radius",void 0),x(this,"x",void 0),x(this,"y",void 0),x(this,"w",void 0),x(this,"h",void 0),x(this,"vx",void 0),x(this,"vy",void 0),x(this,"shape",void 0),x(this,"angle",void 0),x(this,"angularSpin",void 0),x(this,"color",void 0),x(this,"rotateY",void 0),x(this,"rotationDirection",void 0),x(this,"getOptions",void 0),this.getOptions=Oe;var $e,Ke,He=this.getOptions(),Jt=He.colors,Ct=He.initialVelocityX,ft=He.initialVelocityY;this.context=G,this.x=se,this.y=Ae,this.w=I(5,20),this.h=I(5,20),this.radius=I(5,10),this.vx=typeof Ct=="number"?I(-Ct,Ct):I(Ct.min,Ct.max),this.vy=typeof ft=="number"?I(-ft,0):I(ft.min,ft.max),this.shape=($e=0,Ke=2,Math.floor($e+Math.random()*(Ke-$e+1))),this.angle=I(0,360)*Math.PI/180,this.angularSpin=I(-.2,.2),this.color=Jt[Math.floor(Math.random()*Jt.length)],this.rotateY=I(0,1),this.rotationDirection=I(0,1)?f.Positive:f.Negative}var H,J;return H=z,(J=[{key:"update",value:function(){var G=this.getOptions(),Oe=G.gravity,se=G.wind,Ae=G.friction,$e=G.opacity,Ke=G.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=Oe,this.vx+=se,this.vx*=Ae,this.vy*=Ae,this.rotateY>=1&&this.rotationDirection===f.Positive?this.rotationDirection=f.Negative:this.rotateY<=-1&&this.rotationDirection===f.Negative&&(this.rotationDirection=f.Positive);var He=.1*this.rotationDirection;if(this.rotateY+=He,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=$e,this.context.lineCap="round",this.context.lineWidth=2,Ke&&typeof Ke=="function")Ke.call(this,this.context);else switch(this.shape){case h.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case h.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case h.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&P(H.prototype,J),z}();function L(z,H,J){return H in z?Object.defineProperty(z,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[H]=J,z}var Q=function z(H,J){var G=this;(function(se,Ae){if(!(se instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,z),L(this,"canvas",void 0),L(this,"context",void 0),L(this,"getOptions",void 0),L(this,"x",0),L(this,"y",0),L(this,"w",0),L(this,"h",0),L(this,"lastNumberOfPieces",0),L(this,"tweenInitTime",Date.now()),L(this,"particles",[]),L(this,"particlesGenerated",0),L(this,"removeParticleAt",function(se){G.particles.splice(se,1)}),L(this,"getParticle",function(){var se=I(G.x,G.w+G.x),Ae=I(G.y,G.h+G.y);return new B(G.context,G.getOptions,se,Ae)}),L(this,"animate",function(){var se=G.canvas,Ae=G.context,$e=G.particlesGenerated,Ke=G.lastNumberOfPieces,He=G.getOptions(),Jt=He.run,Ct=He.recycle,ft=He.numberOfPieces,cn=He.debug,yr=He.tweenFunction,Xn=He.tweenDuration;if(!Jt)return!1;var Jn=G.particles.length,Dn=Ct?Jn:$e,ot=Date.now();if(Dn<ft){Ke!==ft&&(G.tweenInitTime=ot,G.lastNumberOfPieces=ft);for(var ct=G.tweenInitTime,Vn=yr(ot-ct>Xn?Xn:Math.max(0,ot-ct),Dn,ft,Xn),Fr=Math.round(Vn-Dn),Nn=0;Nn<Fr;Nn++)G.particles.push(G.getParticle());G.particlesGenerated+=Fr}return cn&&(Ae.font="12px sans-serif",Ae.fillStyle="#333",Ae.textAlign="right",Ae.fillText("Particles: ".concat(Jn),se.width-10,se.height-20)),G.particles.forEach(function(hn,Zn){hn.update(),(hn.y>se.height||hn.y<-100||hn.x>se.width+100||hn.x<-100)&&(Ct&&Dn<=ft?G.particles[Zn]=G.getParticle():G.removeParticleAt(Zn))}),Jn>0||Dn<ft}),this.canvas=H;var Oe=this.canvas.getContext("2d");if(!Oe)throw new Error("Could not get canvas context");this.context=Oe,this.getOptions=J};function te(z,H){var J=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);H&&(G=G.filter(function(Oe){return Object.getOwnPropertyDescriptor(z,Oe).enumerable})),J.push.apply(J,G)}return J}function ae(z){for(var H=1;H<arguments.length;H++){var J=arguments[H]!=null?arguments[H]:{};H%2?te(Object(J),!0).forEach(function(G){Ie(z,G,J[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(J)):te(Object(J)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(J,G))})}return z}function ye(z,H){for(var J=0;J<H.length;J++){var G=H[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,G.key,G)}}function Ie(z,H,J){return H in z?Object.defineProperty(z,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[H]=J,z}var Pe={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:E.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},V=function(){function z(G,Oe){var se=this;(function($e,Ke){if(!($e instanceof Ke))throw new TypeError("Cannot call a class as a function")})(this,z),Ie(this,"canvas",void 0),Ie(this,"context",void 0),Ie(this,"_options",void 0),Ie(this,"generator",void 0),Ie(this,"rafId",void 0),Ie(this,"setOptionsWithDefaults",function($e){var Ke={confettiSource:{x:0,y:0,w:se.canvas.width,h:0}};se._options=ae(ae(ae({},Ke),Pe),$e),Object.assign(se,$e.confettiSource)}),Ie(this,"update",function(){var $e=se.options,Ke=$e.run,He=$e.onConfettiComplete,Jt=se.canvas,Ct=se.context;Ke&&(Ct.fillStyle="white",Ct.clearRect(0,0,Jt.width,Jt.height)),se.generator.animate()?se.rafId=requestAnimationFrame(se.update):(He&&typeof He=="function"&&se.generator.particlesGenerated>0&&He.call(se,se),se._options.run=!1)}),Ie(this,"reset",function(){se.generator&&se.generator.particlesGenerated>0&&(se.generator.particlesGenerated=0,se.generator.particles=[],se.generator.lastNumberOfPieces=0)}),Ie(this,"stop",function(){se.options={run:!1},se.rafId&&(cancelAnimationFrame(se.rafId),se.rafId=void 0)}),this.canvas=G;var Ae=this.canvas.getContext("2d");if(!Ae)throw new Error("Could not get canvas context");this.context=Ae,this.generator=new Q(this.canvas,function(){return se.options}),this.options=Oe,this.update()}var H,J;return H=z,(J=[{key:"options",get:function(){return this._options},set:function(G){var Oe=this._options&&this._options.run,se=this._options&&this._options.recycle;this.setOptionsWithDefaults(G),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof G.recycle=="boolean"&&G.recycle&&se===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof G.run=="boolean"&&G.run&&Oe===!1&&this.update()}}])&&ye(H.prototype,J),z}();function S(z){return function(H){if(Array.isArray(H))return gt(H)}(z)||function(H){if(typeof Symbol<"u"&&Symbol.iterator in Object(H))return Array.from(H)}(z)||nt(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A(z){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(z)}function D(){return(D=Object.assign||function(z){for(var H=1;H<arguments.length;H++){var J=arguments[H];for(var G in J)Object.prototype.hasOwnProperty.call(J,G)&&(z[G]=J[G])}return z}).apply(this,arguments)}function O(z,H){var J=Object.keys(z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(z);H&&(G=G.filter(function(Oe){return Object.getOwnPropertyDescriptor(z,Oe).enumerable})),J.push.apply(J,G)}return J}function b(z){for(var H=1;H<arguments.length;H++){var J=arguments[H]!=null?arguments[H]:{};H%2?O(Object(J),!0).forEach(function(G){pe(z,G,J[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(J)):O(Object(J)).forEach(function(G){Object.defineProperty(z,G,Object.getOwnPropertyDescriptor(J,G))})}return z}function C(z,H){return function(J){if(Array.isArray(J))return J}(z)||function(J,G){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(J)))){var Oe=[],se=!0,Ae=!1,$e=void 0;try{for(var Ke,He=J[Symbol.iterator]();!(se=(Ke=He.next()).done)&&(Oe.push(Ke.value),!G||Oe.length!==G);se=!0);}catch(Jt){Ae=!0,$e=Jt}finally{try{se||He.return==null||He.return()}finally{if(Ae)throw $e}}return Oe}}(z,H)||nt(z,H)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nt(z,H){if(z){if(typeof z=="string")return gt(z,H);var J=Object.prototype.toString.call(z).slice(8,-1);return J==="Object"&&z.constructor&&(J=z.constructor.name),J==="Map"||J==="Set"?Array.from(z):J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J)?gt(z,H):void 0}}function gt(z,H){(H==null||H>z.length)&&(H=z.length);for(var J=0,G=new Array(H);J<H;J++)G[J]=z[J];return G}function At(z,H){if(!(z instanceof H))throw new TypeError("Cannot call a class as a function")}function We(z,H){for(var J=0;J<H.length;J++){var G=H[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,G.key,G)}}function oe(z,H){return(oe=Object.setPrototypeOf||function(J,G){return J.__proto__=G,J})(z,H)}function ve(z){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var J,G=K(z);if(H){var Oe=K(this).constructor;J=Reflect.construct(G,arguments,Oe)}else J=G.apply(this,arguments);return le(this,J)}}function le(z,H){return!H||A(H)!=="object"&&typeof H!="function"?M(z):H}function M(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function K(z){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(z)}function pe(z,H,J){return H in z?Object.defineProperty(z,H,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[H]=J,z}var De=y.a.createRef(),xe=function(z){(function(se,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Ae&&oe(se,Ae)})(Oe,z);var H,J,G=ve(Oe);function Oe(se){var Ae;At(this,Oe);for(var $e=arguments.length,Ke=new Array($e>1?$e-1:0),He=1;He<$e;He++)Ke[He-1]=arguments[He];return pe(M(Ae=G.call.apply(G,[this,se].concat(Ke))),"canvas",y.a.createRef()),pe(M(Ae),"confetti",void 0),Ae.canvas=se.canvasRef||De,Ae}return H=Oe,(J=[{key:"componentDidMount",value:function(){if(this.canvas.current){var se=Ve(this.props)[0];this.confetti=new V(this.canvas.current,se)}}},{key:"componentDidUpdate",value:function(){var se=Ve(this.props)[0];this.confetti&&(this.confetti.options=se)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var se=C(Ve(this.props),2),Ae=se[0],$e=se[1],Ke=b({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},$e.style);return y.a.createElement("canvas",D({width:Ae.width,height:Ae.height,ref:this.canvas},$e,{style:Ke}))}}])&&We(H.prototype,J),Oe}(p.Component);function Ve(z){var H={},J={},G=[].concat(S(Object.keys(Pe)),["confettiSource","drawShape","onConfettiComplete"]),Oe=["canvasRef"];for(var se in z){var Ae=z[se];G.includes(se)?H[se]=Ae:Oe.includes(se)?Oe[se]=Ae:J[se]=Ae}return[H,J,{}]}pe(xe,"defaultProps",b({},Pe)),pe(xe,"displayName","ReactConfetti");var Fe=y.a.forwardRef(function(z,H){return y.a.createElement(xe,D({canvasRef:H},z))});s.default=Fe}]).default})}(fu)),fu.exports}var qS=$S();const HS=Tg(qS);var eu={},nf=function(i,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},nf(i,e)};function Sv(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nf(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Cu=function(){return Cu=Object.assign||function(e){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Cu.apply(this,arguments)};function Rv(i,e){var n={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(i);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(i,o[s])&&(n[o[s]]=i[o[s]]);return n}function Av(i,e,n,o){var s=arguments.length,l=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,n,o);else for(var f=i.length-1;f>=0;f--)(h=i[f])&&(l=(s<3?h(l):s>3?h(e,n,l):h(e,n))||l);return s>3&&l&&Object.defineProperty(e,n,l),l}function Cv(i,e){return function(n,o){e(n,o,i)}}function Pv(i,e,n,o,s,l){function h(Q){if(Q!==void 0&&typeof Q!="function")throw new TypeError("Function expected");return Q}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",y=!e&&i?o.static?i:i.prototype:null,_=e||(y?Object.getOwnPropertyDescriptor(y,o.name):{}),E,I=!1,P=n.length-1;P>=0;P--){var x={};for(var B in o)x[B]=B==="access"?{}:o[B];for(var B in o.access)x.access[B]=o.access[B];x.addInitializer=function(Q){if(I)throw new TypeError("Cannot add initializers after decoration has completed");l.push(h(Q||null))};var L=(0,n[P])(f==="accessor"?{get:_.get,set:_.set}:_[p],x);if(f==="accessor"){if(L===void 0)continue;if(L===null||typeof L!="object")throw new TypeError("Object expected");(E=h(L.get))&&(_.get=E),(E=h(L.set))&&(_.set=E),(E=h(L.init))&&s.unshift(E)}else(E=h(L))&&(f==="field"?s.unshift(E):_[p]=E)}y&&Object.defineProperty(y,o.name,_),I=!0}function kv(i,e,n){for(var o=arguments.length>2,s=0;s<e.length;s++)n=o?e[s].call(i,n):e[s].call(i);return o?n:void 0}function xv(i){return typeof i=="symbol"?i:"".concat(i)}function Dv(i,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Vv(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function Nv(i,e,n,o){function s(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function f(_){try{y(o.next(_))}catch(E){h(E)}}function p(_){try{y(o.throw(_))}catch(E){h(E)}}function y(_){_.done?l(_.value):s(_.value).then(f,p)}y((o=o.apply(i,e||[])).next())})}function Ov(i,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,s,l,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=f(0),h.throw=f(1),h.return=f(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(y){return function(_){return p([y,_])}}function p(y){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(n=0)),n;)try{if(o=1,s&&(l=y[0]&2?s.return:y[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,y[1])).done)return l;switch(s=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return n.label++,{value:y[1],done:!1};case 5:n.label++,s=y[1],y=[0];continue;case 7:y=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){n=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){n.label=y[1];break}if(y[0]===6&&n.label<l[1]){n.label=l[1],l=y;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(y);break}l[2]&&n.ops.pop(),n.trys.pop();continue}y=e.call(i,n)}catch(_){y=[6,_],s=0}finally{o=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var qu=Object.create?function(i,e,n,o){o===void 0&&(o=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(i,o,s)}:function(i,e,n,o){o===void 0&&(o=n),i[o]=e[n]};function Lv(i,e){for(var n in i)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&qu(e,i,n)}function Pu(i){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&i[e],o=0;if(n)return n.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gf(i,e){var n=typeof Symbol=="function"&&i[Symbol.iterator];if(!n)return i;var o=n.call(i),s,l=[],h;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)l.push(s.value)}catch(f){h={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(h)throw h.error}}return l}function Mv(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Gf(arguments[e]));return i}function bv(){for(var i=0,e=0,n=arguments.length;e<n;e++)i+=arguments[e].length;for(var o=Array(i),s=0,e=0;e<n;e++)for(var l=arguments[e],h=0,f=l.length;h<f;h++,s++)o[s]=l[h];return o}function Fv(i,e,n){if(n||arguments.length===2)for(var o=0,s=e.length,l;o<s;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return i.concat(l||Array.prototype.slice.call(e))}function rs(i){return this instanceof rs?(this.v=i,this):new rs(i)}function jv(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(i,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",h),s[Symbol.asyncIterator]=function(){return this},s;function h(P){return function(x){return Promise.resolve(x).then(P,E)}}function f(P,x){o[P]&&(s[P]=function(B){return new Promise(function(L,Q){l.push([P,B,L,Q])>1||p(P,B)})},x&&(s[P]=x(s[P])))}function p(P,x){try{y(o[P](x))}catch(B){I(l[0][3],B)}}function y(P){P.value instanceof rs?Promise.resolve(P.value.v).then(_,E):I(l[0][2],P)}function _(P){p("next",P)}function E(P){p("throw",P)}function I(P,x){P(x),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Uv(i){var e,n;return e={},o("next"),o("throw",function(s){throw s}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(s,l){e[s]=i[s]?function(h){return(n=!n)?{value:rs(i[s](h)),done:!1}:l?l(h):h}:l}}function Bv(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],n;return e?e.call(i):(i=typeof Pu=="function"?Pu(i):i[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=i[l]&&function(h){return new Promise(function(f,p){h=i[l](h),s(f,p,h.done,h.value)})}}function s(l,h,f,p){Promise.resolve(p).then(function(y){l({value:y,done:f})},h)}}function zv(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var WS=Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e},rf=function(i){return rf=Object.getOwnPropertyNames||function(e){var n=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[n.length]=o);return n},rf(i)};function $v(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var n=rf(i),o=0;o<n.length;o++)n[o]!=="default"&&qu(e,i,n[o]);return WS(e,i),e}function qv(i){return i&&i.__esModule?i:{default:i}}function Hv(i,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(i):o?o.value:e.get(i)}function Wv(i,e,n,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(i,n):s?s.value=n:e.set(i,n),n}function Qv(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function Gv(i,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],n&&(s=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");s&&(o=function(){try{s.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:e,dispose:o,async:n})}else n&&i.stack.push({async:!0});return e}var QS=typeof SuppressedError=="function"?SuppressedError:function(i,e,n){var o=new Error(n);return o.name="SuppressedError",o.error=i,o.suppressed=e,o};function Kv(i){function e(l){i.error=i.hasError?new QS(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var n,o=0;function s(){for(;n=i.stack.pop();)try{if(!n.async&&o===1)return o=0,i.stack.push(n),Promise.resolve().then(s);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(l).then(s,function(h){return e(h),s()})}else o|=1}catch(h){e(h)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return s()}function Yv(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,s,l,h){return o?e?".jsx":".js":s&&(!l||!h)?n:s+l+"."+h.toLowerCase()+"js"}):i}const GS={__extends:Sv,__assign:Cu,__rest:Rv,__decorate:Av,__param:Cv,__esDecorate:Pv,__runInitializers:kv,__propKey:xv,__setFunctionName:Dv,__metadata:Vv,__awaiter:Nv,__generator:Ov,__createBinding:qu,__exportStar:Lv,__values:Pu,__read:Gf,__spread:Mv,__spreadArrays:bv,__spreadArray:Fv,__await:rs,__asyncGenerator:jv,__asyncDelegator:Uv,__asyncValues:Bv,__makeTemplateObject:zv,__importStar:$v,__importDefault:qv,__classPrivateFieldGet:Hv,__classPrivateFieldSet:Wv,__classPrivateFieldIn:Qv,__addDisposableResource:Gv,__disposeResources:Kv,__rewriteRelativeImportExtension:Yv},KS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Gv,get __assign(){return Cu},__asyncDelegator:Uv,__asyncGenerator:jv,__asyncValues:Bv,__await:rs,__awaiter:Nv,__classPrivateFieldGet:Hv,__classPrivateFieldIn:Qv,__classPrivateFieldSet:Wv,__createBinding:qu,__decorate:Av,__disposeResources:Kv,__esDecorate:Pv,__exportStar:Lv,__extends:Sv,__generator:Ov,__importDefault:qv,__importStar:$v,__makeTemplateObject:zv,__metadata:Vv,__param:Cv,__propKey:xv,__read:Gf,__rest:Rv,__rewriteRelativeImportExtension:Yv,__runInitializers:kv,__setFunctionName:Dv,__spread:Mv,__spreadArray:Fv,__spreadArrays:bv,__values:Pu,default:GS},Symbol.toStringTag,{value:"Module"})),Kf=e0(KS);var tu={},nu={},ru={},yg;function YS(){if(yg)return ru;yg=1,Object.defineProperty(ru,"__esModule",{value:!0});var i=_i(),e=function(n){i.useEffect(n,[])};return ru.default=e,ru}var vg;function XS(){if(vg)return nu;vg=1,Object.defineProperty(nu,"__esModule",{value:!0});var i=Kf,e=_i(),n=i.__importDefault(YS()),o=function(s){var l=e.useRef(s);l.current=s,n.default(function(){return function(){return l.current()}})};return nu.default=o,nu}var _g;function JS(){if(_g)return tu;_g=1,Object.defineProperty(tu,"__esModule",{value:!0});var i=Kf,e=_i(),n=i.__importDefault(XS()),o=function(s){var l=e.useRef(0),h=e.useState(s),f=h[0],p=h[1],y=e.useCallback(function(_){cancelAnimationFrame(l.current),l.current=requestAnimationFrame(function(){p(_)})},[]);return n.default(function(){cancelAnimationFrame(l.current)}),[f,y]};return tu.default=o,tu}var _n={},wg;function ZS(){if(wg)return _n;wg=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.isNavigator=_n.isBrowser=_n.off=_n.on=_n.noop=void 0;var i=function(){};_n.noop=i;function e(o){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];o&&o.addEventListener&&o.addEventListener.apply(o,s)}_n.on=e;function n(o){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];o&&o.removeEventListener&&o.removeEventListener.apply(o,s)}return _n.off=n,_n.isBrowser=typeof window<"u",_n.isNavigator=typeof navigator<"u",_n}var Eg;function eR(){if(Eg)return eu;Eg=1,Object.defineProperty(eu,"__esModule",{value:!0});var i=Kf,e=_i(),n=i.__importDefault(JS()),o=ZS(),s=function(l){var h=l===void 0?{}:l,f=h.initialWidth,p=f===void 0?1/0:f,y=h.initialHeight,_=y===void 0?1/0:y,E=h.onChange,I=n.default({width:o.isBrowser?window.innerWidth:p,height:o.isBrowser?window.innerHeight:_}),P=I[0],x=I[1];return e.useEffect(function(){if(o.isBrowser){var B=function(){var L=window.innerWidth,Q=window.innerHeight;x({width:L,height:Q}),E&&E(L,Q)};return o.on(window,"resize",B),function(){o.off(window,"resize",B)}}},[]),P};return eu.default=s,eu}var tR=eR();const nR=Tg(tR);function rR(){const{width:i,height:e}=nR();return we.jsx(HS,{width:i,height:e,recycle:!1,className:"overflow-hidden"})}function iR({label:i,value:e}){return we.jsxs("div",{className:"bg-white p-2 px-4 rounded-md border-2  flex flex-col  justify-center items-center",children:[we.jsx("div",{className:"text-md font-semibold text-black",children:e}),we.jsx("div",{className:"text-md text-black font-extralight",children:i})]})}function oR(){const{timesLeft:i}=W.useContext(Va);return we.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 items-center h-full w-full",children:Object.entries(i).map(([e,n],o)=>we.jsx(iR,{value:n,label:`${e.toString().charAt(0).toUpperCase()}${e.toString().slice(1)}`},o))})}const sR=()=>we.jsxs("div",{className:"justify-center items-center min-h-[250px] p-5 gap-10  max-w-7xl  shadow-sm shadow-white rounded-lg bg-white flex flex-col ",children:[we.jsx("p",{className:" text-black  text-lg font-medium text-center",children:"Parabns, voc concluir  primeira fase"}),we.jsxs("div",{className:"flex items-center flex-col gap-4  w-full",children:[we.jsx("p",{children:"Disponvel para:"}),we.jsx(oR,{})]})]});function aR(){return we.jsxs(Tv,{children:[we.jsx(rR,{}),we.jsx(Iv,{className:"items-center md:justify-center  flex-col",children:we.jsx(sR,{})})]})}const lR=()=>{const{participant:i}=W.useContext(Va),[e,n]=W.useState(!1);return W.useEffect(()=>{n(i.clicked)}),we.jsx("div",{className:"h-screen w-screen bg-gradient-to-tl from-green-950 via-blue-950 to-black animate-gradient bg-[length:400%_400%] flex flex-col",children:we.jsxs(Sw,{children:[we.jsx(FS,{}),we.jsx(ew,{children:we.jsx(Og,{path:"/",element:e?we.jsx(aR,{}):we.jsx(BS,{})})})]})})};u0.createRoot(document.getElementById("root")).render(we.jsx(W.StrictMode,{children:we.jsx(LS,{children:we.jsx(lR,{})})}));
